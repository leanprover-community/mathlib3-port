/-
Copyright (c) 2023 Chris Hughes. All rights reserved.
Released under Apache 2.0 license as described in the file LICENSE.
Authors: Chris Hughes
-/
import Data.MvPolynomial.Basic
import RingTheory.Algebraic
import Data.Fintype.Card

#align_import field_theory.ax_grothendieck from "leanprover-community/mathlib"@"61db041ab8e4aaf8cb5c7dc10a7d4ff261997536"

/-!
# Ax-Grothendieck for algebraic extensions of `zmod p`

> THIS FILE IS SYNCHRONIZED WITH MATHLIB4.
> Any changes to this file require a corresponding PR to mathlib4.

This file proves that if `R` is an algebraic extension of a finite field,
then any injective polynomial map `R^n -> R^n` is also surjective.

This proof is required for the true Ax-Grothendieck theorem, which proves the same result
for any algebraically closed field of characteristic zero.

## TODO

The proof of the theorem for characteristic zero is not in mathlib, but it is at
https://github.com/Jlh18/ModelTheoryInLean8
-/


noncomputable section

open MvPolynomial Finset Function

#print ax_grothendieck_of_locally_finite /-
/-- Any injective polynomial map over an algebraic extension of a finite field is surjective. -/
theorem ax_grothendieck_of_locally_finite {ι K R : Type _} [Field K] [Finite K] [CommRing R]
    [Finite ι] [Algebra K R] (alg : Algebra.IsAlgebraic K R) (ps : ι → MvPolynomial ι R)
    (hinj : Injective fun v i => eval v (ps i)) : Surjective fun v i => eval v (ps i) :=
  by
  have is_int : ∀ x : R, IsIntegral K x := fun x => isAlgebraic_iff_isIntegral.1 (alg x)
  classical
#align ax_grothendieck_of_locally_finite ax_grothendieck_of_locally_finite
-/

/- `s` is the set of all coefficients of the polynomial, as well as all of
  the coordinates of `v`, the point I am trying to find the preimage of. -/
-- The restriction of the polynomial map, `ps`, to the subalgebra generated by `s` 
