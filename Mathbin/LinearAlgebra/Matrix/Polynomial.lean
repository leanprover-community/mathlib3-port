/-
Copyright (c) 2021 Yakov Pechersky. All rights reserved.
Released under Apache 2.0 license as described in the file LICENSE.
Authors: Yakov Pechersky

! This file was ported from Lean 3 source module linear_algebra.matrix.polynomial
! leanprover-community/mathlib commit 86d1873c01a723aba6788f0b9051ae3d23b4c1c3
! Please do not edit these lines, except to modify the commit id
! if you have ported upstream changes.
-/
import Mathbin.Algebra.Polynomial.BigOperators
import Mathbin.Data.Polynomial.Degree.Lemmas
import Mathbin.LinearAlgebra.Matrix.Determinant

/-!
# Matrices of polynomials and polynomials of matrices

> THIS FILE IS SYNCHRONIZED WITH MATHLIB4.
> Any changes to this file require a corresponding PR to mathlib4.

In this file, we prove results about matrices over a polynomial ring.
In particular, we give results about the polynomial given by
`det (t * I + A)`.

## References

  * "The trace Cayley-Hamilton theorem" by Darij Grinberg, Section 5.3

## Tags

matrix determinant, polynomial
-/


open Matrix BigOperators Polynomial

variable {n α : Type _} [DecidableEq n] [Fintype n] [CommRing α]

open Polynomial Matrix Equiv.Perm

namespace Polynomial

/- warning: polynomial.nat_degree_det_X_add_C_le -> Polynomial.natDegree_det_X_add_C_le is a dubious translation:
lean 3 declaration is
  forall {n : Type.{u1}} {α : Type.{u2}} [_inst_1 : DecidableEq.{succ u1} n] [_inst_2 : Fintype.{u1} n] [_inst_3 : CommRing.{u2} α] (A : Matrix.{u1, u1, u2} n n α) (B : Matrix.{u1, u1, u2} n n α), LE.le.{0} Nat Nat.hasLe (Polynomial.natDegree.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3)) (Matrix.det.{u2, u1} n (fun (a : n) (b : n) => _inst_1 a b) _inst_2 (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) (Polynomial.commRing.{u2} α _inst_3) (HAdd.hAdd.{max u1 u2, max u1 u2, max u1 u2} (Matrix.{u1, u1, u2} n n (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3)))) (Matrix.{u1, u1, u2} n n (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3)))) (Matrix.{u1, u1, u2} n n (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3)))) (instHAdd.{max u1 u2} (Matrix.{u1, u1, u2} n n (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3)))) (Matrix.hasAdd.{u2, u1, u1} n n (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) (Polynomial.add'.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))))) (SMul.smul.{u2, max u1 u2} (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) (Matrix.{u1, u1, u2} n n (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3)))) (Matrix.hasSmul.{u2, u1, u1, u2} n n (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) (Mul.toSMul.{u2} (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) (Polynomial.mul'.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))))) (Polynomial.X.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) (Matrix.map.{u2, u2, u1, u1} n n α (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) A (coeFn.{succ u2, succ u2} (RingHom.{u2, u2} α (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) (Semiring.toNonAssocSemiring.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) (Semiring.toNonAssocSemiring.{u2} (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) (Polynomial.semiring.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))))) (fun (_x : RingHom.{u2, u2} α (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) (Semiring.toNonAssocSemiring.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) (Semiring.toNonAssocSemiring.{u2} (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) (Polynomial.semiring.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))))) => α -> (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3)))) (RingHom.hasCoeToFun.{u2, u2} α (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) (Semiring.toNonAssocSemiring.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) (Semiring.toNonAssocSemiring.{u2} (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) (Polynomial.semiring.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))))) (Polynomial.C.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3)))))) (Matrix.map.{u2, u2, u1, u1} n n α (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) B (coeFn.{succ u2, succ u2} (RingHom.{u2, u2} α (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) (Semiring.toNonAssocSemiring.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) (Semiring.toNonAssocSemiring.{u2} (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) (Polynomial.semiring.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))))) (fun (_x : RingHom.{u2, u2} α (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) (Semiring.toNonAssocSemiring.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) (Semiring.toNonAssocSemiring.{u2} (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) (Polynomial.semiring.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))))) => α -> (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3)))) (RingHom.hasCoeToFun.{u2, u2} α (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) (Semiring.toNonAssocSemiring.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) (Semiring.toNonAssocSemiring.{u2} (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) (Polynomial.semiring.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))))) (Polynomial.C.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3)))))))) (Fintype.card.{u1} n _inst_2)
but is expected to have type
  forall {n : Type.{u2}} {α : Type.{u1}} [_inst_1 : DecidableEq.{succ u2} n] [_inst_2 : Fintype.{u2} n] [_inst_3 : CommRing.{u1} α] (A : Matrix.{u2, u2, u1} n n α) (B : Matrix.{u2, u2, u1} n n α), LE.le.{0} Nat instLENat (Polynomial.natDegree.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3)) (Matrix.det.{u1, u2} n (fun (a : n) (b : n) => _inst_1 a b) _inst_2 (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Polynomial.commRing.{u1} α _inst_3) (HAdd.hAdd.{max u2 u1, max u2 u1, max u2 u1} (Matrix.{u2, u2, u1} n n (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3)))) (Matrix.{u2, u2, u1} n n (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3)))) (Matrix.{u2, u2, u1} n n (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3)))) (instHAdd.{max u2 u1} (Matrix.{u2, u2, u1} n n (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3)))) (Matrix.add.{u1, u2, u2} n n (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Polynomial.add'.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))))) (HSMul.hSMul.{u1, max u2 u1, max u2 u1} (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Matrix.{u2, u2, u1} n n (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3)))) (Matrix.{u2, u2, u1} n n (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3)))) (instHSMul.{u1, max u2 u1} (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Matrix.{u2, u2, u1} n n (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3)))) (Matrix.smul.{u1, u2, u2, u1} n n (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Algebra.toSMul.{u1, u1} (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Polynomial.commSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3)) (Polynomial.semiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Algebra.id.{u1} (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Polynomial.commSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3)))))) (Polynomial.X.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Matrix.map.{u1, u1, u2, u2} n n α (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) A (FunLike.coe.{succ u1, succ u1, succ u1} (RingHom.{u1, u1} α (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Semiring.toNonAssocSemiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Semiring.toNonAssocSemiring.{u1} (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Polynomial.semiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))))) α (fun (_x : α) => (fun (x._@.Mathlib.Algebra.Hom.Group._hyg.2397 : α) => Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) _x) (MulHomClass.toFunLike.{u1, u1, u1} (RingHom.{u1, u1} α (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Semiring.toNonAssocSemiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Semiring.toNonAssocSemiring.{u1} (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Polynomial.semiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))))) α (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (NonUnitalNonAssocSemiring.toMul.{u1} α (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} α (Semiring.toNonAssocSemiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))))) (NonUnitalNonAssocSemiring.toMul.{u1} (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Semiring.toNonAssocSemiring.{u1} (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Polynomial.semiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3)))))) (NonUnitalRingHomClass.toMulHomClass.{u1, u1, u1} (RingHom.{u1, u1} α (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Semiring.toNonAssocSemiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Semiring.toNonAssocSemiring.{u1} (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Polynomial.semiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))))) α (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} α (Semiring.toNonAssocSemiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3)))) (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Semiring.toNonAssocSemiring.{u1} (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Polynomial.semiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))))) (RingHomClass.toNonUnitalRingHomClass.{u1, u1, u1} (RingHom.{u1, u1} α (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Semiring.toNonAssocSemiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Semiring.toNonAssocSemiring.{u1} (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Polynomial.semiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))))) α (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Semiring.toNonAssocSemiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Semiring.toNonAssocSemiring.{u1} (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Polynomial.semiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3)))) (RingHom.instRingHomClassRingHom.{u1, u1} α (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Semiring.toNonAssocSemiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Semiring.toNonAssocSemiring.{u1} (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Polynomial.semiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3)))))))) (Polynomial.C.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3)))))) (Matrix.map.{u1, u1, u2, u2} n n α (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) B (FunLike.coe.{succ u1, succ u1, succ u1} (RingHom.{u1, u1} α (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Semiring.toNonAssocSemiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Semiring.toNonAssocSemiring.{u1} (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Polynomial.semiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))))) α (fun (_x : α) => (fun (x._@.Mathlib.Algebra.Hom.Group._hyg.2397 : α) => Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) _x) (MulHomClass.toFunLike.{u1, u1, u1} (RingHom.{u1, u1} α (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Semiring.toNonAssocSemiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Semiring.toNonAssocSemiring.{u1} (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Polynomial.semiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))))) α (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (NonUnitalNonAssocSemiring.toMul.{u1} α (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} α (Semiring.toNonAssocSemiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))))) (NonUnitalNonAssocSemiring.toMul.{u1} (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Semiring.toNonAssocSemiring.{u1} (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Polynomial.semiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3)))))) (NonUnitalRingHomClass.toMulHomClass.{u1, u1, u1} (RingHom.{u1, u1} α (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Semiring.toNonAssocSemiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Semiring.toNonAssocSemiring.{u1} (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Polynomial.semiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))))) α (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} α (Semiring.toNonAssocSemiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3)))) (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Semiring.toNonAssocSemiring.{u1} (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Polynomial.semiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))))) (RingHomClass.toNonUnitalRingHomClass.{u1, u1, u1} (RingHom.{u1, u1} α (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Semiring.toNonAssocSemiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Semiring.toNonAssocSemiring.{u1} (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Polynomial.semiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))))) α (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Semiring.toNonAssocSemiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Semiring.toNonAssocSemiring.{u1} (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Polynomial.semiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3)))) (RingHom.instRingHomClassRingHom.{u1, u1} α (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Semiring.toNonAssocSemiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Semiring.toNonAssocSemiring.{u1} (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Polynomial.semiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3)))))))) (Polynomial.C.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3)))))))) (Fintype.card.{u2} n _inst_2)
Case conversion may be inaccurate. Consider using '#align polynomial.nat_degree_det_X_add_C_le Polynomial.natDegree_det_X_add_C_leₓ'. -/
theorem natDegree_det_X_add_C_le (A B : Matrix n n α) :
    natDegree (det ((X : α[X]) • A.map C + B.map C)) ≤ Fintype.card n :=
  by
  rw [det_apply]
  refine' (nat_degree_sum_le _ _).trans _
  refine' Multiset.max_nat_le_of_forall_le _ _ _
  simp only [forall_apply_eq_imp_iff', true_and_iff, Function.comp_apply, Multiset.map_map,
    Multiset.mem_map, exists_imp, Finset.mem_univ_val]
  intro g
  calc
    nat_degree (SignType.sign g • ∏ i : n, (X • A.map C + B.map C) (g i) i) ≤
        nat_degree (∏ i : n, (X • A.map C + B.map C) (g i) i) :=
      by
      cases' Int.units_eq_one_or (SignType.sign g) with sg sg
      · rw [sg, one_smul]
      · rw [sg, Units.neg_smul, one_smul, nat_degree_neg]
    _ ≤ ∑ i : n, nat_degree (((X : α[X]) • A.map C + B.map C) (g i) i) :=
      (nat_degree_prod_le (Finset.univ : Finset n) fun i : n => (X • A.map C + B.map C) (g i) i)
    _ ≤ finset.univ.card • 1 := (Finset.sum_le_card_nsmul _ _ 1 fun (i : n) _ => _)
    _ ≤ Fintype.card n := by simpa
    
  calc
    nat_degree (((X : α[X]) • A.map C + B.map C) (g i) i) =
        nat_degree ((X : α[X]) * C (A (g i) i) + C (B (g i) i)) :=
      by simp
    _ ≤ max (nat_degree ((X : α[X]) * C (A (g i) i))) (nat_degree (C (B (g i) i))) :=
      (nat_degree_add_le _ _)
    _ = nat_degree ((X : α[X]) * C (A (g i) i)) :=
      (max_eq_left ((nat_degree_C _).le.trans (zero_le _)))
    _ ≤ nat_degree (X : α[X]) := (nat_degree_mul_C_le _ _)
    _ ≤ 1 := nat_degree_X_le
    
#align polynomial.nat_degree_det_X_add_C_le Polynomial.natDegree_det_X_add_C_le

/- warning: polynomial.coeff_det_X_add_C_zero -> Polynomial.coeff_det_X_add_C_zero is a dubious translation:
lean 3 declaration is
  forall {n : Type.{u1}} {α : Type.{u2}} [_inst_1 : DecidableEq.{succ u1} n] [_inst_2 : Fintype.{u1} n] [_inst_3 : CommRing.{u2} α] (A : Matrix.{u1, u1, u2} n n α) (B : Matrix.{u1, u1, u2} n n α), Eq.{succ u2} α (Polynomial.coeff.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3)) (Matrix.det.{u2, u1} n (fun (a : n) (b : n) => _inst_1 a b) _inst_2 (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) (Polynomial.commRing.{u2} α _inst_3) (HAdd.hAdd.{max u1 u2, max u1 u2, max u1 u2} (Matrix.{u1, u1, u2} n n (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3)))) (Matrix.{u1, u1, u2} n n (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3)))) (Matrix.{u1, u1, u2} n n (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3)))) (instHAdd.{max u1 u2} (Matrix.{u1, u1, u2} n n (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3)))) (Matrix.hasAdd.{u2, u1, u1} n n (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) (Polynomial.add'.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))))) (SMul.smul.{u2, max u1 u2} (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) (Matrix.{u1, u1, u2} n n (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3)))) (Matrix.hasSmul.{u2, u1, u1, u2} n n (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) (Mul.toSMul.{u2} (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) (Polynomial.mul'.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))))) (Polynomial.X.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) (Matrix.map.{u2, u2, u1, u1} n n α (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) A (coeFn.{succ u2, succ u2} (RingHom.{u2, u2} α (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) (Semiring.toNonAssocSemiring.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) (Semiring.toNonAssocSemiring.{u2} (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) (Polynomial.semiring.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))))) (fun (_x : RingHom.{u2, u2} α (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) (Semiring.toNonAssocSemiring.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) (Semiring.toNonAssocSemiring.{u2} (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) (Polynomial.semiring.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))))) => α -> (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3)))) (RingHom.hasCoeToFun.{u2, u2} α (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) (Semiring.toNonAssocSemiring.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) (Semiring.toNonAssocSemiring.{u2} (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) (Polynomial.semiring.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))))) (Polynomial.C.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3)))))) (Matrix.map.{u2, u2, u1, u1} n n α (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) B (coeFn.{succ u2, succ u2} (RingHom.{u2, u2} α (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) (Semiring.toNonAssocSemiring.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) (Semiring.toNonAssocSemiring.{u2} (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) (Polynomial.semiring.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))))) (fun (_x : RingHom.{u2, u2} α (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) (Semiring.toNonAssocSemiring.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) (Semiring.toNonAssocSemiring.{u2} (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) (Polynomial.semiring.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))))) => α -> (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3)))) (RingHom.hasCoeToFun.{u2, u2} α (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) (Semiring.toNonAssocSemiring.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) (Semiring.toNonAssocSemiring.{u2} (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) (Polynomial.semiring.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))))) (Polynomial.C.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))))))) (OfNat.ofNat.{0} Nat 0 (OfNat.mk.{0} Nat 0 (Zero.zero.{0} Nat Nat.hasZero)))) (Matrix.det.{u2, u1} n (fun (a : n) (b : n) => _inst_1 a b) _inst_2 α _inst_3 B)
but is expected to have type
  forall {n : Type.{u2}} {α : Type.{u1}} [_inst_1 : DecidableEq.{succ u2} n] [_inst_2 : Fintype.{u2} n] [_inst_3 : CommRing.{u1} α] (A : Matrix.{u2, u2, u1} n n α) (B : Matrix.{u2, u2, u1} n n α), Eq.{succ u1} α (Polynomial.coeff.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3)) (Matrix.det.{u1, u2} n (fun (a : n) (b : n) => _inst_1 a b) _inst_2 (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Polynomial.commRing.{u1} α _inst_3) (HAdd.hAdd.{max u2 u1, max u2 u1, max u2 u1} (Matrix.{u2, u2, u1} n n (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3)))) (Matrix.{u2, u2, u1} n n (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3)))) (Matrix.{u2, u2, u1} n n (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3)))) (instHAdd.{max u2 u1} (Matrix.{u2, u2, u1} n n (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3)))) (Matrix.add.{u1, u2, u2} n n (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Polynomial.add'.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))))) (HSMul.hSMul.{u1, max u2 u1, max u2 u1} (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Matrix.{u2, u2, u1} n n (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3)))) (Matrix.{u2, u2, u1} n n (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3)))) (instHSMul.{u1, max u2 u1} (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Matrix.{u2, u2, u1} n n (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3)))) (Matrix.smul.{u1, u2, u2, u1} n n (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Algebra.toSMul.{u1, u1} (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Polynomial.commSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3)) (Polynomial.semiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Algebra.id.{u1} (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Polynomial.commSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3)))))) (Polynomial.X.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Matrix.map.{u1, u1, u2, u2} n n α (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) A (FunLike.coe.{succ u1, succ u1, succ u1} (RingHom.{u1, u1} α (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Semiring.toNonAssocSemiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Semiring.toNonAssocSemiring.{u1} (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Polynomial.semiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))))) α (fun (_x : α) => (fun (x._@.Mathlib.Algebra.Hom.Group._hyg.2397 : α) => Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) _x) (MulHomClass.toFunLike.{u1, u1, u1} (RingHom.{u1, u1} α (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Semiring.toNonAssocSemiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Semiring.toNonAssocSemiring.{u1} (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Polynomial.semiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))))) α (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (NonUnitalNonAssocSemiring.toMul.{u1} α (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} α (Semiring.toNonAssocSemiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))))) (NonUnitalNonAssocSemiring.toMul.{u1} (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Semiring.toNonAssocSemiring.{u1} (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Polynomial.semiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3)))))) (NonUnitalRingHomClass.toMulHomClass.{u1, u1, u1} (RingHom.{u1, u1} α (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Semiring.toNonAssocSemiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Semiring.toNonAssocSemiring.{u1} (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Polynomial.semiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))))) α (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} α (Semiring.toNonAssocSemiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3)))) (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Semiring.toNonAssocSemiring.{u1} (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Polynomial.semiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))))) (RingHomClass.toNonUnitalRingHomClass.{u1, u1, u1} (RingHom.{u1, u1} α (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Semiring.toNonAssocSemiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Semiring.toNonAssocSemiring.{u1} (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Polynomial.semiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))))) α (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Semiring.toNonAssocSemiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Semiring.toNonAssocSemiring.{u1} (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Polynomial.semiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3)))) (RingHom.instRingHomClassRingHom.{u1, u1} α (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Semiring.toNonAssocSemiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Semiring.toNonAssocSemiring.{u1} (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Polynomial.semiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3)))))))) (Polynomial.C.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3)))))) (Matrix.map.{u1, u1, u2, u2} n n α (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) B (FunLike.coe.{succ u1, succ u1, succ u1} (RingHom.{u1, u1} α (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Semiring.toNonAssocSemiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Semiring.toNonAssocSemiring.{u1} (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Polynomial.semiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))))) α (fun (_x : α) => (fun (x._@.Mathlib.Algebra.Hom.Group._hyg.2397 : α) => Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) _x) (MulHomClass.toFunLike.{u1, u1, u1} (RingHom.{u1, u1} α (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Semiring.toNonAssocSemiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Semiring.toNonAssocSemiring.{u1} (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Polynomial.semiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))))) α (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (NonUnitalNonAssocSemiring.toMul.{u1} α (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} α (Semiring.toNonAssocSemiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))))) (NonUnitalNonAssocSemiring.toMul.{u1} (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Semiring.toNonAssocSemiring.{u1} (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Polynomial.semiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3)))))) (NonUnitalRingHomClass.toMulHomClass.{u1, u1, u1} (RingHom.{u1, u1} α (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Semiring.toNonAssocSemiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Semiring.toNonAssocSemiring.{u1} (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Polynomial.semiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))))) α (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} α (Semiring.toNonAssocSemiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3)))) (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Semiring.toNonAssocSemiring.{u1} (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Polynomial.semiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))))) (RingHomClass.toNonUnitalRingHomClass.{u1, u1, u1} (RingHom.{u1, u1} α (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Semiring.toNonAssocSemiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Semiring.toNonAssocSemiring.{u1} (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Polynomial.semiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))))) α (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Semiring.toNonAssocSemiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Semiring.toNonAssocSemiring.{u1} (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Polynomial.semiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3)))) (RingHom.instRingHomClassRingHom.{u1, u1} α (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Semiring.toNonAssocSemiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Semiring.toNonAssocSemiring.{u1} (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Polynomial.semiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3)))))))) (Polynomial.C.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))))))) (OfNat.ofNat.{0} Nat 0 (instOfNatNat 0))) (Matrix.det.{u1, u2} n (fun (a : n) (b : n) => _inst_1 a b) _inst_2 α _inst_3 B)
Case conversion may be inaccurate. Consider using '#align polynomial.coeff_det_X_add_C_zero Polynomial.coeff_det_X_add_C_zeroₓ'. -/
theorem coeff_det_X_add_C_zero (A B : Matrix n n α) :
    coeff (det ((X : α[X]) • A.map C + B.map C)) 0 = det B :=
  by
  rw [det_apply, finset_sum_coeff, det_apply]
  refine' Finset.sum_congr rfl _
  intro g hg
  convert coeff_smul (SignType.sign g) _ 0
  rw [coeff_zero_prod]
  refine' Finset.prod_congr rfl _
  simp
#align polynomial.coeff_det_X_add_C_zero Polynomial.coeff_det_X_add_C_zero

/- warning: polynomial.coeff_det_X_add_C_card -> Polynomial.coeff_det_X_add_C_card is a dubious translation:
lean 3 declaration is
  forall {n : Type.{u1}} {α : Type.{u2}} [_inst_1 : DecidableEq.{succ u1} n] [_inst_2 : Fintype.{u1} n] [_inst_3 : CommRing.{u2} α] (A : Matrix.{u1, u1, u2} n n α) (B : Matrix.{u1, u1, u2} n n α), Eq.{succ u2} α (Polynomial.coeff.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3)) (Matrix.det.{u2, u1} n (fun (a : n) (b : n) => _inst_1 a b) _inst_2 (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) (Polynomial.commRing.{u2} α _inst_3) (HAdd.hAdd.{max u1 u2, max u1 u2, max u1 u2} (Matrix.{u1, u1, u2} n n (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3)))) (Matrix.{u1, u1, u2} n n (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3)))) (Matrix.{u1, u1, u2} n n (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3)))) (instHAdd.{max u1 u2} (Matrix.{u1, u1, u2} n n (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3)))) (Matrix.hasAdd.{u2, u1, u1} n n (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) (Polynomial.add'.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))))) (SMul.smul.{u2, max u1 u2} (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) (Matrix.{u1, u1, u2} n n (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3)))) (Matrix.hasSmul.{u2, u1, u1, u2} n n (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) (Mul.toSMul.{u2} (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) (Polynomial.mul'.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))))) (Polynomial.X.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) (Matrix.map.{u2, u2, u1, u1} n n α (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) A (coeFn.{succ u2, succ u2} (RingHom.{u2, u2} α (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) (Semiring.toNonAssocSemiring.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) (Semiring.toNonAssocSemiring.{u2} (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) (Polynomial.semiring.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))))) (fun (_x : RingHom.{u2, u2} α (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) (Semiring.toNonAssocSemiring.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) (Semiring.toNonAssocSemiring.{u2} (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) (Polynomial.semiring.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))))) => α -> (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3)))) (RingHom.hasCoeToFun.{u2, u2} α (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) (Semiring.toNonAssocSemiring.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) (Semiring.toNonAssocSemiring.{u2} (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) (Polynomial.semiring.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))))) (Polynomial.C.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3)))))) (Matrix.map.{u2, u2, u1, u1} n n α (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) B (coeFn.{succ u2, succ u2} (RingHom.{u2, u2} α (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) (Semiring.toNonAssocSemiring.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) (Semiring.toNonAssocSemiring.{u2} (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) (Polynomial.semiring.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))))) (fun (_x : RingHom.{u2, u2} α (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) (Semiring.toNonAssocSemiring.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) (Semiring.toNonAssocSemiring.{u2} (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) (Polynomial.semiring.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))))) => α -> (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3)))) (RingHom.hasCoeToFun.{u2, u2} α (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) (Semiring.toNonAssocSemiring.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) (Semiring.toNonAssocSemiring.{u2} (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) (Polynomial.semiring.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))))) (Polynomial.C.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))))))) (Fintype.card.{u1} n _inst_2)) (Matrix.det.{u2, u1} n (fun (a : n) (b : n) => _inst_1 a b) _inst_2 α _inst_3 A)
but is expected to have type
  forall {n : Type.{u2}} {α : Type.{u1}} [_inst_1 : DecidableEq.{succ u2} n] [_inst_2 : Fintype.{u2} n] [_inst_3 : CommRing.{u1} α] (A : Matrix.{u2, u2, u1} n n α) (B : Matrix.{u2, u2, u1} n n α), Eq.{succ u1} α (Polynomial.coeff.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3)) (Matrix.det.{u1, u2} n (fun (a : n) (b : n) => _inst_1 a b) _inst_2 (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Polynomial.commRing.{u1} α _inst_3) (HAdd.hAdd.{max u2 u1, max u2 u1, max u2 u1} (Matrix.{u2, u2, u1} n n (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3)))) (Matrix.{u2, u2, u1} n n (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3)))) (Matrix.{u2, u2, u1} n n (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3)))) (instHAdd.{max u2 u1} (Matrix.{u2, u2, u1} n n (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3)))) (Matrix.add.{u1, u2, u2} n n (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Polynomial.add'.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))))) (HSMul.hSMul.{u1, max u2 u1, max u2 u1} (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Matrix.{u2, u2, u1} n n (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3)))) (Matrix.{u2, u2, u1} n n (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3)))) (instHSMul.{u1, max u2 u1} (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Matrix.{u2, u2, u1} n n (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3)))) (Matrix.smul.{u1, u2, u2, u1} n n (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Algebra.toSMul.{u1, u1} (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Polynomial.commSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3)) (Polynomial.semiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Algebra.id.{u1} (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Polynomial.commSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3)))))) (Polynomial.X.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Matrix.map.{u1, u1, u2, u2} n n α (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) A (FunLike.coe.{succ u1, succ u1, succ u1} (RingHom.{u1, u1} α (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Semiring.toNonAssocSemiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Semiring.toNonAssocSemiring.{u1} (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Polynomial.semiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))))) α (fun (_x : α) => (fun (x._@.Mathlib.Algebra.Hom.Group._hyg.2397 : α) => Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) _x) (MulHomClass.toFunLike.{u1, u1, u1} (RingHom.{u1, u1} α (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Semiring.toNonAssocSemiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Semiring.toNonAssocSemiring.{u1} (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Polynomial.semiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))))) α (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (NonUnitalNonAssocSemiring.toMul.{u1} α (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} α (Semiring.toNonAssocSemiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))))) (NonUnitalNonAssocSemiring.toMul.{u1} (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Semiring.toNonAssocSemiring.{u1} (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Polynomial.semiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3)))))) (NonUnitalRingHomClass.toMulHomClass.{u1, u1, u1} (RingHom.{u1, u1} α (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Semiring.toNonAssocSemiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Semiring.toNonAssocSemiring.{u1} (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Polynomial.semiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))))) α (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} α (Semiring.toNonAssocSemiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3)))) (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Semiring.toNonAssocSemiring.{u1} (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Polynomial.semiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))))) (RingHomClass.toNonUnitalRingHomClass.{u1, u1, u1} (RingHom.{u1, u1} α (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Semiring.toNonAssocSemiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Semiring.toNonAssocSemiring.{u1} (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Polynomial.semiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))))) α (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Semiring.toNonAssocSemiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Semiring.toNonAssocSemiring.{u1} (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Polynomial.semiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3)))) (RingHom.instRingHomClassRingHom.{u1, u1} α (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Semiring.toNonAssocSemiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Semiring.toNonAssocSemiring.{u1} (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Polynomial.semiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3)))))))) (Polynomial.C.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3)))))) (Matrix.map.{u1, u1, u2, u2} n n α (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) B (FunLike.coe.{succ u1, succ u1, succ u1} (RingHom.{u1, u1} α (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Semiring.toNonAssocSemiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Semiring.toNonAssocSemiring.{u1} (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Polynomial.semiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))))) α (fun (_x : α) => (fun (x._@.Mathlib.Algebra.Hom.Group._hyg.2397 : α) => Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) _x) (MulHomClass.toFunLike.{u1, u1, u1} (RingHom.{u1, u1} α (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Semiring.toNonAssocSemiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Semiring.toNonAssocSemiring.{u1} (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Polynomial.semiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))))) α (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (NonUnitalNonAssocSemiring.toMul.{u1} α (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} α (Semiring.toNonAssocSemiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))))) (NonUnitalNonAssocSemiring.toMul.{u1} (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Semiring.toNonAssocSemiring.{u1} (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Polynomial.semiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3)))))) (NonUnitalRingHomClass.toMulHomClass.{u1, u1, u1} (RingHom.{u1, u1} α (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Semiring.toNonAssocSemiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Semiring.toNonAssocSemiring.{u1} (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Polynomial.semiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))))) α (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} α (Semiring.toNonAssocSemiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3)))) (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Semiring.toNonAssocSemiring.{u1} (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Polynomial.semiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))))) (RingHomClass.toNonUnitalRingHomClass.{u1, u1, u1} (RingHom.{u1, u1} α (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Semiring.toNonAssocSemiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Semiring.toNonAssocSemiring.{u1} (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Polynomial.semiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))))) α (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Semiring.toNonAssocSemiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Semiring.toNonAssocSemiring.{u1} (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Polynomial.semiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3)))) (RingHom.instRingHomClassRingHom.{u1, u1} α (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Semiring.toNonAssocSemiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Semiring.toNonAssocSemiring.{u1} (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Polynomial.semiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3)))))))) (Polynomial.C.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))))))) (Fintype.card.{u2} n _inst_2)) (Matrix.det.{u1, u2} n (fun (a : n) (b : n) => _inst_1 a b) _inst_2 α _inst_3 A)
Case conversion may be inaccurate. Consider using '#align polynomial.coeff_det_X_add_C_card Polynomial.coeff_det_X_add_C_cardₓ'. -/
theorem coeff_det_X_add_C_card (A B : Matrix n n α) :
    coeff (det ((X : α[X]) • A.map C + B.map C)) (Fintype.card n) = det A :=
  by
  rw [det_apply, det_apply, finset_sum_coeff]
  refine' Finset.sum_congr rfl _
  simp only [Algebra.id.smul_eq_mul, Finset.mem_univ, RingHom.mapMatrix_apply, forall_true_left,
    map_apply, Pi.smul_apply]
  intro g
  convert coeff_smul (SignType.sign g) _ _
  rw [← mul_one (Fintype.card n)]
  convert(coeff_prod_of_nat_degree_le _ _ _ _).symm
  · ext
    simp [coeff_C]
  · intro p hp
    refine' (nat_degree_add_le _ _).trans _
    simpa only [Pi.smul_apply, map_apply, Algebra.id.smul_eq_mul, X_mul_C, nat_degree_C,
      max_eq_left, zero_le'] using (nat_degree_C_mul_le _ _).trans nat_degree_X_le
#align polynomial.coeff_det_X_add_C_card Polynomial.coeff_det_X_add_C_card

/- warning: polynomial.leading_coeff_det_X_one_add_C -> Polynomial.leadingCoeff_det_X_one_add_C is a dubious translation:
lean 3 declaration is
  forall {n : Type.{u1}} {α : Type.{u2}} [_inst_1 : DecidableEq.{succ u1} n] [_inst_2 : Fintype.{u1} n] [_inst_3 : CommRing.{u2} α] (A : Matrix.{u1, u1, u2} n n α), Eq.{succ u2} α (Polynomial.leadingCoeff.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3)) (Matrix.det.{u2, u1} n (fun (a : n) (b : n) => _inst_1 a b) _inst_2 (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) (Polynomial.commRing.{u2} α _inst_3) (HAdd.hAdd.{max u1 u2, max u1 u2, max u1 u2} (Matrix.{u1, u1, u2} n n (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3)))) (Matrix.{u1, u1, u2} n n (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3)))) (Matrix.{u1, u1, u2} n n (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3)))) (instHAdd.{max u1 u2} (Matrix.{u1, u1, u2} n n (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3)))) (Matrix.hasAdd.{u2, u1, u1} n n (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) (Polynomial.add'.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))))) (SMul.smul.{u2, max u1 u2} (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) (Matrix.{u1, u1, u2} n n (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3)))) (Matrix.hasSmul.{u2, u1, u1, u2} n n (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) (Mul.toSMul.{u2} (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) (Polynomial.mul'.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))))) (Polynomial.X.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) (OfNat.ofNat.{max u1 u2} (Matrix.{u1, u1, u2} n n (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3)))) 1 (OfNat.mk.{max u1 u2} (Matrix.{u1, u1, u2} n n (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3)))) 1 (One.one.{max u1 u2} (Matrix.{u1, u1, u2} n n (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3)))) (Matrix.hasOne.{u2, u1} n (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) (fun (a : n) (b : n) => _inst_1 a b) (Polynomial.zero.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) (Polynomial.hasOne.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3)))))))) (Matrix.map.{u2, u2, u1, u1} n n α (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) A (coeFn.{succ u2, succ u2} (RingHom.{u2, u2} α (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) (Semiring.toNonAssocSemiring.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) (Semiring.toNonAssocSemiring.{u2} (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) (Polynomial.semiring.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))))) (fun (_x : RingHom.{u2, u2} α (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) (Semiring.toNonAssocSemiring.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) (Semiring.toNonAssocSemiring.{u2} (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) (Polynomial.semiring.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))))) => α -> (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3)))) (RingHom.hasCoeToFun.{u2, u2} α (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) (Semiring.toNonAssocSemiring.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) (Semiring.toNonAssocSemiring.{u2} (Polynomial.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))) (Polynomial.semiring.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3))))) (Polynomial.C.{u2} α (Ring.toSemiring.{u2} α (CommRing.toRing.{u2} α _inst_3)))))))) (OfNat.ofNat.{u2} α 1 (OfNat.mk.{u2} α 1 (One.one.{u2} α (AddMonoidWithOne.toOne.{u2} α (AddGroupWithOne.toAddMonoidWithOne.{u2} α (AddCommGroupWithOne.toAddGroupWithOne.{u2} α (Ring.toAddCommGroupWithOne.{u2} α (CommRing.toRing.{u2} α _inst_3))))))))
but is expected to have type
  forall {n : Type.{u2}} {α : Type.{u1}} [_inst_1 : DecidableEq.{succ u2} n] [_inst_2 : Fintype.{u2} n] [_inst_3 : CommRing.{u1} α] (A : Matrix.{u2, u2, u1} n n α), Eq.{succ u1} α (Polynomial.leadingCoeff.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3)) (Matrix.det.{u1, u2} n (fun (a : n) (b : n) => _inst_1 a b) _inst_2 (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Polynomial.commRing.{u1} α _inst_3) (HAdd.hAdd.{max u2 u1, max u2 u1, max u2 u1} (Matrix.{u2, u2, u1} n n (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3)))) (Matrix.{u2, u2, u1} n n (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3)))) (Matrix.{u2, u2, u1} n n (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3)))) (instHAdd.{max u2 u1} (Matrix.{u2, u2, u1} n n (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3)))) (Matrix.add.{u1, u2, u2} n n (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Polynomial.add'.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))))) (HSMul.hSMul.{u1, max u2 u1, max u2 u1} (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Matrix.{u2, u2, u1} n n (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3)))) (Matrix.{u2, u2, u1} n n (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3)))) (instHSMul.{u1, max u2 u1} (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Matrix.{u2, u2, u1} n n (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3)))) (Matrix.smul.{u1, u2, u2, u1} n n (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Algebra.toSMul.{u1, u1} (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Polynomial.commSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3)) (Polynomial.semiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Algebra.id.{u1} (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Polynomial.commSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3)))))) (Polynomial.X.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (OfNat.ofNat.{max u2 u1} (Matrix.{u2, u2, u1} n n (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3)))) 1 (One.toOfNat1.{max u2 u1} (Matrix.{u2, u2, u1} n n (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3)))) (Matrix.one.{u1, u2} n (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (fun (a : n) (b : n) => _inst_1 a b) (Polynomial.zero.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Polynomial.one.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))))))) (Matrix.map.{u1, u1, u2, u2} n n α (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) A (FunLike.coe.{succ u1, succ u1, succ u1} (RingHom.{u1, u1} α (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Semiring.toNonAssocSemiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Semiring.toNonAssocSemiring.{u1} (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Polynomial.semiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))))) α (fun (_x : α) => (fun (x._@.Mathlib.Algebra.Hom.Group._hyg.2397 : α) => Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) _x) (MulHomClass.toFunLike.{u1, u1, u1} (RingHom.{u1, u1} α (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Semiring.toNonAssocSemiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Semiring.toNonAssocSemiring.{u1} (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Polynomial.semiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))))) α (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (NonUnitalNonAssocSemiring.toMul.{u1} α (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} α (Semiring.toNonAssocSemiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))))) (NonUnitalNonAssocSemiring.toMul.{u1} (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Semiring.toNonAssocSemiring.{u1} (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Polynomial.semiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3)))))) (NonUnitalRingHomClass.toMulHomClass.{u1, u1, u1} (RingHom.{u1, u1} α (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Semiring.toNonAssocSemiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Semiring.toNonAssocSemiring.{u1} (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Polynomial.semiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))))) α (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} α (Semiring.toNonAssocSemiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3)))) (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Semiring.toNonAssocSemiring.{u1} (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Polynomial.semiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))))) (RingHomClass.toNonUnitalRingHomClass.{u1, u1, u1} (RingHom.{u1, u1} α (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Semiring.toNonAssocSemiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Semiring.toNonAssocSemiring.{u1} (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Polynomial.semiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))))) α (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Semiring.toNonAssocSemiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Semiring.toNonAssocSemiring.{u1} (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Polynomial.semiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3)))) (RingHom.instRingHomClassRingHom.{u1, u1} α (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Semiring.toNonAssocSemiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Semiring.toNonAssocSemiring.{u1} (Polynomial.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3))) (Polynomial.semiring.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3)))))))) (Polynomial.C.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3)))))))) (OfNat.ofNat.{u1} α 1 (One.toOfNat1.{u1} α (Semiring.toOne.{u1} α (CommSemiring.toSemiring.{u1} α (CommRing.toCommSemiring.{u1} α _inst_3)))))
Case conversion may be inaccurate. Consider using '#align polynomial.leading_coeff_det_X_one_add_C Polynomial.leadingCoeff_det_X_one_add_Cₓ'. -/
theorem leadingCoeff_det_X_one_add_C (A : Matrix n n α) :
    leadingCoeff (det ((X : α[X]) • (1 : Matrix n n α[X]) + A.map C)) = 1 :=
  by
  cases subsingleton_or_nontrivial α
  · simp
  rw [← @det_one n, ← coeff_det_X_add_C_card _ A, leading_coeff]
  simp only [Matrix.map_one, C_eq_zero, RingHom.map_one]
  cases' (nat_degree_det_X_add_C_le 1 A).eq_or_lt with h h
  · simp only [RingHom.map_one, Matrix.map_one, C_eq_zero] at h
    rw [h]
  · -- contradiction. we have a hypothesis that the degree is less than |n|
    -- but we know that coeff _ n = 1
    have H := coeff_eq_zero_of_nat_degree_lt h
    rw [coeff_det_X_add_C_card] at H
    simpa using H
#align polynomial.leading_coeff_det_X_one_add_C Polynomial.leadingCoeff_det_X_one_add_C

end Polynomial

