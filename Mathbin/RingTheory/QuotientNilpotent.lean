/-
Copyright (c) 2021 Oliver Nash. All rights reserved.
Released under Apache 2.0 license as described in the file LICENSE.
Authors: Oliver Nash

! This file was ported from Lean 3 source module ring_theory.quotient_nilpotent
! leanprover-community/mathlib commit 19cb3751e5e9b3d97adb51023949c50c13b5fdfd
! Please do not edit these lines, except to modify the commit id
! if you have ported upstream changes.
-/
import Mathbin.RingTheory.Nilpotent
import Mathbin.RingTheory.Ideal.QuotientOperations

/-!
# Nilpotent elements in quotient rings

> THIS FILE IS SYNCHRONIZED WITH MATHLIB4.
> Any changes to this file require a corresponding PR to mathlib4.
-/


/- warning: ideal.is_radical_iff_quotient_reduced -> Ideal.isRadical_iff_quotient_reduced is a dubious translation:
lean 3 declaration is
  forall {R : Type.{u1}} [_inst_1 : CommRing.{u1} R] (I : Ideal.{u1} R (Ring.toSemiring.{u1} R (CommRing.toRing.{u1} R _inst_1))), Iff (Ideal.IsRadical.{u1} R (CommRing.toCommSemiring.{u1} R _inst_1) I) (IsReduced.{u1} (HasQuotient.Quotient.{u1, u1} R (Ideal.{u1} R (Ring.toSemiring.{u1} R (CommRing.toRing.{u1} R _inst_1))) (Ideal.hasQuotient.{u1} R _inst_1) I) (Submodule.Quotient.HasQuotient.Quotient.hasZero.{u1, u1} R R (CommRing.toRing.{u1} R _inst_1) (NonUnitalNonAssocRing.toAddCommGroup.{u1} R (NonAssocRing.toNonUnitalNonAssocRing.{u1} R (Ring.toNonAssocRing.{u1} R (CommRing.toRing.{u1} R _inst_1)))) (Semiring.toModule.{u1} R (Ring.toSemiring.{u1} R (CommRing.toRing.{u1} R _inst_1))) I) (Monoid.Pow.{u1} (HasQuotient.Quotient.{u1, u1} R (Ideal.{u1} R (Ring.toSemiring.{u1} R (CommRing.toRing.{u1} R _inst_1))) (Ideal.hasQuotient.{u1} R _inst_1) I) (Ring.toMonoid.{u1} (HasQuotient.Quotient.{u1, u1} R (Ideal.{u1} R (Ring.toSemiring.{u1} R (CommRing.toRing.{u1} R _inst_1))) (Ideal.hasQuotient.{u1} R _inst_1) I) (CommRing.toRing.{u1} (HasQuotient.Quotient.{u1, u1} R (Ideal.{u1} R (Ring.toSemiring.{u1} R (CommRing.toRing.{u1} R _inst_1))) (Ideal.hasQuotient.{u1} R _inst_1) I) (Ideal.Quotient.commRing.{u1} R _inst_1 I)))))
but is expected to have type
  forall {R : Type.{u1}} [_inst_1 : CommRing.{u1} R] (I : Ideal.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_1))), Iff (Ideal.IsRadical.{u1} R (CommRing.toCommSemiring.{u1} R _inst_1) I) (IsReduced.{u1} (HasQuotient.Quotient.{u1, u1} R (Ideal.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_1))) (Ideal.instHasQuotientIdealToSemiringToCommSemiring.{u1} R _inst_1) I) (Submodule.Quotient.instZeroQuotientSubmoduleToSemiringToAddCommMonoidHasQuotient.{u1, u1} R R (CommRing.toRing.{u1} R _inst_1) (Ring.toAddCommGroup.{u1} R (CommRing.toRing.{u1} R _inst_1)) (Semiring.toModule.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_1))) I) (Monoid.Pow.{u1} (HasQuotient.Quotient.{u1, u1} R (Ideal.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_1))) (Ideal.instHasQuotientIdealToSemiringToCommSemiring.{u1} R _inst_1) I) (MonoidWithZero.toMonoid.{u1} (HasQuotient.Quotient.{u1, u1} R (Ideal.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_1))) (Ideal.instHasQuotientIdealToSemiringToCommSemiring.{u1} R _inst_1) I) (Semiring.toMonoidWithZero.{u1} (HasQuotient.Quotient.{u1, u1} R (Ideal.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_1))) (Ideal.instHasQuotientIdealToSemiringToCommSemiring.{u1} R _inst_1) I) (CommSemiring.toSemiring.{u1} (HasQuotient.Quotient.{u1, u1} R (Ideal.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_1))) (Ideal.instHasQuotientIdealToSemiringToCommSemiring.{u1} R _inst_1) I) (CommRing.toCommSemiring.{u1} (HasQuotient.Quotient.{u1, u1} R (Ideal.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_1))) (Ideal.instHasQuotientIdealToSemiringToCommSemiring.{u1} R _inst_1) I) (Ideal.Quotient.commRing.{u1} R _inst_1 I)))))))
Case conversion may be inaccurate. Consider using '#align ideal.is_radical_iff_quotient_reduced Ideal.isRadical_iff_quotient_reducedₓ'. -/
theorem Ideal.isRadical_iff_quotient_reduced {R : Type _} [CommRing R] (I : Ideal R) :
    I.IsRadical ↔ IsReduced (R ⧸ I) :=
  by
  conv_lhs => rw [← @Ideal.mk_ker R _ I]
  exact RingHom.ker_isRadical_iff_reduced_of_surjective (@Ideal.Quotient.mk_surjective R _ I)
#align ideal.is_radical_iff_quotient_reduced Ideal.isRadical_iff_quotient_reduced

variable {R S : Type _} [CommSemiring R] [CommRing S] [Algebra R S] (I : Ideal S)

/- warning: ideal.is_nilpotent.induction_on -> Ideal.IsNilpotent.induction_on is a dubious translation:
lean 3 declaration is
  forall {S : Type.{u_2}} [_inst_2 : CommRing.{u_2} S] (I : Ideal.{u_2} S (Ring.toSemiring.{u_2} S (CommRing.toRing.{u_2} S _inst_2))), (IsNilpotent.{u_2} (Ideal.{u_2} S (Ring.toSemiring.{u_2} S (CommRing.toRing.{u_2} S _inst_2))) (MulZeroClass.toHasZero.{u_2} (Ideal.{u_2} S (Ring.toSemiring.{u_2} S (CommRing.toRing.{u_2} S _inst_2))) (NonUnitalNonAssocSemiring.toMulZeroClass.{u_2} (Ideal.{u_2} S (Ring.toSemiring.{u_2} S (CommRing.toRing.{u_2} S _inst_2))) (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u_2} (Ideal.{u_2} S (Ring.toSemiring.{u_2} S (CommRing.toRing.{u_2} S _inst_2))) (Semiring.toNonAssocSemiring.{u_2} (Ideal.{u_2} S (Ring.toSemiring.{u_2} S (CommRing.toRing.{u_2} S _inst_2))) (IdemSemiring.toSemiring.{u_2} (Ideal.{u_2} S (Ring.toSemiring.{u_2} S (CommRing.toRing.{u_2} S _inst_2))) (Submodule.idemSemiring.{u_2, u_2} S (CommRing.toCommSemiring.{u_2} S _inst_2) S (Ring.toSemiring.{u_2} S (CommRing.toRing.{u_2} S _inst_2)) (Algebra.id.{u_2} S (CommRing.toCommSemiring.{u_2} S _inst_2)))))))) (Monoid.Pow.{u_2} (Ideal.{u_2} S (Ring.toSemiring.{u_2} S (CommRing.toRing.{u_2} S _inst_2))) (MonoidWithZero.toMonoid.{u_2} (Ideal.{u_2} S (Ring.toSemiring.{u_2} S (CommRing.toRing.{u_2} S _inst_2))) (Semiring.toMonoidWithZero.{u_2} (Ideal.{u_2} S (Ring.toSemiring.{u_2} S (CommRing.toRing.{u_2} S _inst_2))) (IdemSemiring.toSemiring.{u_2} (Ideal.{u_2} S (Ring.toSemiring.{u_2} S (CommRing.toRing.{u_2} S _inst_2))) (Submodule.idemSemiring.{u_2, u_2} S (CommRing.toCommSemiring.{u_2} S _inst_2) S (Ring.toSemiring.{u_2} S (CommRing.toRing.{u_2} S _inst_2)) (Algebra.id.{u_2} S (CommRing.toCommSemiring.{u_2} S _inst_2))))))) I) -> (forall {P : forall {{S : Type.{u_2}}} [_inst_4 : CommRing.{u_2} S], (Ideal.{u_2} S (Ring.toSemiring.{u_2} S (CommRing.toRing.{u_2} S _inst_4))) -> Prop}, (forall {{S : Type.{u_2}}} [_inst_5 : CommRing.{u_2} S] (I : Ideal.{u_2} S (Ring.toSemiring.{u_2} S (CommRing.toRing.{u_2} S _inst_5))), (Eq.{succ u_2} (Ideal.{u_2} S (Ring.toSemiring.{u_2} S (CommRing.toRing.{u_2} S _inst_5))) (HPow.hPow.{u_2, 0, u_2} (Ideal.{u_2} S (Ring.toSemiring.{u_2} S (CommRing.toRing.{u_2} S _inst_5))) Nat (Ideal.{u_2} S (Ring.toSemiring.{u_2} S (CommRing.toRing.{u_2} S _inst_5))) (instHPow.{u_2, 0} (Ideal.{u_2} S (Ring.toSemiring.{u_2} S (CommRing.toRing.{u_2} S _inst_5))) Nat (Monoid.Pow.{u_2} (Ideal.{u_2} S (Ring.toSemiring.{u_2} S (CommRing.toRing.{u_2} S _inst_5))) (MonoidWithZero.toMonoid.{u_2} (Ideal.{u_2} S (Ring.toSemiring.{u_2} S (CommRing.toRing.{u_2} S _inst_5))) (Semiring.toMonoidWithZero.{u_2} (Ideal.{u_2} S (Ring.toSemiring.{u_2} S (CommRing.toRing.{u_2} S _inst_5))) (IdemSemiring.toSemiring.{u_2} (Ideal.{u_2} S (Ring.toSemiring.{u_2} S (CommRing.toRing.{u_2} S _inst_5))) (Submodule.idemSemiring.{u_2, u_2} S (CommRing.toCommSemiring.{u_2} S _inst_5) S (Ring.toSemiring.{u_2} S (CommRing.toRing.{u_2} S _inst_5)) (Algebra.id.{u_2} S (CommRing.toCommSemiring.{u_2} S _inst_5)))))))) I (OfNat.ofNat.{0} Nat 2 (OfNat.mk.{0} Nat 2 (bit0.{0} Nat Nat.hasAdd (One.one.{0} Nat Nat.hasOne))))) (Bot.bot.{u_2} (Ideal.{u_2} S (Ring.toSemiring.{u_2} S (CommRing.toRing.{u_2} S _inst_5))) (Submodule.hasBot.{u_2, u_2} S S (Ring.toSemiring.{u_2} S (CommRing.toRing.{u_2} S _inst_5)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u_2} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u_2} S (Semiring.toNonAssocSemiring.{u_2} S (Ring.toSemiring.{u_2} S (CommRing.toRing.{u_2} S _inst_5))))) (Semiring.toModule.{u_2} S (Ring.toSemiring.{u_2} S (CommRing.toRing.{u_2} S _inst_5)))))) -> (P S _inst_5 I)) -> (forall {{S : Type.{u_2}}} [_inst_6 : CommRing.{u_2} S] (I : Ideal.{u_2} S (Ring.toSemiring.{u_2} S (CommRing.toRing.{u_2} S _inst_6))) (J : Ideal.{u_2} S (Ring.toSemiring.{u_2} S (CommRing.toRing.{u_2} S _inst_6))), (LE.le.{u_2} (Ideal.{u_2} S (Ring.toSemiring.{u_2} S (CommRing.toRing.{u_2} S _inst_6))) (Preorder.toLE.{u_2} (Ideal.{u_2} S (Ring.toSemiring.{u_2} S (CommRing.toRing.{u_2} S _inst_6))) (PartialOrder.toPreorder.{u_2} (Ideal.{u_2} S (Ring.toSemiring.{u_2} S (CommRing.toRing.{u_2} S _inst_6))) (SetLike.partialOrder.{u_2, u_2} (Ideal.{u_2} S (Ring.toSemiring.{u_2} S (CommRing.toRing.{u_2} S _inst_6))) S (Submodule.setLike.{u_2, u_2} S S (Ring.toSemiring.{u_2} S (CommRing.toRing.{u_2} S _inst_6)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u_2} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u_2} S (Semiring.toNonAssocSemiring.{u_2} S (Ring.toSemiring.{u_2} S (CommRing.toRing.{u_2} S _inst_6))))) (Semiring.toModule.{u_2} S (Ring.toSemiring.{u_2} S (CommRing.toRing.{u_2} S _inst_6))))))) I J) -> (P S _inst_6 I) -> (P (HasQuotient.Quotient.{u_2, u_2} S (Ideal.{u_2} S (Ring.toSemiring.{u_2} S (CommRing.toRing.{u_2} S _inst_6))) (Ideal.hasQuotient.{u_2} S _inst_6) I) (Ideal.Quotient.commRing.{u_2} S _inst_6 I) (Ideal.map.{u_2, u_2, u_2} S (HasQuotient.Quotient.{u_2, u_2} S (Ideal.{u_2} S (Ring.toSemiring.{u_2} S (CommRing.toRing.{u_2} S _inst_6))) (Ideal.hasQuotient.{u_2} S _inst_6) I) (RingHom.{u_2, u_2} S (HasQuotient.Quotient.{u_2, u_2} S (Ideal.{u_2} S (Ring.toSemiring.{u_2} S (CommRing.toRing.{u_2} S _inst_6))) (Ideal.hasQuotient.{u_2} S _inst_6) I) (NonAssocRing.toNonAssocSemiring.{u_2} S (Ring.toNonAssocRing.{u_2} S (CommRing.toRing.{u_2} S _inst_6))) (NonAssocRing.toNonAssocSemiring.{u_2} (HasQuotient.Quotient.{u_2, u_2} S (Ideal.{u_2} S (Ring.toSemiring.{u_2} S (CommRing.toRing.{u_2} S _inst_6))) (Ideal.hasQuotient.{u_2} S _inst_6) I) (Ring.toNonAssocRing.{u_2} (HasQuotient.Quotient.{u_2, u_2} S (Ideal.{u_2} S (Ring.toSemiring.{u_2} S (CommRing.toRing.{u_2} S _inst_6))) (Ideal.hasQuotient.{u_2} S _inst_6) I) (CommRing.toRing.{u_2} (HasQuotient.Quotient.{u_2, u_2} S (Ideal.{u_2} S (Ring.toSemiring.{u_2} S (CommRing.toRing.{u_2} S _inst_6))) (Ideal.hasQuotient.{u_2} S _inst_6) I) (Ideal.Quotient.commRing.{u_2} S _inst_6 I))))) (Ring.toSemiring.{u_2} S (CommRing.toRing.{u_2} S _inst_6)) (Ring.toSemiring.{u_2} (HasQuotient.Quotient.{u_2, u_2} S (Ideal.{u_2} S (Ring.toSemiring.{u_2} S (CommRing.toRing.{u_2} S _inst_6))) (Ideal.hasQuotient.{u_2} S _inst_6) I) (CommRing.toRing.{u_2} (HasQuotient.Quotient.{u_2, u_2} S (Ideal.{u_2} S (Ring.toSemiring.{u_2} S (CommRing.toRing.{u_2} S _inst_6))) (Ideal.hasQuotient.{u_2} S _inst_6) I) (Ideal.Quotient.commRing.{u_2} S _inst_6 I))) (RingHom.ringHomClass.{u_2, u_2} S (HasQuotient.Quotient.{u_2, u_2} S (Ideal.{u_2} S (Ring.toSemiring.{u_2} S (CommRing.toRing.{u_2} S _inst_6))) (Ideal.hasQuotient.{u_2} S _inst_6) I) (NonAssocRing.toNonAssocSemiring.{u_2} S (Ring.toNonAssocRing.{u_2} S (CommRing.toRing.{u_2} S _inst_6))) (NonAssocRing.toNonAssocSemiring.{u_2} (HasQuotient.Quotient.{u_2, u_2} S (Ideal.{u_2} S (Ring.toSemiring.{u_2} S (CommRing.toRing.{u_2} S _inst_6))) (Ideal.hasQuotient.{u_2} S _inst_6) I) (Ring.toNonAssocRing.{u_2} (HasQuotient.Quotient.{u_2, u_2} S (Ideal.{u_2} S (Ring.toSemiring.{u_2} S (CommRing.toRing.{u_2} S _inst_6))) (Ideal.hasQuotient.{u_2} S _inst_6) I) (CommRing.toRing.{u_2} (HasQuotient.Quotient.{u_2, u_2} S (Ideal.{u_2} S (Ring.toSemiring.{u_2} S (CommRing.toRing.{u_2} S _inst_6))) (Ideal.hasQuotient.{u_2} S _inst_6) I) (Ideal.Quotient.commRing.{u_2} S _inst_6 I))))) (Ideal.Quotient.mk.{u_2} S _inst_6 I) J)) -> (P S _inst_6 J)) -> (P S _inst_2 I))
but is expected to have type
  forall {S : Type.{u_2}} {_inst_2 : Type.{u_1}} [I : CommSemiring.{u_2} S] [hI : CommRing.{u_1} _inst_2] [P : Algebra.{u_2, u_1} S _inst_2 I (CommSemiring.toSemiring.{u_1} _inst_2 (CommRing.toCommSemiring.{u_1} _inst_2 hI))] (h₁ : Ideal.{u_1} _inst_2 (CommSemiring.toSemiring.{u_1} _inst_2 (CommRing.toCommSemiring.{u_1} _inst_2 hI))), (IsNilpotent.{u_1} (Ideal.{u_1} _inst_2 (CommSemiring.toSemiring.{u_1} _inst_2 (CommRing.toCommSemiring.{u_1} _inst_2 hI))) (CommMonoidWithZero.toZero.{u_1} (Ideal.{u_1} _inst_2 (CommSemiring.toSemiring.{u_1} _inst_2 (CommRing.toCommSemiring.{u_1} _inst_2 hI))) (CommSemiring.toCommMonoidWithZero.{u_1} (Ideal.{u_1} _inst_2 (CommSemiring.toSemiring.{u_1} _inst_2 (CommRing.toCommSemiring.{u_1} _inst_2 hI))) (IdemCommSemiring.toCommSemiring.{u_1} (Ideal.{u_1} _inst_2 (CommSemiring.toSemiring.{u_1} _inst_2 (CommRing.toCommSemiring.{u_1} _inst_2 hI))) (Ideal.instIdemCommSemiringIdealToSemiring.{u_1} _inst_2 (CommRing.toCommSemiring.{u_1} _inst_2 hI))))) (Monoid.Pow.{u_1} (Ideal.{u_1} _inst_2 (CommSemiring.toSemiring.{u_1} _inst_2 (CommRing.toCommSemiring.{u_1} _inst_2 hI))) (MonoidWithZero.toMonoid.{u_1} (Ideal.{u_1} _inst_2 (CommSemiring.toSemiring.{u_1} _inst_2 (CommRing.toCommSemiring.{u_1} _inst_2 hI))) (Semiring.toMonoidWithZero.{u_1} (Ideal.{u_1} _inst_2 (CommSemiring.toSemiring.{u_1} _inst_2 (CommRing.toCommSemiring.{u_1} _inst_2 hI))) (IdemSemiring.toSemiring.{u_1} (Ideal.{u_1} _inst_2 (CommSemiring.toSemiring.{u_1} _inst_2 (CommRing.toCommSemiring.{u_1} _inst_2 hI))) (Submodule.idemSemiring.{u_1, u_1} _inst_2 (CommRing.toCommSemiring.{u_1} _inst_2 hI) _inst_2 (CommSemiring.toSemiring.{u_1} _inst_2 (CommRing.toCommSemiring.{u_1} _inst_2 hI)) (Algebra.id.{u_1} _inst_2 (CommRing.toCommSemiring.{u_1} _inst_2 hI))))))) h₁) -> (forall {P : forall {{S : Type.{u_1}}} [inst._@.Mathlib.RingTheory.QuotientNilpotent._hyg.113 : CommRing.{u_1} S], (Ideal.{u_1} S (CommSemiring.toSemiring.{u_1} S (CommRing.toCommSemiring.{u_1} S inst._@.Mathlib.RingTheory.QuotientNilpotent._hyg.113))) -> Prop}, (forall {{S : Type.{u_1}}} [inst._@.Mathlib.RingTheory.QuotientNilpotent._hyg.126 : CommRing.{u_1} S] (I : Ideal.{u_1} S (CommSemiring.toSemiring.{u_1} S (CommRing.toCommSemiring.{u_1} S inst._@.Mathlib.RingTheory.QuotientNilpotent._hyg.126))), (Eq.{succ u_1} (Ideal.{u_1} S (CommSemiring.toSemiring.{u_1} S (CommRing.toCommSemiring.{u_1} S inst._@.Mathlib.RingTheory.QuotientNilpotent._hyg.126))) (HPow.hPow.{u_1, 0, u_1} (Ideal.{u_1} S (CommSemiring.toSemiring.{u_1} S (CommRing.toCommSemiring.{u_1} S inst._@.Mathlib.RingTheory.QuotientNilpotent._hyg.126))) Nat (Ideal.{u_1} S (CommSemiring.toSemiring.{u_1} S (CommRing.toCommSemiring.{u_1} S inst._@.Mathlib.RingTheory.QuotientNilpotent._hyg.126))) (instHPow.{u_1, 0} (Ideal.{u_1} S (CommSemiring.toSemiring.{u_1} S (CommRing.toCommSemiring.{u_1} S inst._@.Mathlib.RingTheory.QuotientNilpotent._hyg.126))) Nat (Monoid.Pow.{u_1} (Ideal.{u_1} S (CommSemiring.toSemiring.{u_1} S (CommRing.toCommSemiring.{u_1} S inst._@.Mathlib.RingTheory.QuotientNilpotent._hyg.126))) (MonoidWithZero.toMonoid.{u_1} (Ideal.{u_1} S (CommSemiring.toSemiring.{u_1} S (CommRing.toCommSemiring.{u_1} S inst._@.Mathlib.RingTheory.QuotientNilpotent._hyg.126))) (Semiring.toMonoidWithZero.{u_1} (Ideal.{u_1} S (CommSemiring.toSemiring.{u_1} S (CommRing.toCommSemiring.{u_1} S inst._@.Mathlib.RingTheory.QuotientNilpotent._hyg.126))) (IdemSemiring.toSemiring.{u_1} (Ideal.{u_1} S (CommSemiring.toSemiring.{u_1} S (CommRing.toCommSemiring.{u_1} S inst._@.Mathlib.RingTheory.QuotientNilpotent._hyg.126))) (Submodule.idemSemiring.{u_1, u_1} S (CommRing.toCommSemiring.{u_1} S inst._@.Mathlib.RingTheory.QuotientNilpotent._hyg.126) S (CommSemiring.toSemiring.{u_1} S (CommRing.toCommSemiring.{u_1} S inst._@.Mathlib.RingTheory.QuotientNilpotent._hyg.126)) (Algebra.id.{u_1} S (CommRing.toCommSemiring.{u_1} S inst._@.Mathlib.RingTheory.QuotientNilpotent._hyg.126)))))))) I (OfNat.ofNat.{0} Nat 2 (instOfNatNat 2))) (Bot.bot.{u_1} (Ideal.{u_1} S (CommSemiring.toSemiring.{u_1} S (CommRing.toCommSemiring.{u_1} S inst._@.Mathlib.RingTheory.QuotientNilpotent._hyg.126))) (Submodule.instBotSubmodule.{u_1, u_1} S S (CommSemiring.toSemiring.{u_1} S (CommRing.toCommSemiring.{u_1} S inst._@.Mathlib.RingTheory.QuotientNilpotent._hyg.126)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u_1} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u_1} S (Semiring.toNonAssocSemiring.{u_1} S (CommSemiring.toSemiring.{u_1} S (CommRing.toCommSemiring.{u_1} S inst._@.Mathlib.RingTheory.QuotientNilpotent._hyg.126))))) (Semiring.toModule.{u_1} S (CommSemiring.toSemiring.{u_1} S (CommRing.toCommSemiring.{u_1} S inst._@.Mathlib.RingTheory.QuotientNilpotent._hyg.126)))))) -> (P S inst._@.Mathlib.RingTheory.QuotientNilpotent._hyg.126 I)) -> (forall {{S : Type.{u_1}}} [inst._@.Mathlib.RingTheory.QuotientNilpotent._hyg.149 : CommRing.{u_1} S] (I : Ideal.{u_1} S (CommSemiring.toSemiring.{u_1} S (CommRing.toCommSemiring.{u_1} S inst._@.Mathlib.RingTheory.QuotientNilpotent._hyg.149))) (J : Ideal.{u_1} S (CommSemiring.toSemiring.{u_1} S (CommRing.toCommSemiring.{u_1} S inst._@.Mathlib.RingTheory.QuotientNilpotent._hyg.149))), (LE.le.{u_1} (Ideal.{u_1} S (CommSemiring.toSemiring.{u_1} S (CommRing.toCommSemiring.{u_1} S inst._@.Mathlib.RingTheory.QuotientNilpotent._hyg.149))) (Preorder.toLE.{u_1} (Ideal.{u_1} S (CommSemiring.toSemiring.{u_1} S (CommRing.toCommSemiring.{u_1} S inst._@.Mathlib.RingTheory.QuotientNilpotent._hyg.149))) (PartialOrder.toPreorder.{u_1} (Ideal.{u_1} S (CommSemiring.toSemiring.{u_1} S (CommRing.toCommSemiring.{u_1} S inst._@.Mathlib.RingTheory.QuotientNilpotent._hyg.149))) (OmegaCompletePartialOrder.toPartialOrder.{u_1} (Ideal.{u_1} S (CommSemiring.toSemiring.{u_1} S (CommRing.toCommSemiring.{u_1} S inst._@.Mathlib.RingTheory.QuotientNilpotent._hyg.149))) (CompleteLattice.instOmegaCompletePartialOrder.{u_1} (Ideal.{u_1} S (CommSemiring.toSemiring.{u_1} S (CommRing.toCommSemiring.{u_1} S inst._@.Mathlib.RingTheory.QuotientNilpotent._hyg.149))) (Submodule.completeLattice.{u_1, u_1} S S (CommSemiring.toSemiring.{u_1} S (CommRing.toCommSemiring.{u_1} S inst._@.Mathlib.RingTheory.QuotientNilpotent._hyg.149)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u_1} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u_1} S (Semiring.toNonAssocSemiring.{u_1} S (CommSemiring.toSemiring.{u_1} S (CommRing.toCommSemiring.{u_1} S inst._@.Mathlib.RingTheory.QuotientNilpotent._hyg.149))))) (Semiring.toModule.{u_1} S (CommSemiring.toSemiring.{u_1} S (CommRing.toCommSemiring.{u_1} S inst._@.Mathlib.RingTheory.QuotientNilpotent._hyg.149)))))))) I J) -> (P S inst._@.Mathlib.RingTheory.QuotientNilpotent._hyg.149 I) -> (P (HasQuotient.Quotient.{u_1, u_1} S (Ideal.{u_1} S (CommSemiring.toSemiring.{u_1} S (CommRing.toCommSemiring.{u_1} S inst._@.Mathlib.RingTheory.QuotientNilpotent._hyg.149))) (Ideal.instHasQuotientIdealToSemiringToCommSemiring.{u_1} S inst._@.Mathlib.RingTheory.QuotientNilpotent._hyg.149) I) (Ideal.Quotient.commRing.{u_1} S inst._@.Mathlib.RingTheory.QuotientNilpotent._hyg.149 I) (Ideal.map.{u_1, u_1, u_1} S (HasQuotient.Quotient.{u_1, u_1} S (Ideal.{u_1} S (CommSemiring.toSemiring.{u_1} S (CommRing.toCommSemiring.{u_1} S inst._@.Mathlib.RingTheory.QuotientNilpotent._hyg.149))) (Ideal.instHasQuotientIdealToSemiringToCommSemiring.{u_1} S inst._@.Mathlib.RingTheory.QuotientNilpotent._hyg.149) I) (RingHom.{u_1, u_1} S (HasQuotient.Quotient.{u_1, u_1} S (Ideal.{u_1} S (CommSemiring.toSemiring.{u_1} S (CommRing.toCommSemiring.{u_1} S inst._@.Mathlib.RingTheory.QuotientNilpotent._hyg.149))) (Ideal.instHasQuotientIdealToSemiringToCommSemiring.{u_1} S inst._@.Mathlib.RingTheory.QuotientNilpotent._hyg.149) I) (Semiring.toNonAssocSemiring.{u_1} S (CommSemiring.toSemiring.{u_1} S (CommRing.toCommSemiring.{u_1} S inst._@.Mathlib.RingTheory.QuotientNilpotent._hyg.149))) (Semiring.toNonAssocSemiring.{u_1} (HasQuotient.Quotient.{u_1, u_1} S (Ideal.{u_1} S (CommSemiring.toSemiring.{u_1} S (CommRing.toCommSemiring.{u_1} S inst._@.Mathlib.RingTheory.QuotientNilpotent._hyg.149))) (Ideal.instHasQuotientIdealToSemiringToCommSemiring.{u_1} S inst._@.Mathlib.RingTheory.QuotientNilpotent._hyg.149) I) (CommSemiring.toSemiring.{u_1} (HasQuotient.Quotient.{u_1, u_1} S (Ideal.{u_1} S (CommSemiring.toSemiring.{u_1} S (CommRing.toCommSemiring.{u_1} S inst._@.Mathlib.RingTheory.QuotientNilpotent._hyg.149))) (Ideal.instHasQuotientIdealToSemiringToCommSemiring.{u_1} S inst._@.Mathlib.RingTheory.QuotientNilpotent._hyg.149) I) (CommRing.toCommSemiring.{u_1} (HasQuotient.Quotient.{u_1, u_1} S (Ideal.{u_1} S (CommSemiring.toSemiring.{u_1} S (CommRing.toCommSemiring.{u_1} S inst._@.Mathlib.RingTheory.QuotientNilpotent._hyg.149))) (Ideal.instHasQuotientIdealToSemiringToCommSemiring.{u_1} S inst._@.Mathlib.RingTheory.QuotientNilpotent._hyg.149) I) (Ideal.Quotient.commRing.{u_1} S inst._@.Mathlib.RingTheory.QuotientNilpotent._hyg.149 I))))) (CommSemiring.toSemiring.{u_1} S (CommRing.toCommSemiring.{u_1} S inst._@.Mathlib.RingTheory.QuotientNilpotent._hyg.149)) (CommSemiring.toSemiring.{u_1} (HasQuotient.Quotient.{u_1, u_1} S (Ideal.{u_1} S (CommSemiring.toSemiring.{u_1} S (CommRing.toCommSemiring.{u_1} S inst._@.Mathlib.RingTheory.QuotientNilpotent._hyg.149))) (Ideal.instHasQuotientIdealToSemiringToCommSemiring.{u_1} S inst._@.Mathlib.RingTheory.QuotientNilpotent._hyg.149) I) (CommRing.toCommSemiring.{u_1} (HasQuotient.Quotient.{u_1, u_1} S (Ideal.{u_1} S (CommSemiring.toSemiring.{u_1} S (CommRing.toCommSemiring.{u_1} S inst._@.Mathlib.RingTheory.QuotientNilpotent._hyg.149))) (Ideal.instHasQuotientIdealToSemiringToCommSemiring.{u_1} S inst._@.Mathlib.RingTheory.QuotientNilpotent._hyg.149) I) (Ideal.Quotient.commRing.{u_1} S inst._@.Mathlib.RingTheory.QuotientNilpotent._hyg.149 I))) (RingHom.instRingHomClassRingHom.{u_1, u_1} S (HasQuotient.Quotient.{u_1, u_1} S (Ideal.{u_1} S (CommSemiring.toSemiring.{u_1} S (CommRing.toCommSemiring.{u_1} S inst._@.Mathlib.RingTheory.QuotientNilpotent._hyg.149))) (Ideal.instHasQuotientIdealToSemiringToCommSemiring.{u_1} S inst._@.Mathlib.RingTheory.QuotientNilpotent._hyg.149) I) (Semiring.toNonAssocSemiring.{u_1} S (CommSemiring.toSemiring.{u_1} S (CommRing.toCommSemiring.{u_1} S inst._@.Mathlib.RingTheory.QuotientNilpotent._hyg.149))) (Semiring.toNonAssocSemiring.{u_1} (HasQuotient.Quotient.{u_1, u_1} S (Ideal.{u_1} S (CommSemiring.toSemiring.{u_1} S (CommRing.toCommSemiring.{u_1} S inst._@.Mathlib.RingTheory.QuotientNilpotent._hyg.149))) (Ideal.instHasQuotientIdealToSemiringToCommSemiring.{u_1} S inst._@.Mathlib.RingTheory.QuotientNilpotent._hyg.149) I) (CommSemiring.toSemiring.{u_1} (HasQuotient.Quotient.{u_1, u_1} S (Ideal.{u_1} S (CommSemiring.toSemiring.{u_1} S (CommRing.toCommSemiring.{u_1} S inst._@.Mathlib.RingTheory.QuotientNilpotent._hyg.149))) (Ideal.instHasQuotientIdealToSemiringToCommSemiring.{u_1} S inst._@.Mathlib.RingTheory.QuotientNilpotent._hyg.149) I) (CommRing.toCommSemiring.{u_1} (HasQuotient.Quotient.{u_1, u_1} S (Ideal.{u_1} S (CommSemiring.toSemiring.{u_1} S (CommRing.toCommSemiring.{u_1} S inst._@.Mathlib.RingTheory.QuotientNilpotent._hyg.149))) (Ideal.instHasQuotientIdealToSemiringToCommSemiring.{u_1} S inst._@.Mathlib.RingTheory.QuotientNilpotent._hyg.149) I) (Ideal.Quotient.commRing.{u_1} S inst._@.Mathlib.RingTheory.QuotientNilpotent._hyg.149 I))))) (Ideal.Quotient.mk.{u_1} S inst._@.Mathlib.RingTheory.QuotientNilpotent._hyg.149 I) J)) -> (P S inst._@.Mathlib.RingTheory.QuotientNilpotent._hyg.149 J)) -> (P _inst_2 hI h₁))
Case conversion may be inaccurate. Consider using '#align ideal.is_nilpotent.induction_on Ideal.IsNilpotent.induction_onₓ'. -/
/-- Let `P` be a property on ideals. If `P` holds for square-zero ideals, and if
  `P I → P (J ⧸ I) → P J`, then `P` holds for all nilpotent ideals. -/
theorem Ideal.IsNilpotent.induction_on (hI : IsNilpotent I)
    {P : ∀ ⦃S : Type _⦄ [CommRing S], ∀ I : Ideal S, Prop}
    (h₁ : ∀ ⦃S : Type _⦄ [CommRing S], ∀ I : Ideal S, I ^ 2 = ⊥ → P I)
    (h₂ :
      ∀ ⦃S : Type _⦄ [CommRing S],
        ∀ I J : Ideal S, I ≤ J → P I → P (J.map (Ideal.Quotient.mk I)) → P J) :
    P I := by
  obtain ⟨n, hI : I ^ n = ⊥⟩ := hI
  revert S
  apply Nat.strong_induction_on n
  clear n
  intro n H S _ I hI
  by_cases hI' : I = ⊥
  · subst hI'
    apply h₁
    rw [← Ideal.zero_eq_bot, zero_pow]
    exact zero_lt_two
  cases n
  · rw [pow_zero, Ideal.one_eq_top] at hI
    haveI := subsingleton_of_bot_eq_top hI.symm
    exact (hI' (Subsingleton.elim _ _)).elim
  cases n
  · rw [pow_one] at hI
    exact (hI' hI).elim
  apply h₂ (I ^ 2) _ (Ideal.pow_le_self two_ne_zero)
  · apply H n.succ _ (I ^ 2)
    · rw [← pow_mul, eq_bot_iff, ← hI, Nat.succ_eq_add_one, Nat.succ_eq_add_one]
      exact Ideal.pow_le_pow (by linarith)
    · exact le_refl n.succ.succ
  · apply h₁
    rw [← Ideal.map_pow, Ideal.map_quotient_self]
#align ideal.is_nilpotent.induction_on Ideal.IsNilpotent.induction_on

/- warning: is_nilpotent.is_unit_quotient_mk_iff -> IsNilpotent.isUnit_quotient_mk_iff is a dubious translation:
lean 3 declaration is
  forall {R : Type.{u1}} [_inst_4 : CommRing.{u1} R] {I : Ideal.{u1} R (Ring.toSemiring.{u1} R (CommRing.toRing.{u1} R _inst_4))}, (IsNilpotent.{u1} (Ideal.{u1} R (Ring.toSemiring.{u1} R (CommRing.toRing.{u1} R _inst_4))) (MulZeroClass.toHasZero.{u1} (Ideal.{u1} R (Ring.toSemiring.{u1} R (CommRing.toRing.{u1} R _inst_4))) (NonUnitalNonAssocSemiring.toMulZeroClass.{u1} (Ideal.{u1} R (Ring.toSemiring.{u1} R (CommRing.toRing.{u1} R _inst_4))) (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} (Ideal.{u1} R (Ring.toSemiring.{u1} R (CommRing.toRing.{u1} R _inst_4))) (Semiring.toNonAssocSemiring.{u1} (Ideal.{u1} R (Ring.toSemiring.{u1} R (CommRing.toRing.{u1} R _inst_4))) (IdemSemiring.toSemiring.{u1} (Ideal.{u1} R (Ring.toSemiring.{u1} R (CommRing.toRing.{u1} R _inst_4))) (Submodule.idemSemiring.{u1, u1} R (CommRing.toCommSemiring.{u1} R _inst_4) R (Ring.toSemiring.{u1} R (CommRing.toRing.{u1} R _inst_4)) (Algebra.id.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4)))))))) (Monoid.Pow.{u1} (Ideal.{u1} R (Ring.toSemiring.{u1} R (CommRing.toRing.{u1} R _inst_4))) (MonoidWithZero.toMonoid.{u1} (Ideal.{u1} R (Ring.toSemiring.{u1} R (CommRing.toRing.{u1} R _inst_4))) (Semiring.toMonoidWithZero.{u1} (Ideal.{u1} R (Ring.toSemiring.{u1} R (CommRing.toRing.{u1} R _inst_4))) (IdemSemiring.toSemiring.{u1} (Ideal.{u1} R (Ring.toSemiring.{u1} R (CommRing.toRing.{u1} R _inst_4))) (Submodule.idemSemiring.{u1, u1} R (CommRing.toCommSemiring.{u1} R _inst_4) R (Ring.toSemiring.{u1} R (CommRing.toRing.{u1} R _inst_4)) (Algebra.id.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))))))) I) -> (forall {x : R}, Iff (IsUnit.{u1} (HasQuotient.Quotient.{u1, u1} R (Ideal.{u1} R (Ring.toSemiring.{u1} R (CommRing.toRing.{u1} R _inst_4))) (Ideal.hasQuotient.{u1} R _inst_4) I) (Ring.toMonoid.{u1} (HasQuotient.Quotient.{u1, u1} R (Ideal.{u1} R (Ring.toSemiring.{u1} R (CommRing.toRing.{u1} R _inst_4))) (Ideal.hasQuotient.{u1} R _inst_4) I) (CommRing.toRing.{u1} (HasQuotient.Quotient.{u1, u1} R (Ideal.{u1} R (Ring.toSemiring.{u1} R (CommRing.toRing.{u1} R _inst_4))) (Ideal.hasQuotient.{u1} R _inst_4) I) (Ideal.Quotient.commRing.{u1} R _inst_4 I))) (coeFn.{succ u1, succ u1} (RingHom.{u1, u1} R (HasQuotient.Quotient.{u1, u1} R (Ideal.{u1} R (Ring.toSemiring.{u1} R (CommRing.toRing.{u1} R _inst_4))) (Ideal.hasQuotient.{u1} R _inst_4) I) (NonAssocRing.toNonAssocSemiring.{u1} R (Ring.toNonAssocRing.{u1} R (CommRing.toRing.{u1} R _inst_4))) (NonAssocRing.toNonAssocSemiring.{u1} (HasQuotient.Quotient.{u1, u1} R (Ideal.{u1} R (Ring.toSemiring.{u1} R (CommRing.toRing.{u1} R _inst_4))) (Ideal.hasQuotient.{u1} R _inst_4) I) (Ring.toNonAssocRing.{u1} (HasQuotient.Quotient.{u1, u1} R (Ideal.{u1} R (Ring.toSemiring.{u1} R (CommRing.toRing.{u1} R _inst_4))) (Ideal.hasQuotient.{u1} R _inst_4) I) (CommRing.toRing.{u1} (HasQuotient.Quotient.{u1, u1} R (Ideal.{u1} R (Ring.toSemiring.{u1} R (CommRing.toRing.{u1} R _inst_4))) (Ideal.hasQuotient.{u1} R _inst_4) I) (Ideal.Quotient.commRing.{u1} R _inst_4 I))))) (fun (_x : RingHom.{u1, u1} R (HasQuotient.Quotient.{u1, u1} R (Ideal.{u1} R (Ring.toSemiring.{u1} R (CommRing.toRing.{u1} R _inst_4))) (Ideal.hasQuotient.{u1} R _inst_4) I) (NonAssocRing.toNonAssocSemiring.{u1} R (Ring.toNonAssocRing.{u1} R (CommRing.toRing.{u1} R _inst_4))) (NonAssocRing.toNonAssocSemiring.{u1} (HasQuotient.Quotient.{u1, u1} R (Ideal.{u1} R (Ring.toSemiring.{u1} R (CommRing.toRing.{u1} R _inst_4))) (Ideal.hasQuotient.{u1} R _inst_4) I) (Ring.toNonAssocRing.{u1} (HasQuotient.Quotient.{u1, u1} R (Ideal.{u1} R (Ring.toSemiring.{u1} R (CommRing.toRing.{u1} R _inst_4))) (Ideal.hasQuotient.{u1} R _inst_4) I) (CommRing.toRing.{u1} (HasQuotient.Quotient.{u1, u1} R (Ideal.{u1} R (Ring.toSemiring.{u1} R (CommRing.toRing.{u1} R _inst_4))) (Ideal.hasQuotient.{u1} R _inst_4) I) (Ideal.Quotient.commRing.{u1} R _inst_4 I))))) => R -> (HasQuotient.Quotient.{u1, u1} R (Ideal.{u1} R (Ring.toSemiring.{u1} R (CommRing.toRing.{u1} R _inst_4))) (Ideal.hasQuotient.{u1} R _inst_4) I)) (RingHom.hasCoeToFun.{u1, u1} R (HasQuotient.Quotient.{u1, u1} R (Ideal.{u1} R (Ring.toSemiring.{u1} R (CommRing.toRing.{u1} R _inst_4))) (Ideal.hasQuotient.{u1} R _inst_4) I) (NonAssocRing.toNonAssocSemiring.{u1} R (Ring.toNonAssocRing.{u1} R (CommRing.toRing.{u1} R _inst_4))) (NonAssocRing.toNonAssocSemiring.{u1} (HasQuotient.Quotient.{u1, u1} R (Ideal.{u1} R (Ring.toSemiring.{u1} R (CommRing.toRing.{u1} R _inst_4))) (Ideal.hasQuotient.{u1} R _inst_4) I) (Ring.toNonAssocRing.{u1} (HasQuotient.Quotient.{u1, u1} R (Ideal.{u1} R (Ring.toSemiring.{u1} R (CommRing.toRing.{u1} R _inst_4))) (Ideal.hasQuotient.{u1} R _inst_4) I) (CommRing.toRing.{u1} (HasQuotient.Quotient.{u1, u1} R (Ideal.{u1} R (Ring.toSemiring.{u1} R (CommRing.toRing.{u1} R _inst_4))) (Ideal.hasQuotient.{u1} R _inst_4) I) (Ideal.Quotient.commRing.{u1} R _inst_4 I))))) (Ideal.Quotient.mk.{u1} R _inst_4 I) x)) (IsUnit.{u1} R (Ring.toMonoid.{u1} R (CommRing.toRing.{u1} R _inst_4)) x))
but is expected to have type
  forall {R : Type.{u1}} [_inst_4 : CommRing.{u1} R] {I : Ideal.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))}, (IsNilpotent.{u1} (Ideal.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (CommMonoidWithZero.toZero.{u1} (Ideal.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (CommSemiring.toCommMonoidWithZero.{u1} (Ideal.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (IdemCommSemiring.toCommSemiring.{u1} (Ideal.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (Ideal.instIdemCommSemiringIdealToSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))))) (Monoid.Pow.{u1} (Ideal.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (MonoidWithZero.toMonoid.{u1} (Ideal.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (Semiring.toMonoidWithZero.{u1} (Ideal.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (IdemSemiring.toSemiring.{u1} (Ideal.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (Submodule.idemSemiring.{u1, u1} R (CommRing.toCommSemiring.{u1} R _inst_4) R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4)) (Algebra.id.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))))))) I) -> (forall {x : R}, Iff (IsUnit.{u1} ((fun (x._@.Mathlib.Algebra.Hom.Group._hyg.2391 : R) => HasQuotient.Quotient.{u1, u1} R (Ideal.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (Ideal.instHasQuotientIdealToSemiringToCommSemiring.{u1} R _inst_4) I) x) (MonoidWithZero.toMonoid.{u1} ((fun (x._@.Mathlib.Algebra.Hom.Group._hyg.2391 : R) => HasQuotient.Quotient.{u1, u1} R (Ideal.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (Ideal.instHasQuotientIdealToSemiringToCommSemiring.{u1} R _inst_4) I) x) (Semiring.toMonoidWithZero.{u1} ((fun (x._@.Mathlib.Algebra.Hom.Group._hyg.2391 : R) => HasQuotient.Quotient.{u1, u1} R (Ideal.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (Ideal.instHasQuotientIdealToSemiringToCommSemiring.{u1} R _inst_4) I) x) (CommSemiring.toSemiring.{u1} ((fun (x._@.Mathlib.Algebra.Hom.Group._hyg.2391 : R) => HasQuotient.Quotient.{u1, u1} R (Ideal.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (Ideal.instHasQuotientIdealToSemiringToCommSemiring.{u1} R _inst_4) I) x) (CommRing.toCommSemiring.{u1} ((fun (x._@.Mathlib.Algebra.Hom.Group._hyg.2391 : R) => HasQuotient.Quotient.{u1, u1} R (Ideal.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (Ideal.instHasQuotientIdealToSemiringToCommSemiring.{u1} R _inst_4) I) x) (Ideal.Quotient.commRing.{u1} R _inst_4 I))))) (FunLike.coe.{succ u1, succ u1, succ u1} (RingHom.{u1, u1} R (HasQuotient.Quotient.{u1, u1} R (Ideal.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (Ideal.instHasQuotientIdealToSemiringToCommSemiring.{u1} R _inst_4) I) (Semiring.toNonAssocSemiring.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (Semiring.toNonAssocSemiring.{u1} (HasQuotient.Quotient.{u1, u1} R (Ideal.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (Ideal.instHasQuotientIdealToSemiringToCommSemiring.{u1} R _inst_4) I) (CommSemiring.toSemiring.{u1} (HasQuotient.Quotient.{u1, u1} R (Ideal.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (Ideal.instHasQuotientIdealToSemiringToCommSemiring.{u1} R _inst_4) I) (CommRing.toCommSemiring.{u1} (HasQuotient.Quotient.{u1, u1} R (Ideal.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (Ideal.instHasQuotientIdealToSemiringToCommSemiring.{u1} R _inst_4) I) (Ideal.Quotient.commRing.{u1} R _inst_4 I))))) R (fun (_x : R) => (fun (x._@.Mathlib.Algebra.Hom.Group._hyg.2391 : R) => HasQuotient.Quotient.{u1, u1} R (Ideal.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (Ideal.instHasQuotientIdealToSemiringToCommSemiring.{u1} R _inst_4) I) _x) (MulHomClass.toFunLike.{u1, u1, u1} (RingHom.{u1, u1} R (HasQuotient.Quotient.{u1, u1} R (Ideal.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (Ideal.instHasQuotientIdealToSemiringToCommSemiring.{u1} R _inst_4) I) (Semiring.toNonAssocSemiring.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (Semiring.toNonAssocSemiring.{u1} (HasQuotient.Quotient.{u1, u1} R (Ideal.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (Ideal.instHasQuotientIdealToSemiringToCommSemiring.{u1} R _inst_4) I) (CommSemiring.toSemiring.{u1} (HasQuotient.Quotient.{u1, u1} R (Ideal.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (Ideal.instHasQuotientIdealToSemiringToCommSemiring.{u1} R _inst_4) I) (CommRing.toCommSemiring.{u1} (HasQuotient.Quotient.{u1, u1} R (Ideal.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (Ideal.instHasQuotientIdealToSemiringToCommSemiring.{u1} R _inst_4) I) (Ideal.Quotient.commRing.{u1} R _inst_4 I))))) R (HasQuotient.Quotient.{u1, u1} R (Ideal.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (Ideal.instHasQuotientIdealToSemiringToCommSemiring.{u1} R _inst_4) I) (NonUnitalNonAssocSemiring.toMul.{u1} R (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} R (Semiring.toNonAssocSemiring.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))))) (NonUnitalNonAssocSemiring.toMul.{u1} (HasQuotient.Quotient.{u1, u1} R (Ideal.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (Ideal.instHasQuotientIdealToSemiringToCommSemiring.{u1} R _inst_4) I) (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} (HasQuotient.Quotient.{u1, u1} R (Ideal.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (Ideal.instHasQuotientIdealToSemiringToCommSemiring.{u1} R _inst_4) I) (Semiring.toNonAssocSemiring.{u1} (HasQuotient.Quotient.{u1, u1} R (Ideal.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (Ideal.instHasQuotientIdealToSemiringToCommSemiring.{u1} R _inst_4) I) (CommSemiring.toSemiring.{u1} (HasQuotient.Quotient.{u1, u1} R (Ideal.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (Ideal.instHasQuotientIdealToSemiringToCommSemiring.{u1} R _inst_4) I) (CommRing.toCommSemiring.{u1} (HasQuotient.Quotient.{u1, u1} R (Ideal.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (Ideal.instHasQuotientIdealToSemiringToCommSemiring.{u1} R _inst_4) I) (Ideal.Quotient.commRing.{u1} R _inst_4 I)))))) (NonUnitalRingHomClass.toMulHomClass.{u1, u1, u1} (RingHom.{u1, u1} R (HasQuotient.Quotient.{u1, u1} R (Ideal.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (Ideal.instHasQuotientIdealToSemiringToCommSemiring.{u1} R _inst_4) I) (Semiring.toNonAssocSemiring.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (Semiring.toNonAssocSemiring.{u1} (HasQuotient.Quotient.{u1, u1} R (Ideal.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (Ideal.instHasQuotientIdealToSemiringToCommSemiring.{u1} R _inst_4) I) (CommSemiring.toSemiring.{u1} (HasQuotient.Quotient.{u1, u1} R (Ideal.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (Ideal.instHasQuotientIdealToSemiringToCommSemiring.{u1} R _inst_4) I) (CommRing.toCommSemiring.{u1} (HasQuotient.Quotient.{u1, u1} R (Ideal.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (Ideal.instHasQuotientIdealToSemiringToCommSemiring.{u1} R _inst_4) I) (Ideal.Quotient.commRing.{u1} R _inst_4 I))))) R (HasQuotient.Quotient.{u1, u1} R (Ideal.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (Ideal.instHasQuotientIdealToSemiringToCommSemiring.{u1} R _inst_4) I) (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} R (Semiring.toNonAssocSemiring.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4)))) (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} (HasQuotient.Quotient.{u1, u1} R (Ideal.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (Ideal.instHasQuotientIdealToSemiringToCommSemiring.{u1} R _inst_4) I) (Semiring.toNonAssocSemiring.{u1} (HasQuotient.Quotient.{u1, u1} R (Ideal.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (Ideal.instHasQuotientIdealToSemiringToCommSemiring.{u1} R _inst_4) I) (CommSemiring.toSemiring.{u1} (HasQuotient.Quotient.{u1, u1} R (Ideal.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (Ideal.instHasQuotientIdealToSemiringToCommSemiring.{u1} R _inst_4) I) (CommRing.toCommSemiring.{u1} (HasQuotient.Quotient.{u1, u1} R (Ideal.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (Ideal.instHasQuotientIdealToSemiringToCommSemiring.{u1} R _inst_4) I) (Ideal.Quotient.commRing.{u1} R _inst_4 I))))) (RingHomClass.toNonUnitalRingHomClass.{u1, u1, u1} (RingHom.{u1, u1} R (HasQuotient.Quotient.{u1, u1} R (Ideal.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (Ideal.instHasQuotientIdealToSemiringToCommSemiring.{u1} R _inst_4) I) (Semiring.toNonAssocSemiring.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (Semiring.toNonAssocSemiring.{u1} (HasQuotient.Quotient.{u1, u1} R (Ideal.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (Ideal.instHasQuotientIdealToSemiringToCommSemiring.{u1} R _inst_4) I) (CommSemiring.toSemiring.{u1} (HasQuotient.Quotient.{u1, u1} R (Ideal.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (Ideal.instHasQuotientIdealToSemiringToCommSemiring.{u1} R _inst_4) I) (CommRing.toCommSemiring.{u1} (HasQuotient.Quotient.{u1, u1} R (Ideal.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (Ideal.instHasQuotientIdealToSemiringToCommSemiring.{u1} R _inst_4) I) (Ideal.Quotient.commRing.{u1} R _inst_4 I))))) R (HasQuotient.Quotient.{u1, u1} R (Ideal.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (Ideal.instHasQuotientIdealToSemiringToCommSemiring.{u1} R _inst_4) I) (Semiring.toNonAssocSemiring.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (Semiring.toNonAssocSemiring.{u1} (HasQuotient.Quotient.{u1, u1} R (Ideal.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (Ideal.instHasQuotientIdealToSemiringToCommSemiring.{u1} R _inst_4) I) (CommSemiring.toSemiring.{u1} (HasQuotient.Quotient.{u1, u1} R (Ideal.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (Ideal.instHasQuotientIdealToSemiringToCommSemiring.{u1} R _inst_4) I) (CommRing.toCommSemiring.{u1} (HasQuotient.Quotient.{u1, u1} R (Ideal.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (Ideal.instHasQuotientIdealToSemiringToCommSemiring.{u1} R _inst_4) I) (Ideal.Quotient.commRing.{u1} R _inst_4 I)))) (RingHom.instRingHomClassRingHom.{u1, u1} R (HasQuotient.Quotient.{u1, u1} R (Ideal.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (Ideal.instHasQuotientIdealToSemiringToCommSemiring.{u1} R _inst_4) I) (Semiring.toNonAssocSemiring.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (Semiring.toNonAssocSemiring.{u1} (HasQuotient.Quotient.{u1, u1} R (Ideal.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (Ideal.instHasQuotientIdealToSemiringToCommSemiring.{u1} R _inst_4) I) (CommSemiring.toSemiring.{u1} (HasQuotient.Quotient.{u1, u1} R (Ideal.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (Ideal.instHasQuotientIdealToSemiringToCommSemiring.{u1} R _inst_4) I) (CommRing.toCommSemiring.{u1} (HasQuotient.Quotient.{u1, u1} R (Ideal.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (Ideal.instHasQuotientIdealToSemiringToCommSemiring.{u1} R _inst_4) I) (Ideal.Quotient.commRing.{u1} R _inst_4 I)))))))) (Ideal.Quotient.mk.{u1} R _inst_4 I) x)) (IsUnit.{u1} R (MonoidWithZero.toMonoid.{u1} R (Semiring.toMonoidWithZero.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4)))) x))
Case conversion may be inaccurate. Consider using '#align is_nilpotent.is_unit_quotient_mk_iff IsNilpotent.isUnit_quotient_mk_iffₓ'. -/
theorem IsNilpotent.isUnit_quotient_mk_iff {R : Type _} [CommRing R] {I : Ideal R}
    (hI : IsNilpotent I) {x : R} : IsUnit (Ideal.Quotient.mk I x) ↔ IsUnit x :=
  by
  refine' ⟨_, fun h => h.map I.Quotient.mk⟩
  revert x
  apply Ideal.IsNilpotent.induction_on I hI <;> clear hI I
  swap
  · introv e h₁ h₂ h₃
    apply h₁
    apply h₂
    exact
      h₃.map
        ((DoubleQuot.quotQuotEquivQuotSup I J).trans
              (Ideal.quotEquivOfEq (sup_eq_right.mpr e))).symm.toRingHom
  · introv e H
    skip
    obtain ⟨y, hy⟩ := Ideal.Quotient.mk_surjective (↑H.unit⁻¹ : S ⧸ I)
    have : Ideal.Quotient.mk I (x * y) = Ideal.Quotient.mk I 1 := by
      rw [map_one, _root_.map_mul, hy, IsUnit.mul_val_inv]
    rw [Ideal.Quotient.eq] at this
    have : (x * y - 1) ^ 2 = 0 := by
      rw [← Ideal.mem_bot, ← e]
      exact Ideal.pow_mem_pow this _
    have : x * (y * (2 - x * y)) = 1 :=
      by
      rw [eq_comm, ← sub_eq_zero, ← this]
      ring
    exact isUnit_of_mul_eq_one _ _ this
#align is_nilpotent.is_unit_quotient_mk_iff IsNilpotent.isUnit_quotient_mk_iff

