/-
Copyright (c) 2021 Anne Baanen. All rights reserved.
Released under Apache 2.0 license as described in the file LICENSE.
Authors: Anne Baanen

! This file was ported from Lean 3 source module ring_theory.adjoin.power_basis
! leanprover-community/mathlib commit a87d22575d946e1e156fc1edd1e1269600a8a282
! Please do not edit these lines, except to modify the commit id
! if you have ported upstream changes.
-/
import Mathbin.RingTheory.Adjoin.Basic
import Mathbin.RingTheory.PowerBasis
import Mathbin.LinearAlgebra.Matrix.Basis

/-!
# Power basis for `algebra.adjoin R {x}`

> THIS FILE IS SYNCHRONIZED WITH MATHLIB4.
> Any changes to this file require a corresponding PR to mathlib4.

This file defines the canonical power basis on `algebra.adjoin R {x}`,
where `x` is an integral element over `R`.
-/


variable {K S : Type _} [Field K] [CommRing S] [Algebra K S]

namespace Algebra

open Polynomial

open PowerBasis

open BigOperators

/- warning: algebra.adjoin.power_basis_aux -> Algebra.adjoin.powerBasisAux is a dubious translation:
lean 3 declaration is
  forall {K : Type.{u1}} {S : Type.{u2}} [_inst_1 : Field.{u1} K] [_inst_2 : CommRing.{u2} S] [_inst_3 : Algebra.{u1, u2} K S (Semifield.toCommSemiring.{u1} K (Field.toSemifield.{u1} K _inst_1)) (Ring.toSemiring.{u2} S (CommRing.toRing.{u2} S _inst_2))] {x : S}, (IsIntegral.{u1, u2} K S (EuclideanDomain.toCommRing.{u1} K (Field.toEuclideanDomain.{u1} K _inst_1)) (CommRing.toRing.{u2} S _inst_2) _inst_3 x) -> (Basis.{0, u1, u2} (Fin (Polynomial.natDegree.{u1} K (Ring.toSemiring.{u1} K (CommRing.toRing.{u1} K (EuclideanDomain.toCommRing.{u1} K (Field.toEuclideanDomain.{u1} K _inst_1)))) (minpoly.{u1, u2} K S (EuclideanDomain.toCommRing.{u1} K (Field.toEuclideanDomain.{u1} K _inst_1)) (CommRing.toRing.{u2} S _inst_2) _inst_3 x))) K (coeSort.{succ u2, succ (succ u2)} (Subalgebra.{u1, u2} K S (Semifield.toCommSemiring.{u1} K (Field.toSemifield.{u1} K _inst_1)) (Ring.toSemiring.{u2} S (CommRing.toRing.{u2} S _inst_2)) _inst_3) Type.{u2} (SetLike.hasCoeToSort.{u2, u2} (Subalgebra.{u1, u2} K S (Semifield.toCommSemiring.{u1} K (Field.toSemifield.{u1} K _inst_1)) (Ring.toSemiring.{u2} S (CommRing.toRing.{u2} S _inst_2)) _inst_3) S (Subalgebra.setLike.{u1, u2} K S (Semifield.toCommSemiring.{u1} K (Field.toSemifield.{u1} K _inst_1)) (Ring.toSemiring.{u2} S (CommRing.toRing.{u2} S _inst_2)) _inst_3)) (Algebra.adjoin.{u1, u2} K S (Semifield.toCommSemiring.{u1} K (Field.toSemifield.{u1} K _inst_1)) (Ring.toSemiring.{u2} S (CommRing.toRing.{u2} S _inst_2)) _inst_3 (Singleton.singleton.{u2, u2} S (Set.{u2} S) (Set.hasSingleton.{u2} S) x))) (Ring.toSemiring.{u1} K (DivisionRing.toRing.{u1} K (Field.toDivisionRing.{u1} K _inst_1))) (AddCommGroup.toAddCommMonoid.{u2} (coeSort.{succ u2, succ (succ u2)} (Subalgebra.{u1, u2} K S (Semifield.toCommSemiring.{u1} K (Field.toSemifield.{u1} K _inst_1)) (Ring.toSemiring.{u2} S (CommRing.toRing.{u2} S _inst_2)) _inst_3) Type.{u2} (SetLike.hasCoeToSort.{u2, u2} (Subalgebra.{u1, u2} K S (Semifield.toCommSemiring.{u1} K (Field.toSemifield.{u1} K _inst_1)) (Ring.toSemiring.{u2} S (CommRing.toRing.{u2} S _inst_2)) _inst_3) S (Subalgebra.setLike.{u1, u2} K S (Semifield.toCommSemiring.{u1} K (Field.toSemifield.{u1} K _inst_1)) (Ring.toSemiring.{u2} S (CommRing.toRing.{u2} S _inst_2)) _inst_3)) (Algebra.adjoin.{u1, u2} K S (Semifield.toCommSemiring.{u1} K (Field.toSemifield.{u1} K _inst_1)) (Ring.toSemiring.{u2} S (CommRing.toRing.{u2} S _inst_2)) _inst_3 (Singleton.singleton.{u2, u2} S (Set.{u2} S) (Set.hasSingleton.{u2} S) x))) (NonUnitalNonAssocRing.toAddCommGroup.{u2} (coeSort.{succ u2, succ (succ u2)} (Subalgebra.{u1, u2} K S (Semifield.toCommSemiring.{u1} K (Field.toSemifield.{u1} K _inst_1)) (Ring.toSemiring.{u2} S (CommRing.toRing.{u2} S _inst_2)) _inst_3) Type.{u2} (SetLike.hasCoeToSort.{u2, u2} (Subalgebra.{u1, u2} K S (Semifield.toCommSemiring.{u1} K (Field.toSemifield.{u1} K _inst_1)) (Ring.toSemiring.{u2} S (CommRing.toRing.{u2} S _inst_2)) _inst_3) S (Subalgebra.setLike.{u1, u2} K S (Semifield.toCommSemiring.{u1} K (Field.toSemifield.{u1} K _inst_1)) (Ring.toSemiring.{u2} S (CommRing.toRing.{u2} S _inst_2)) _inst_3)) (Algebra.adjoin.{u1, u2} K S (Semifield.toCommSemiring.{u1} K (Field.toSemifield.{u1} K _inst_1)) (Ring.toSemiring.{u2} S (CommRing.toRing.{u2} S _inst_2)) _inst_3 (Singleton.singleton.{u2, u2} S (Set.{u2} S) (Set.hasSingleton.{u2} S) x))) (NonAssocRing.toNonUnitalNonAssocRing.{u2} (coeSort.{succ u2, succ (succ u2)} (Subalgebra.{u1, u2} K S (Semifield.toCommSemiring.{u1} K (Field.toSemifield.{u1} K _inst_1)) (Ring.toSemiring.{u2} S (CommRing.toRing.{u2} S _inst_2)) _inst_3) Type.{u2} (SetLike.hasCoeToSort.{u2, u2} (Subalgebra.{u1, u2} K S (Semifield.toCommSemiring.{u1} K (Field.toSemifield.{u1} K _inst_1)) (Ring.toSemiring.{u2} S (CommRing.toRing.{u2} S _inst_2)) _inst_3) S (Subalgebra.setLike.{u1, u2} K S (Semifield.toCommSemiring.{u1} K (Field.toSemifield.{u1} K _inst_1)) (Ring.toSemiring.{u2} S (CommRing.toRing.{u2} S _inst_2)) _inst_3)) (Algebra.adjoin.{u1, u2} K S (Semifield.toCommSemiring.{u1} K (Field.toSemifield.{u1} K _inst_1)) (Ring.toSemiring.{u2} S (CommRing.toRing.{u2} S _inst_2)) _inst_3 (Singleton.singleton.{u2, u2} S (Set.{u2} S) (Set.hasSingleton.{u2} S) x))) (Ring.toNonAssocRing.{u2} (coeSort.{succ u2, succ (succ u2)} (Subalgebra.{u1, u2} K S (Semifield.toCommSemiring.{u1} K (Field.toSemifield.{u1} K _inst_1)) (Ring.toSemiring.{u2} S (CommRing.toRing.{u2} S _inst_2)) _inst_3) Type.{u2} (SetLike.hasCoeToSort.{u2, u2} (Subalgebra.{u1, u2} K S (Semifield.toCommSemiring.{u1} K (Field.toSemifield.{u1} K _inst_1)) (Ring.toSemiring.{u2} S (CommRing.toRing.{u2} S _inst_2)) _inst_3) S (Subalgebra.setLike.{u1, u2} K S (Semifield.toCommSemiring.{u1} K (Field.toSemifield.{u1} K _inst_1)) (Ring.toSemiring.{u2} S (CommRing.toRing.{u2} S _inst_2)) _inst_3)) (Algebra.adjoin.{u1, u2} K S (Semifield.toCommSemiring.{u1} K (Field.toSemifield.{u1} K _inst_1)) (Ring.toSemiring.{u2} S (CommRing.toRing.{u2} S _inst_2)) _inst_3 (Singleton.singleton.{u2, u2} S (Set.{u2} S) (Set.hasSingleton.{u2} S) x))) (Subalgebra.toRing.{u1, u2} K S (EuclideanDomain.toCommRing.{u1} K (Field.toEuclideanDomain.{u1} K _inst_1)) (CommRing.toRing.{u2} S _inst_2) _inst_3 (Algebra.adjoin.{u1, u2} K S (Semifield.toCommSemiring.{u1} K (Field.toSemifield.{u1} K _inst_1)) (Ring.toSemiring.{u2} S (CommRing.toRing.{u2} S _inst_2)) _inst_3 (Singleton.singleton.{u2, u2} S (Set.{u2} S) (Set.hasSingleton.{u2} S) x))))))) (Subalgebra.module.{u1, u2} K S (Semifield.toCommSemiring.{u1} K (Field.toSemifield.{u1} K _inst_1)) (Ring.toSemiring.{u2} S (CommRing.toRing.{u2} S _inst_2)) _inst_3 (Algebra.adjoin.{u1, u2} K S (Semifield.toCommSemiring.{u1} K (Field.toSemifield.{u1} K _inst_1)) (Ring.toSemiring.{u2} S (CommRing.toRing.{u2} S _inst_2)) _inst_3 (Singleton.singleton.{u2, u2} S (Set.{u2} S) (Set.hasSingleton.{u2} S) x))))
but is expected to have type
  forall {K : Type.{u1}} {S : Type.{u2}} [_inst_1 : Field.{u1} K] [_inst_2 : CommRing.{u2} S] [_inst_3 : Algebra.{u1, u2} K S (Semifield.toCommSemiring.{u1} K (Field.toSemifield.{u1} K _inst_1)) (CommSemiring.toSemiring.{u2} S (CommRing.toCommSemiring.{u2} S _inst_2))] {x : S}, (IsIntegral.{u1, u2} K S (EuclideanDomain.toCommRing.{u1} K (Field.toEuclideanDomain.{u1} K _inst_1)) (CommRing.toRing.{u2} S _inst_2) _inst_3 x) -> (Basis.{0, u1, u2} (Fin (Polynomial.natDegree.{u1} K (CommSemiring.toSemiring.{u1} K (CommRing.toCommSemiring.{u1} K (EuclideanDomain.toCommRing.{u1} K (Field.toEuclideanDomain.{u1} K _inst_1)))) (minpoly.{u1, u2} K S (EuclideanDomain.toCommRing.{u1} K (Field.toEuclideanDomain.{u1} K _inst_1)) (CommRing.toRing.{u2} S _inst_2) _inst_3 x))) K (Subtype.{succ u2} S (fun (x_1 : S) => Membership.mem.{u2, u2} S (Subalgebra.{u1, u2} K S (Semifield.toCommSemiring.{u1} K (Field.toSemifield.{u1} K _inst_1)) (CommSemiring.toSemiring.{u2} S (CommRing.toCommSemiring.{u2} S _inst_2)) _inst_3) (SetLike.instMembership.{u2, u2} (Subalgebra.{u1, u2} K S (Semifield.toCommSemiring.{u1} K (Field.toSemifield.{u1} K _inst_1)) (CommSemiring.toSemiring.{u2} S (CommRing.toCommSemiring.{u2} S _inst_2)) _inst_3) S (Subalgebra.instSetLikeSubalgebra.{u1, u2} K S (Semifield.toCommSemiring.{u1} K (Field.toSemifield.{u1} K _inst_1)) (CommSemiring.toSemiring.{u2} S (CommRing.toCommSemiring.{u2} S _inst_2)) _inst_3)) x_1 (Algebra.adjoin.{u1, u2} K S (Semifield.toCommSemiring.{u1} K (Field.toSemifield.{u1} K _inst_1)) (CommSemiring.toSemiring.{u2} S (CommRing.toCommSemiring.{u2} S _inst_2)) _inst_3 (Singleton.singleton.{u2, u2} S (Set.{u2} S) (Set.instSingletonSet.{u2} S) x)))) (DivisionSemiring.toSemiring.{u1} K (Semifield.toDivisionSemiring.{u1} K (Field.toSemifield.{u1} K _inst_1))) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} (Subtype.{succ u2} S (fun (x_1 : S) => Membership.mem.{u2, u2} S (Subalgebra.{u1, u2} K S (Semifield.toCommSemiring.{u1} K (Field.toSemifield.{u1} K _inst_1)) (CommSemiring.toSemiring.{u2} S (CommRing.toCommSemiring.{u2} S _inst_2)) _inst_3) (SetLike.instMembership.{u2, u2} (Subalgebra.{u1, u2} K S (Semifield.toCommSemiring.{u1} K (Field.toSemifield.{u1} K _inst_1)) (CommSemiring.toSemiring.{u2} S (CommRing.toCommSemiring.{u2} S _inst_2)) _inst_3) S (Subalgebra.instSetLikeSubalgebra.{u1, u2} K S (Semifield.toCommSemiring.{u1} K (Field.toSemifield.{u1} K _inst_1)) (CommSemiring.toSemiring.{u2} S (CommRing.toCommSemiring.{u2} S _inst_2)) _inst_3)) x_1 (Algebra.adjoin.{u1, u2} K S (Semifield.toCommSemiring.{u1} K (Field.toSemifield.{u1} K _inst_1)) (CommSemiring.toSemiring.{u2} S (CommRing.toCommSemiring.{u2} S _inst_2)) _inst_3 (Singleton.singleton.{u2, u2} S (Set.{u2} S) (Set.instSingletonSet.{u2} S) x)))) (NonUnitalNonAssocRing.toNonUnitalNonAssocSemiring.{u2} (Subtype.{succ u2} S (fun (x_1 : S) => Membership.mem.{u2, u2} S (Subalgebra.{u1, u2} K S (Semifield.toCommSemiring.{u1} K (Field.toSemifield.{u1} K _inst_1)) (CommSemiring.toSemiring.{u2} S (CommRing.toCommSemiring.{u2} S _inst_2)) _inst_3) (SetLike.instMembership.{u2, u2} (Subalgebra.{u1, u2} K S (Semifield.toCommSemiring.{u1} K (Field.toSemifield.{u1} K _inst_1)) (CommSemiring.toSemiring.{u2} S (CommRing.toCommSemiring.{u2} S _inst_2)) _inst_3) S (Subalgebra.instSetLikeSubalgebra.{u1, u2} K S (Semifield.toCommSemiring.{u1} K (Field.toSemifield.{u1} K _inst_1)) (CommSemiring.toSemiring.{u2} S (CommRing.toCommSemiring.{u2} S _inst_2)) _inst_3)) x_1 (Algebra.adjoin.{u1, u2} K S (Semifield.toCommSemiring.{u1} K (Field.toSemifield.{u1} K _inst_1)) (CommSemiring.toSemiring.{u2} S (CommRing.toCommSemiring.{u2} S _inst_2)) _inst_3 (Singleton.singleton.{u2, u2} S (Set.{u2} S) (Set.instSingletonSet.{u2} S) x)))) (NonAssocRing.toNonUnitalNonAssocRing.{u2} (Subtype.{succ u2} S (fun (x_1 : S) => Membership.mem.{u2, u2} S (Subalgebra.{u1, u2} K S (Semifield.toCommSemiring.{u1} K (Field.toSemifield.{u1} K _inst_1)) (CommSemiring.toSemiring.{u2} S (CommRing.toCommSemiring.{u2} S _inst_2)) _inst_3) (SetLike.instMembership.{u2, u2} (Subalgebra.{u1, u2} K S (Semifield.toCommSemiring.{u1} K (Field.toSemifield.{u1} K _inst_1)) (CommSemiring.toSemiring.{u2} S (CommRing.toCommSemiring.{u2} S _inst_2)) _inst_3) S (Subalgebra.instSetLikeSubalgebra.{u1, u2} K S (Semifield.toCommSemiring.{u1} K (Field.toSemifield.{u1} K _inst_1)) (CommSemiring.toSemiring.{u2} S (CommRing.toCommSemiring.{u2} S _inst_2)) _inst_3)) x_1 (Algebra.adjoin.{u1, u2} K S (Semifield.toCommSemiring.{u1} K (Field.toSemifield.{u1} K _inst_1)) (CommSemiring.toSemiring.{u2} S (CommRing.toCommSemiring.{u2} S _inst_2)) _inst_3 (Singleton.singleton.{u2, u2} S (Set.{u2} S) (Set.instSingletonSet.{u2} S) x)))) (Ring.toNonAssocRing.{u2} (Subtype.{succ u2} S (fun (x_1 : S) => Membership.mem.{u2, u2} S (Subalgebra.{u1, u2} K S (Semifield.toCommSemiring.{u1} K (Field.toSemifield.{u1} K _inst_1)) (CommSemiring.toSemiring.{u2} S (CommRing.toCommSemiring.{u2} S _inst_2)) _inst_3) (SetLike.instMembership.{u2, u2} (Subalgebra.{u1, u2} K S (Semifield.toCommSemiring.{u1} K (Field.toSemifield.{u1} K _inst_1)) (CommSemiring.toSemiring.{u2} S (CommRing.toCommSemiring.{u2} S _inst_2)) _inst_3) S (Subalgebra.instSetLikeSubalgebra.{u1, u2} K S (Semifield.toCommSemiring.{u1} K (Field.toSemifield.{u1} K _inst_1)) (CommSemiring.toSemiring.{u2} S (CommRing.toCommSemiring.{u2} S _inst_2)) _inst_3)) x_1 (Algebra.adjoin.{u1, u2} K S (Semifield.toCommSemiring.{u1} K (Field.toSemifield.{u1} K _inst_1)) (CommSemiring.toSemiring.{u2} S (CommRing.toCommSemiring.{u2} S _inst_2)) _inst_3 (Singleton.singleton.{u2, u2} S (Set.{u2} S) (Set.instSingletonSet.{u2} S) x)))) (CommRing.toRing.{u2} (Subtype.{succ u2} S (fun (x_1 : S) => Membership.mem.{u2, u2} S (Subalgebra.{u1, u2} K S (Semifield.toCommSemiring.{u1} K (Field.toSemifield.{u1} K _inst_1)) (CommSemiring.toSemiring.{u2} S (CommRing.toCommSemiring.{u2} S _inst_2)) _inst_3) (SetLike.instMembership.{u2, u2} (Subalgebra.{u1, u2} K S (Semifield.toCommSemiring.{u1} K (Field.toSemifield.{u1} K _inst_1)) (CommSemiring.toSemiring.{u2} S (CommRing.toCommSemiring.{u2} S _inst_2)) _inst_3) S (Subalgebra.instSetLikeSubalgebra.{u1, u2} K S (Semifield.toCommSemiring.{u1} K (Field.toSemifield.{u1} K _inst_1)) (CommSemiring.toSemiring.{u2} S (CommRing.toCommSemiring.{u2} S _inst_2)) _inst_3)) x_1 (Algebra.adjoin.{u1, u2} K S (Semifield.toCommSemiring.{u1} K (Field.toSemifield.{u1} K _inst_1)) (CommSemiring.toSemiring.{u2} S (CommRing.toCommSemiring.{u2} S _inst_2)) _inst_3 (Singleton.singleton.{u2, u2} S (Set.{u2} S) (Set.instSingletonSet.{u2} S) x)))) (SubringClass.toCommRing.{u2, u2} (Subalgebra.{u1, u2} K S (Semifield.toCommSemiring.{u1} K (Field.toSemifield.{u1} K _inst_1)) (CommSemiring.toSemiring.{u2} S (CommRing.toCommSemiring.{u2} S _inst_2)) _inst_3) (Algebra.adjoin.{u1, u2} K S (Semifield.toCommSemiring.{u1} K (Field.toSemifield.{u1} K _inst_1)) (CommSemiring.toSemiring.{u2} S (CommRing.toCommSemiring.{u2} S _inst_2)) _inst_3 (Singleton.singleton.{u2, u2} S (Set.{u2} S) (Set.instSingletonSet.{u2} S) x)) S _inst_2 (Subalgebra.instSetLikeSubalgebra.{u1, u2} K S (Semifield.toCommSemiring.{u1} K (Field.toSemifield.{u1} K _inst_1)) (CommSemiring.toSemiring.{u2} S (CommRing.toCommSemiring.{u2} S _inst_2)) _inst_3) (Subalgebra.instSubringClassSubalgebraToCommSemiringToSemiringInstSetLikeSubalgebra.{u1, u2} K S (EuclideanDomain.toCommRing.{u1} K (Field.toEuclideanDomain.{u1} K _inst_1)) (CommRing.toRing.{u2} S _inst_2) _inst_3))))))) (Subalgebra.instModuleSubtypeMemSubalgebraInstMembershipInstSetLikeSubalgebraToSemiringToAddCommMonoidToNonUnitalNonAssocSemiringToNonAssocSemiringToNonAssocSemiringToSubsemiring.{u1, u2} K S (Semifield.toCommSemiring.{u1} K (Field.toSemifield.{u1} K _inst_1)) (CommSemiring.toSemiring.{u2} S (CommRing.toCommSemiring.{u2} S _inst_2)) _inst_3 (Algebra.adjoin.{u1, u2} K S (Semifield.toCommSemiring.{u1} K (Field.toSemifield.{u1} K _inst_1)) (CommSemiring.toSemiring.{u2} S (CommRing.toCommSemiring.{u2} S _inst_2)) _inst_3 (Singleton.singleton.{u2, u2} S (Set.{u2} S) (Set.instSingletonSet.{u2} S) x))))
Case conversion may be inaccurate. Consider using '#align algebra.adjoin.power_basis_aux Algebra.adjoin.powerBasisAuxₓ'. -/
/-- The elements `1, x, ..., x ^ (d - 1)` for a basis for the `K`-module `K[x]`,
where `d` is the degree of the minimal polynomial of `x`. -/
noncomputable def adjoin.powerBasisAux {x : S} (hx : IsIntegral K x) :
    Basis (Fin (minpoly K x).natDegree) K (adjoin K ({x} : Set S)) :=
  by
  have hST : Function.Injective (algebraMap (adjoin K ({x} : Set S)) S) := Subtype.coe_injective
  have hx' :
    IsIntegral K (show adjoin K ({x} : Set S) from ⟨x, subset_adjoin (Set.mem_singleton x)⟩) :=
    by
    apply (isIntegral_algebraMap_iff hST).mp
    convert hx
    infer_instance
  have minpoly_eq := minpoly.eq_of_algebraMap_eq hST hx' rfl
  apply
    @Basis.mk (Fin (minpoly K x).natDegree) _ (adjoin K {x}) fun i =>
      ⟨x, subset_adjoin (Set.mem_singleton x)⟩ ^ (i : ℕ)
  · have := linearIndependent_pow _
    rwa [minpoly_eq] at this
  · rintro ⟨y, hy⟩ _
    have := hx'.mem_span_pow
    rw [minpoly_eq] at this
    apply this
    · rw [adjoin_singleton_eq_range_aeval] at hy
      obtain ⟨f, rfl⟩ := (aeval x).mem_range.mp hy
      use f
      ext
      exact aeval_algebra_map_apply S (⟨x, _⟩ : adjoin K {x}) _
#align algebra.adjoin.power_basis_aux Algebra.adjoin.powerBasisAux

/- warning: algebra.adjoin.power_basis -> Algebra.adjoin.powerBasis is a dubious translation:
lean 3 declaration is
  forall {K : Type.{u1}} {S : Type.{u2}} [_inst_1 : Field.{u1} K] [_inst_2 : CommRing.{u2} S] [_inst_3 : Algebra.{u1, u2} K S (Semifield.toCommSemiring.{u1} K (Field.toSemifield.{u1} K _inst_1)) (Ring.toSemiring.{u2} S (CommRing.toRing.{u2} S _inst_2))] {x : S}, (IsIntegral.{u1, u2} K S (EuclideanDomain.toCommRing.{u1} K (Field.toEuclideanDomain.{u1} K _inst_1)) (CommRing.toRing.{u2} S _inst_2) _inst_3 x) -> (PowerBasis.{u1, u2} K (coeSort.{succ u2, succ (succ u2)} (Subalgebra.{u1, u2} K S (Semifield.toCommSemiring.{u1} K (Field.toSemifield.{u1} K _inst_1)) (Ring.toSemiring.{u2} S (CommRing.toRing.{u2} S _inst_2)) _inst_3) Type.{u2} (SetLike.hasCoeToSort.{u2, u2} (Subalgebra.{u1, u2} K S (Semifield.toCommSemiring.{u1} K (Field.toSemifield.{u1} K _inst_1)) (Ring.toSemiring.{u2} S (CommRing.toRing.{u2} S _inst_2)) _inst_3) S (Subalgebra.setLike.{u1, u2} K S (Semifield.toCommSemiring.{u1} K (Field.toSemifield.{u1} K _inst_1)) (Ring.toSemiring.{u2} S (CommRing.toRing.{u2} S _inst_2)) _inst_3)) (Algebra.adjoin.{u1, u2} K S (Semifield.toCommSemiring.{u1} K (Field.toSemifield.{u1} K _inst_1)) (Ring.toSemiring.{u2} S (CommRing.toRing.{u2} S _inst_2)) _inst_3 (Singleton.singleton.{u2, u2} S (Set.{u2} S) (Set.hasSingleton.{u2} S) x))) (EuclideanDomain.toCommRing.{u1} K (Field.toEuclideanDomain.{u1} K _inst_1)) (Subalgebra.toRing.{u1, u2} K S (EuclideanDomain.toCommRing.{u1} K (Field.toEuclideanDomain.{u1} K _inst_1)) (CommRing.toRing.{u2} S _inst_2) _inst_3 (Algebra.adjoin.{u1, u2} K S (Semifield.toCommSemiring.{u1} K (Field.toSemifield.{u1} K _inst_1)) (Ring.toSemiring.{u2} S (CommRing.toRing.{u2} S _inst_2)) _inst_3 (Singleton.singleton.{u2, u2} S (Set.{u2} S) (Set.hasSingleton.{u2} S) x))) (Subalgebra.algebra.{u1, u2} K S (Semifield.toCommSemiring.{u1} K (Field.toSemifield.{u1} K _inst_1)) (Ring.toSemiring.{u2} S (CommRing.toRing.{u2} S _inst_2)) _inst_3 (Algebra.adjoin.{u1, u2} K S (Semifield.toCommSemiring.{u1} K (Field.toSemifield.{u1} K _inst_1)) (Ring.toSemiring.{u2} S (CommRing.toRing.{u2} S _inst_2)) _inst_3 (Singleton.singleton.{u2, u2} S (Set.{u2} S) (Set.hasSingleton.{u2} S) x))))
but is expected to have type
  forall {K : Type.{u1}} {S : Type.{u2}} [_inst_1 : Field.{u1} K] [_inst_2 : CommRing.{u2} S] [_inst_3 : Algebra.{u1, u2} K S (Semifield.toCommSemiring.{u1} K (Field.toSemifield.{u1} K _inst_1)) (CommSemiring.toSemiring.{u2} S (CommRing.toCommSemiring.{u2} S _inst_2))] {x : S}, (IsIntegral.{u1, u2} K S (EuclideanDomain.toCommRing.{u1} K (Field.toEuclideanDomain.{u1} K _inst_1)) (CommRing.toRing.{u2} S _inst_2) _inst_3 x) -> (PowerBasis.{u1, u2} K (Subtype.{succ u2} S (fun (x_1 : S) => Membership.mem.{u2, u2} S (Subalgebra.{u1, u2} K S (Semifield.toCommSemiring.{u1} K (Field.toSemifield.{u1} K _inst_1)) (CommSemiring.toSemiring.{u2} S (CommRing.toCommSemiring.{u2} S _inst_2)) _inst_3) (SetLike.instMembership.{u2, u2} (Subalgebra.{u1, u2} K S (Semifield.toCommSemiring.{u1} K (Field.toSemifield.{u1} K _inst_1)) (CommSemiring.toSemiring.{u2} S (CommRing.toCommSemiring.{u2} S _inst_2)) _inst_3) S (Subalgebra.instSetLikeSubalgebra.{u1, u2} K S (Semifield.toCommSemiring.{u1} K (Field.toSemifield.{u1} K _inst_1)) (CommSemiring.toSemiring.{u2} S (CommRing.toCommSemiring.{u2} S _inst_2)) _inst_3)) x_1 (Algebra.adjoin.{u1, u2} K S (Semifield.toCommSemiring.{u1} K (Field.toSemifield.{u1} K _inst_1)) (CommSemiring.toSemiring.{u2} S (CommRing.toCommSemiring.{u2} S _inst_2)) _inst_3 (Singleton.singleton.{u2, u2} S (Set.{u2} S) (Set.instSingletonSet.{u2} S) x)))) (EuclideanDomain.toCommRing.{u1} K (Field.toEuclideanDomain.{u1} K _inst_1)) (Subalgebra.toRing.{u1, u2} K S (EuclideanDomain.toCommRing.{u1} K (Field.toEuclideanDomain.{u1} K _inst_1)) (CommRing.toRing.{u2} S _inst_2) _inst_3 (Algebra.adjoin.{u1, u2} K S (Semifield.toCommSemiring.{u1} K (Field.toSemifield.{u1} K _inst_1)) (CommSemiring.toSemiring.{u2} S (CommRing.toCommSemiring.{u2} S _inst_2)) _inst_3 (Singleton.singleton.{u2, u2} S (Set.{u2} S) (Set.instSingletonSet.{u2} S) x))) (Subalgebra.algebra.{u1, u2} K S (Semifield.toCommSemiring.{u1} K (Field.toSemifield.{u1} K _inst_1)) (CommSemiring.toSemiring.{u2} S (CommRing.toCommSemiring.{u2} S _inst_2)) _inst_3 (Algebra.adjoin.{u1, u2} K S (Semifield.toCommSemiring.{u1} K (Field.toSemifield.{u1} K _inst_1)) (CommSemiring.toSemiring.{u2} S (CommRing.toCommSemiring.{u2} S _inst_2)) _inst_3 (Singleton.singleton.{u2, u2} S (Set.{u2} S) (Set.instSingletonSet.{u2} S) x))))
Case conversion may be inaccurate. Consider using '#align algebra.adjoin.power_basis Algebra.adjoin.powerBasisₓ'. -/
/-- The power basis `1, x, ..., x ^ (d - 1)` for `K[x]`,
where `d` is the degree of the minimal polynomial of `x`. See `algebra.adjoin.power_basis'` for
a version over a more general base ring. -/
@[simps gen dim]
noncomputable def adjoin.powerBasis {x : S} (hx : IsIntegral K x) :
    PowerBasis K (adjoin K ({x} : Set S))
    where
  gen := ⟨x, subset_adjoin (Set.mem_singleton x)⟩
  dim := (minpoly K x).natDegree
  Basis := adjoin.powerBasisAux hx
  basis_eq_pow := Basis.mk_apply _ _
#align algebra.adjoin.power_basis Algebra.adjoin.powerBasis

end Algebra

open Algebra

/- warning: power_basis.of_gen_mem_adjoin -> PowerBasis.ofGenMemAdjoin is a dubious translation:
lean 3 declaration is
  forall {K : Type.{u1}} {S : Type.{u2}} [_inst_1 : Field.{u1} K] [_inst_2 : CommRing.{u2} S] [_inst_3 : Algebra.{u1, u2} K S (Semifield.toCommSemiring.{u1} K (Field.toSemifield.{u1} K _inst_1)) (Ring.toSemiring.{u2} S (CommRing.toRing.{u2} S _inst_2))] {x : S} (B : PowerBasis.{u1, u2} K S (EuclideanDomain.toCommRing.{u1} K (Field.toEuclideanDomain.{u1} K _inst_1)) (CommRing.toRing.{u2} S _inst_2) _inst_3), (IsIntegral.{u1, u2} K S (EuclideanDomain.toCommRing.{u1} K (Field.toEuclideanDomain.{u1} K _inst_1)) (CommRing.toRing.{u2} S _inst_2) _inst_3 x) -> (Membership.Mem.{u2, u2} S (Subalgebra.{u1, u2} K S (Semifield.toCommSemiring.{u1} K (Field.toSemifield.{u1} K _inst_1)) (Ring.toSemiring.{u2} S (CommRing.toRing.{u2} S _inst_2)) _inst_3) (SetLike.hasMem.{u2, u2} (Subalgebra.{u1, u2} K S (Semifield.toCommSemiring.{u1} K (Field.toSemifield.{u1} K _inst_1)) (Ring.toSemiring.{u2} S (CommRing.toRing.{u2} S _inst_2)) _inst_3) S (Subalgebra.setLike.{u1, u2} K S (Semifield.toCommSemiring.{u1} K (Field.toSemifield.{u1} K _inst_1)) (Ring.toSemiring.{u2} S (CommRing.toRing.{u2} S _inst_2)) _inst_3)) (PowerBasis.gen.{u1, u2} K S (EuclideanDomain.toCommRing.{u1} K (Field.toEuclideanDomain.{u1} K _inst_1)) (CommRing.toRing.{u2} S _inst_2) _inst_3 B) (Algebra.adjoin.{u1, u2} K S (Semifield.toCommSemiring.{u1} K (Field.toSemifield.{u1} K _inst_1)) (Ring.toSemiring.{u2} S (CommRing.toRing.{u2} S _inst_2)) _inst_3 (Singleton.singleton.{u2, u2} S (Set.{u2} S) (Set.hasSingleton.{u2} S) x))) -> (PowerBasis.{u1, u2} K S (EuclideanDomain.toCommRing.{u1} K (Field.toEuclideanDomain.{u1} K _inst_1)) (CommRing.toRing.{u2} S _inst_2) _inst_3)
but is expected to have type
  forall {K : Type.{u1}} {S : Type.{u2}} [_inst_1 : Field.{u1} K] [_inst_2 : CommRing.{u2} S] [_inst_3 : Algebra.{u1, u2} K S (Semifield.toCommSemiring.{u1} K (Field.toSemifield.{u1} K _inst_1)) (CommSemiring.toSemiring.{u2} S (CommRing.toCommSemiring.{u2} S _inst_2))] {x : S} (B : PowerBasis.{u1, u2} K S (EuclideanDomain.toCommRing.{u1} K (Field.toEuclideanDomain.{u1} K _inst_1)) (CommRing.toRing.{u2} S _inst_2) _inst_3), (IsIntegral.{u1, u2} K S (EuclideanDomain.toCommRing.{u1} K (Field.toEuclideanDomain.{u1} K _inst_1)) (CommRing.toRing.{u2} S _inst_2) _inst_3 x) -> (Membership.mem.{u2, u2} S (Subalgebra.{u1, u2} K S (Semifield.toCommSemiring.{u1} K (Field.toSemifield.{u1} K _inst_1)) (CommSemiring.toSemiring.{u2} S (CommRing.toCommSemiring.{u2} S _inst_2)) _inst_3) (SetLike.instMembership.{u2, u2} (Subalgebra.{u1, u2} K S (Semifield.toCommSemiring.{u1} K (Field.toSemifield.{u1} K _inst_1)) (CommSemiring.toSemiring.{u2} S (CommRing.toCommSemiring.{u2} S _inst_2)) _inst_3) S (Subalgebra.instSetLikeSubalgebra.{u1, u2} K S (Semifield.toCommSemiring.{u1} K (Field.toSemifield.{u1} K _inst_1)) (CommSemiring.toSemiring.{u2} S (CommRing.toCommSemiring.{u2} S _inst_2)) _inst_3)) (PowerBasis.gen.{u1, u2} K S (EuclideanDomain.toCommRing.{u1} K (Field.toEuclideanDomain.{u1} K _inst_1)) (CommRing.toRing.{u2} S _inst_2) _inst_3 B) (Algebra.adjoin.{u1, u2} K S (Semifield.toCommSemiring.{u1} K (Field.toSemifield.{u1} K _inst_1)) (CommSemiring.toSemiring.{u2} S (CommRing.toCommSemiring.{u2} S _inst_2)) _inst_3 (Singleton.singleton.{u2, u2} S (Set.{u2} S) (Set.instSingletonSet.{u2} S) x))) -> (PowerBasis.{u1, u2} K S (EuclideanDomain.toCommRing.{u1} K (Field.toEuclideanDomain.{u1} K _inst_1)) (CommRing.toRing.{u2} S _inst_2) _inst_3)
Case conversion may be inaccurate. Consider using '#align power_basis.of_gen_mem_adjoin PowerBasis.ofGenMemAdjoinₓ'. -/
/-- The power basis given by `x` if `B.gen ∈ adjoin K {x}`. See `power_basis.of_gen_mem_adjoin'`
for a version over a more general base ring. -/
@[simps]
noncomputable def PowerBasis.ofGenMemAdjoin {x : S} (B : PowerBasis K S) (hint : IsIntegral K x)
    (hx : B.gen ∈ adjoin K ({x} : Set S)) : PowerBasis K S :=
  (Algebra.adjoin.powerBasis hint).map <|
    (Subalgebra.equivOfEq _ _ <| PowerBasis.adjoin_eq_top_of_gen_mem_adjoin hx).trans
      Subalgebra.topEquiv
#align power_basis.of_gen_mem_adjoin PowerBasis.ofGenMemAdjoin

section IsIntegral

namespace PowerBasis

open Polynomial

open Polynomial

variable {R : Type _} [CommRing R] [Algebra R S] [Algebra R K] [IsScalarTower R K S]

variable {A : Type _} [CommRing A] [Algebra R A] [Algebra S A]

variable [IsScalarTower R S A] {B : PowerBasis S A} (hB : IsIntegral R B.gen)

include hB

/- warning: power_basis.repr_gen_pow_is_integral -> PowerBasis.repr_gen_pow_isIntegral is a dubious translation:
lean 3 declaration is
  forall {S : Type.{u1}} [_inst_2 : CommRing.{u1} S] {R : Type.{u2}} [_inst_4 : CommRing.{u2} R] [_inst_5 : Algebra.{u2, u1} R S (CommRing.toCommSemiring.{u2} R _inst_4) (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))] {A : Type.{u3}} [_inst_8 : CommRing.{u3} A] [_inst_9 : Algebra.{u2, u3} R A (CommRing.toCommSemiring.{u2} R _inst_4) (Ring.toSemiring.{u3} A (CommRing.toRing.{u3} A _inst_8))] [_inst_10 : Algebra.{u1, u3} S A (CommRing.toCommSemiring.{u1} S _inst_2) (Ring.toSemiring.{u3} A (CommRing.toRing.{u3} A _inst_8))] [_inst_11 : IsScalarTower.{u2, u1, u3} R S A (SMulZeroClass.toHasSmul.{u2, u1} R S (AddZeroClass.toHasZero.{u1} S (AddMonoid.toAddZeroClass.{u1} S (AddCommMonoid.toAddMonoid.{u1} S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u1} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)))))))) (SMulWithZero.toSmulZeroClass.{u2, u1} R S (MulZeroClass.toHasZero.{u2} R (MulZeroOneClass.toMulZeroClass.{u2} R (MonoidWithZero.toMulZeroOneClass.{u2} R (Semiring.toMonoidWithZero.{u2} R (CommSemiring.toSemiring.{u2} R (CommRing.toCommSemiring.{u2} R _inst_4)))))) (AddZeroClass.toHasZero.{u1} S (AddMonoid.toAddZeroClass.{u1} S (AddCommMonoid.toAddMonoid.{u1} S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u1} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)))))))) (MulActionWithZero.toSMulWithZero.{u2, u1} R S (Semiring.toMonoidWithZero.{u2} R (CommSemiring.toSemiring.{u2} R (CommRing.toCommSemiring.{u2} R _inst_4))) (AddZeroClass.toHasZero.{u1} S (AddMonoid.toAddZeroClass.{u1} S (AddCommMonoid.toAddMonoid.{u1} S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u1} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)))))))) (Module.toMulActionWithZero.{u2, u1} R S (CommSemiring.toSemiring.{u2} R (CommRing.toCommSemiring.{u2} R _inst_4)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u1} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))))) (Algebra.toModule.{u2, u1} R S (CommRing.toCommSemiring.{u2} R _inst_4) (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)) _inst_5))))) (SMulZeroClass.toHasSmul.{u1, u3} S A (AddZeroClass.toHasZero.{u3} A (AddMonoid.toAddZeroClass.{u3} A (AddCommMonoid.toAddMonoid.{u3} A (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} A (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} A (Semiring.toNonAssocSemiring.{u3} A (Ring.toSemiring.{u3} A (CommRing.toRing.{u3} A _inst_8)))))))) (SMulWithZero.toSmulZeroClass.{u1, u3} S A (MulZeroClass.toHasZero.{u1} S (MulZeroOneClass.toMulZeroClass.{u1} S (MonoidWithZero.toMulZeroOneClass.{u1} S (Semiring.toMonoidWithZero.{u1} S (CommSemiring.toSemiring.{u1} S (CommRing.toCommSemiring.{u1} S _inst_2)))))) (AddZeroClass.toHasZero.{u3} A (AddMonoid.toAddZeroClass.{u3} A (AddCommMonoid.toAddMonoid.{u3} A (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} A (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} A (Semiring.toNonAssocSemiring.{u3} A (Ring.toSemiring.{u3} A (CommRing.toRing.{u3} A _inst_8)))))))) (MulActionWithZero.toSMulWithZero.{u1, u3} S A (Semiring.toMonoidWithZero.{u1} S (CommSemiring.toSemiring.{u1} S (CommRing.toCommSemiring.{u1} S _inst_2))) (AddZeroClass.toHasZero.{u3} A (AddMonoid.toAddZeroClass.{u3} A (AddCommMonoid.toAddMonoid.{u3} A (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} A (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} A (Semiring.toNonAssocSemiring.{u3} A (Ring.toSemiring.{u3} A (CommRing.toRing.{u3} A _inst_8)))))))) (Module.toMulActionWithZero.{u1, u3} S A (CommSemiring.toSemiring.{u1} S (CommRing.toCommSemiring.{u1} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} A (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} A (Semiring.toNonAssocSemiring.{u3} A (Ring.toSemiring.{u3} A (CommRing.toRing.{u3} A _inst_8))))) (Algebra.toModule.{u1, u3} S A (CommRing.toCommSemiring.{u1} S _inst_2) (Ring.toSemiring.{u3} A (CommRing.toRing.{u3} A _inst_8)) _inst_10))))) (SMulZeroClass.toHasSmul.{u2, u3} R A (AddZeroClass.toHasZero.{u3} A (AddMonoid.toAddZeroClass.{u3} A (AddCommMonoid.toAddMonoid.{u3} A (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} A (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} A (Semiring.toNonAssocSemiring.{u3} A (Ring.toSemiring.{u3} A (CommRing.toRing.{u3} A _inst_8)))))))) (SMulWithZero.toSmulZeroClass.{u2, u3} R A (MulZeroClass.toHasZero.{u2} R (MulZeroOneClass.toMulZeroClass.{u2} R (MonoidWithZero.toMulZeroOneClass.{u2} R (Semiring.toMonoidWithZero.{u2} R (CommSemiring.toSemiring.{u2} R (CommRing.toCommSemiring.{u2} R _inst_4)))))) (AddZeroClass.toHasZero.{u3} A (AddMonoid.toAddZeroClass.{u3} A (AddCommMonoid.toAddMonoid.{u3} A (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} A (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} A (Semiring.toNonAssocSemiring.{u3} A (Ring.toSemiring.{u3} A (CommRing.toRing.{u3} A _inst_8)))))))) (MulActionWithZero.toSMulWithZero.{u2, u3} R A (Semiring.toMonoidWithZero.{u2} R (CommSemiring.toSemiring.{u2} R (CommRing.toCommSemiring.{u2} R _inst_4))) (AddZeroClass.toHasZero.{u3} A (AddMonoid.toAddZeroClass.{u3} A (AddCommMonoid.toAddMonoid.{u3} A (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} A (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} A (Semiring.toNonAssocSemiring.{u3} A (Ring.toSemiring.{u3} A (CommRing.toRing.{u3} A _inst_8)))))))) (Module.toMulActionWithZero.{u2, u3} R A (CommSemiring.toSemiring.{u2} R (CommRing.toCommSemiring.{u2} R _inst_4)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} A (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} A (Semiring.toNonAssocSemiring.{u3} A (Ring.toSemiring.{u3} A (CommRing.toRing.{u3} A _inst_8))))) (Algebra.toModule.{u2, u3} R A (CommRing.toCommSemiring.{u2} R _inst_4) (Ring.toSemiring.{u3} A (CommRing.toRing.{u3} A _inst_8)) _inst_9)))))] {B : PowerBasis.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10}, (IsIntegral.{u2, u3} R A _inst_4 (CommRing.toRing.{u3} A _inst_8) _inst_9 (PowerBasis.gen.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) -> (forall [_inst_12 : IsDomain.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))], (Eq.{succ u1} (Polynomial.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))) (minpoly.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 (PowerBasis.gen.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) (Polynomial.map.{u2, u1} R S (Ring.toSemiring.{u2} R (CommRing.toRing.{u2} R _inst_4)) (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)) (algebraMap.{u2, u1} R S (CommRing.toCommSemiring.{u2} R _inst_4) (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)) _inst_5) (minpoly.{u2, u3} R A _inst_4 (CommRing.toRing.{u3} A _inst_8) _inst_9 (PowerBasis.gen.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)))) -> (forall (n : Nat) (i : Fin (PowerBasis.dim.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)), IsIntegral.{u2, u1} R S _inst_4 (CommRing.toRing.{u1} S _inst_2) _inst_5 (coeFn.{succ u1, succ u1} (Finsupp.{0, u1} (Fin (PowerBasis.dim.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) S (MulZeroClass.toHasZero.{u1} S (NonUnitalNonAssocSemiring.toMulZeroClass.{u1} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))))))) (fun (_x : Finsupp.{0, u1} (Fin (PowerBasis.dim.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) S (MulZeroClass.toHasZero.{u1} S (NonUnitalNonAssocSemiring.toMulZeroClass.{u1} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))))))) => (Fin (PowerBasis.dim.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) -> S) (Finsupp.coeFun.{0, u1} (Fin (PowerBasis.dim.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) S (MulZeroClass.toHasZero.{u1} S (NonUnitalNonAssocSemiring.toMulZeroClass.{u1} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))))))) (coeFn.{max (succ u3) (succ u1), max (succ u3) (succ u1)} (LinearEquiv.{u1, u1, u3, u1} S S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)) (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)) (RingHom.id.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)))) (RingHom.id.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)))) (RingHomInvPair.ids.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))) (RingHomInvPair.ids.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))) A (Finsupp.{0, u1} (Fin (PowerBasis.dim.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) S (MulZeroClass.toHasZero.{u1} S (NonUnitalNonAssocSemiring.toMulZeroClass.{u1} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))))))) (AddCommGroup.toAddCommMonoid.{u3} A (NonUnitalNonAssocRing.toAddCommGroup.{u3} A (NonAssocRing.toNonUnitalNonAssocRing.{u3} A (Ring.toNonAssocRing.{u3} A (CommRing.toRing.{u3} A _inst_8))))) (Finsupp.addCommMonoid.{0, u1} (Fin (PowerBasis.dim.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u1} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)))))) (Algebra.toModule.{u1, u3} S A (CommRing.toCommSemiring.{u1} S _inst_2) (Ring.toSemiring.{u3} A (CommRing.toRing.{u3} A _inst_8)) _inst_10) (Finsupp.module.{0, u1, u1} (Fin (PowerBasis.dim.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) S S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u1} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))))) (Semiring.toModule.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))))) (fun (_x : LinearEquiv.{u1, u1, u3, u1} S S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)) (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)) (RingHom.id.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)))) (RingHom.id.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)))) (RingHomInvPair.ids.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))) (RingHomInvPair.ids.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))) A (Finsupp.{0, u1} (Fin (PowerBasis.dim.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) S (MulZeroClass.toHasZero.{u1} S (NonUnitalNonAssocSemiring.toMulZeroClass.{u1} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))))))) (AddCommGroup.toAddCommMonoid.{u3} A (NonUnitalNonAssocRing.toAddCommGroup.{u3} A (NonAssocRing.toNonUnitalNonAssocRing.{u3} A (Ring.toNonAssocRing.{u3} A (CommRing.toRing.{u3} A _inst_8))))) (Finsupp.addCommMonoid.{0, u1} (Fin (PowerBasis.dim.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u1} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)))))) (Algebra.toModule.{u1, u3} S A (CommRing.toCommSemiring.{u1} S _inst_2) (Ring.toSemiring.{u3} A (CommRing.toRing.{u3} A _inst_8)) _inst_10) (Finsupp.module.{0, u1, u1} (Fin (PowerBasis.dim.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) S S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u1} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))))) (Semiring.toModule.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))))) => A -> (Finsupp.{0, u1} (Fin (PowerBasis.dim.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) S (MulZeroClass.toHasZero.{u1} S (NonUnitalNonAssocSemiring.toMulZeroClass.{u1} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)))))))) (LinearEquiv.hasCoeToFun.{u1, u1, u3, u1} S S A (Finsupp.{0, u1} (Fin (PowerBasis.dim.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) S (MulZeroClass.toHasZero.{u1} S (NonUnitalNonAssocSemiring.toMulZeroClass.{u1} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))))))) (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)) (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)) (AddCommGroup.toAddCommMonoid.{u3} A (NonUnitalNonAssocRing.toAddCommGroup.{u3} A (NonAssocRing.toNonUnitalNonAssocRing.{u3} A (Ring.toNonAssocRing.{u3} A (CommRing.toRing.{u3} A _inst_8))))) (Finsupp.addCommMonoid.{0, u1} (Fin (PowerBasis.dim.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u1} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)))))) (Algebra.toModule.{u1, u3} S A (CommRing.toCommSemiring.{u1} S _inst_2) (Ring.toSemiring.{u3} A (CommRing.toRing.{u3} A _inst_8)) _inst_10) (Finsupp.module.{0, u1, u1} (Fin (PowerBasis.dim.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) S S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u1} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))))) (Semiring.toModule.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)))) (RingHom.id.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)))) (RingHom.id.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)))) (RingHomInvPair.ids.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))) (RingHomInvPair.ids.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)))) (Basis.repr.{0, u1, u3} (Fin (PowerBasis.dim.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) S A (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)) (AddCommGroup.toAddCommMonoid.{u3} A (NonUnitalNonAssocRing.toAddCommGroup.{u3} A (NonAssocRing.toNonUnitalNonAssocRing.{u3} A (Ring.toNonAssocRing.{u3} A (CommRing.toRing.{u3} A _inst_8))))) (Algebra.toModule.{u1, u3} S A (CommRing.toCommSemiring.{u1} S _inst_2) (Ring.toSemiring.{u3} A (CommRing.toRing.{u3} A _inst_8)) _inst_10) (PowerBasis.basis.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) (HPow.hPow.{u3, 0, u3} A Nat A (instHPow.{u3, 0} A Nat (Monoid.Pow.{u3} A (Ring.toMonoid.{u3} A (CommRing.toRing.{u3} A _inst_8)))) (PowerBasis.gen.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B) n)) i)))
but is expected to have type
  forall {S : Type.{u3}} [_inst_2 : CommRing.{u3} S] {R : Type.{u1}} [_inst_4 : CommRing.{u1} R] [_inst_5 : Algebra.{u1, u3} R S (CommRing.toCommSemiring.{u1} R _inst_4) (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))] {A : Type.{u2}} [_inst_8 : CommRing.{u2} A] [_inst_9 : Algebra.{u1, u2} R A (CommRing.toCommSemiring.{u1} R _inst_4) (CommSemiring.toSemiring.{u2} A (CommRing.toCommSemiring.{u2} A _inst_8))] [_inst_10 : Algebra.{u3, u2} S A (CommRing.toCommSemiring.{u3} S _inst_2) (CommSemiring.toSemiring.{u2} A (CommRing.toCommSemiring.{u2} A _inst_8))] [_inst_11 : IsScalarTower.{u1, u3, u2} R S A (Algebra.toSMul.{u1, u3} R S (CommRing.toCommSemiring.{u1} R _inst_4) (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) _inst_5) (Algebra.toSMul.{u3, u2} S A (CommRing.toCommSemiring.{u3} S _inst_2) (CommSemiring.toSemiring.{u2} A (CommRing.toCommSemiring.{u2} A _inst_8)) _inst_10) (Algebra.toSMul.{u1, u2} R A (CommRing.toCommSemiring.{u1} R _inst_4) (CommSemiring.toSemiring.{u2} A (CommRing.toCommSemiring.{u2} A _inst_8)) _inst_9)] {B : PowerBasis.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10}, (IsIntegral.{u1, u2} R A _inst_4 (CommRing.toRing.{u2} A _inst_8) _inst_9 (PowerBasis.gen.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) -> (forall [_inst_12 : IsDomain.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))], (Eq.{succ u3} (Polynomial.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))) (minpoly.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 (PowerBasis.gen.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) (Polynomial.map.{u1, u3} R S (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4)) (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (algebraMap.{u1, u3} R S (CommRing.toCommSemiring.{u1} R _inst_4) (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) _inst_5) (minpoly.{u1, u2} R A _inst_4 (CommRing.toRing.{u2} A _inst_8) _inst_9 (PowerBasis.gen.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)))) -> (forall (n : Nat) (i : Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)), IsIntegral.{u1, u3} R ((fun (x._@.Mathlib.Data.Finsupp.Defs._hyg.779 : Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) => S) i) _inst_4 (CommRing.toRing.{u3} ((fun (x._@.Mathlib.Data.Finsupp.Defs._hyg.779 : Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) => S) i) _inst_2) _inst_5 (FunLike.coe.{succ u3, 1, succ u3} (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) (fun (_x : Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) => (fun (x._@.Mathlib.Data.Finsupp.Defs._hyg.779 : Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) => S) _x) (Finsupp.funLike.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (FunLike.coe.{max (succ u3) (succ u2), succ u2, succ u3} (LinearEquiv.{u3, u3, u2, u3} S S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (RingHom.id.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (RingHom.id.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (RingHomInvPair.ids.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))) (RingHomInvPair.ids.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))) A (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} A (NonUnitalNonAssocRing.toNonUnitalNonAssocSemiring.{u2} A (NonAssocRing.toNonUnitalNonAssocRing.{u2} A (Ring.toNonAssocRing.{u2} A (CommRing.toRing.{u2} A _inst_8))))) (Finsupp.addCommMonoid.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))))) (Algebra.toModule.{u3, u2} S A (CommRing.toCommSemiring.{u3} S _inst_2) (Ring.toSemiring.{u2} A (CommRing.toRing.{u2} A _inst_8)) _inst_10) (Finsupp.module.{0, u3, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (Semiring.toModule.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) A (fun (_x : A) => (fun (x._@.Mathlib.Algebra.Hom.GroupAction._hyg.2187 : A) => Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) _x) (SMulHomClass.toFunLike.{max u3 u2, u3, u2, u3} (LinearEquiv.{u3, u3, u2, u3} S S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (RingHom.id.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (RingHom.id.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (RingHomInvPair.ids.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))) (RingHomInvPair.ids.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))) A (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} A (NonUnitalNonAssocRing.toNonUnitalNonAssocSemiring.{u2} A (NonAssocRing.toNonUnitalNonAssocRing.{u2} A (Ring.toNonAssocRing.{u2} A (CommRing.toRing.{u2} A _inst_8))))) (Finsupp.addCommMonoid.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))))) (Algebra.toModule.{u3, u2} S A (CommRing.toCommSemiring.{u3} S _inst_2) (Ring.toSemiring.{u2} A (CommRing.toRing.{u2} A _inst_8)) _inst_10) (Finsupp.module.{0, u3, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (Semiring.toModule.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) S A (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (SMulZeroClass.toSMul.{u3, u2} S A (AddMonoid.toZero.{u2} A (AddCommMonoid.toAddMonoid.{u2} A (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} A (NonUnitalNonAssocRing.toNonUnitalNonAssocSemiring.{u2} A (NonAssocRing.toNonUnitalNonAssocRing.{u2} A (Ring.toNonAssocRing.{u2} A (CommRing.toRing.{u2} A _inst_8))))))) (DistribSMul.toSMulZeroClass.{u3, u2} S A (AddMonoid.toAddZeroClass.{u2} A (AddCommMonoid.toAddMonoid.{u2} A (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} A (NonUnitalNonAssocRing.toNonUnitalNonAssocSemiring.{u2} A (NonAssocRing.toNonUnitalNonAssocRing.{u2} A (Ring.toNonAssocRing.{u2} A (CommRing.toRing.{u2} A _inst_8))))))) (DistribMulAction.toDistribSMul.{u3, u2} S A (MonoidWithZero.toMonoid.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (AddCommMonoid.toAddMonoid.{u2} A (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} A (NonUnitalNonAssocRing.toNonUnitalNonAssocSemiring.{u2} A (NonAssocRing.toNonUnitalNonAssocRing.{u2} A (Ring.toNonAssocRing.{u2} A (CommRing.toRing.{u2} A _inst_8)))))) (Module.toDistribMulAction.{u3, u2} S A (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} A (NonUnitalNonAssocRing.toNonUnitalNonAssocSemiring.{u2} A (NonAssocRing.toNonUnitalNonAssocRing.{u2} A (Ring.toNonAssocRing.{u2} A (CommRing.toRing.{u2} A _inst_8))))) (Algebra.toModule.{u3, u2} S A (CommRing.toCommSemiring.{u3} S _inst_2) (Ring.toSemiring.{u2} A (CommRing.toRing.{u2} A _inst_8)) _inst_10))))) (SMulZeroClass.toSMul.{u3, u3} S (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (AddMonoid.toZero.{u3} (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (AddCommMonoid.toAddMonoid.{u3} (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (Finsupp.addCommMonoid.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))))))) (DistribSMul.toSMulZeroClass.{u3, u3} S (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (AddMonoid.toAddZeroClass.{u3} (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (AddCommMonoid.toAddMonoid.{u3} (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (Finsupp.addCommMonoid.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))))))) (DistribMulAction.toDistribSMul.{u3, u3} S (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (MonoidWithZero.toMonoid.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (AddCommMonoid.toAddMonoid.{u3} (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (Finsupp.addCommMonoid.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))))) (Module.toDistribMulAction.{u3, u3} S (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (Finsupp.addCommMonoid.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))))) (Finsupp.module.{0, u3, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (Semiring.toModule.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))))))) (DistribMulActionHomClass.toSMulHomClass.{max u3 u2, u3, u2, u3} (LinearEquiv.{u3, u3, u2, u3} S S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (RingHom.id.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (RingHom.id.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (RingHomInvPair.ids.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))) (RingHomInvPair.ids.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))) A (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} A (NonUnitalNonAssocRing.toNonUnitalNonAssocSemiring.{u2} A (NonAssocRing.toNonUnitalNonAssocRing.{u2} A (Ring.toNonAssocRing.{u2} A (CommRing.toRing.{u2} A _inst_8))))) (Finsupp.addCommMonoid.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))))) (Algebra.toModule.{u3, u2} S A (CommRing.toCommSemiring.{u3} S _inst_2) (Ring.toSemiring.{u2} A (CommRing.toRing.{u2} A _inst_8)) _inst_10) (Finsupp.module.{0, u3, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (Semiring.toModule.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) S A (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (MonoidWithZero.toMonoid.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (AddCommMonoid.toAddMonoid.{u2} A (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} A (NonUnitalNonAssocRing.toNonUnitalNonAssocSemiring.{u2} A (NonAssocRing.toNonUnitalNonAssocRing.{u2} A (Ring.toNonAssocRing.{u2} A (CommRing.toRing.{u2} A _inst_8)))))) (AddCommMonoid.toAddMonoid.{u3} (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (Finsupp.addCommMonoid.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))))) (Module.toDistribMulAction.{u3, u2} S A (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} A (NonUnitalNonAssocRing.toNonUnitalNonAssocSemiring.{u2} A (NonAssocRing.toNonUnitalNonAssocRing.{u2} A (Ring.toNonAssocRing.{u2} A (CommRing.toRing.{u2} A _inst_8))))) (Algebra.toModule.{u3, u2} S A (CommRing.toCommSemiring.{u3} S _inst_2) (Ring.toSemiring.{u2} A (CommRing.toRing.{u2} A _inst_8)) _inst_10)) (Module.toDistribMulAction.{u3, u3} S (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (Finsupp.addCommMonoid.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))))) (Finsupp.module.{0, u3, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (Semiring.toModule.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (SemilinearMapClass.distribMulActionHomClass.{u3, u2, u3, max u3 u2} S A (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (LinearEquiv.{u3, u3, u2, u3} S S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (RingHom.id.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (RingHom.id.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (RingHomInvPair.ids.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))) (RingHomInvPair.ids.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))) A (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} A (NonUnitalNonAssocRing.toNonUnitalNonAssocSemiring.{u2} A (NonAssocRing.toNonUnitalNonAssocRing.{u2} A (Ring.toNonAssocRing.{u2} A (CommRing.toRing.{u2} A _inst_8))))) (Finsupp.addCommMonoid.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))))) (Algebra.toModule.{u3, u2} S A (CommRing.toCommSemiring.{u3} S _inst_2) (Ring.toSemiring.{u2} A (CommRing.toRing.{u2} A _inst_8)) _inst_10) (Finsupp.module.{0, u3, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (Semiring.toModule.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} A (NonUnitalNonAssocRing.toNonUnitalNonAssocSemiring.{u2} A (NonAssocRing.toNonUnitalNonAssocRing.{u2} A (Ring.toNonAssocRing.{u2} A (CommRing.toRing.{u2} A _inst_8))))) (Finsupp.addCommMonoid.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))))) (Algebra.toModule.{u3, u2} S A (CommRing.toCommSemiring.{u3} S _inst_2) (Ring.toSemiring.{u2} A (CommRing.toRing.{u2} A _inst_8)) _inst_10) (Finsupp.module.{0, u3, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (Semiring.toModule.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (SemilinearEquivClass.instSemilinearMapClass.{u3, u3, u2, u3, max u3 u2} S S A (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (LinearEquiv.{u3, u3, u2, u3} S S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (RingHom.id.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (RingHom.id.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (RingHomInvPair.ids.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))) (RingHomInvPair.ids.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))) A (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} A (NonUnitalNonAssocRing.toNonUnitalNonAssocSemiring.{u2} A (NonAssocRing.toNonUnitalNonAssocRing.{u2} A (Ring.toNonAssocRing.{u2} A (CommRing.toRing.{u2} A _inst_8))))) (Finsupp.addCommMonoid.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))))) (Algebra.toModule.{u3, u2} S A (CommRing.toCommSemiring.{u3} S _inst_2) (Ring.toSemiring.{u2} A (CommRing.toRing.{u2} A _inst_8)) _inst_10) (Finsupp.module.{0, u3, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (Semiring.toModule.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} A (NonUnitalNonAssocRing.toNonUnitalNonAssocSemiring.{u2} A (NonAssocRing.toNonUnitalNonAssocRing.{u2} A (Ring.toNonAssocRing.{u2} A (CommRing.toRing.{u2} A _inst_8))))) (Finsupp.addCommMonoid.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))))) (Algebra.toModule.{u3, u2} S A (CommRing.toCommSemiring.{u3} S _inst_2) (Ring.toSemiring.{u2} A (CommRing.toRing.{u2} A _inst_8)) _inst_10) (Finsupp.module.{0, u3, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (Semiring.toModule.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (RingHom.id.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (RingHom.id.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (RingHomInvPair.ids.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))) (RingHomInvPair.ids.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))) (LinearEquiv.instSemilinearEquivClassLinearEquiv.{u3, u3, u2, u3} S S A (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} A (NonUnitalNonAssocRing.toNonUnitalNonAssocSemiring.{u2} A (NonAssocRing.toNonUnitalNonAssocRing.{u2} A (Ring.toNonAssocRing.{u2} A (CommRing.toRing.{u2} A _inst_8))))) (Finsupp.addCommMonoid.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))))) (Algebra.toModule.{u3, u2} S A (CommRing.toCommSemiring.{u3} S _inst_2) (Ring.toSemiring.{u2} A (CommRing.toRing.{u2} A _inst_8)) _inst_10) (Finsupp.module.{0, u3, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (Semiring.toModule.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (RingHom.id.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (RingHom.id.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (RingHomInvPair.ids.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))) (RingHomInvPair.ids.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))))))) (Basis.repr.{0, u3, u2} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S A (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} A (NonUnitalNonAssocRing.toNonUnitalNonAssocSemiring.{u2} A (NonAssocRing.toNonUnitalNonAssocRing.{u2} A (Ring.toNonAssocRing.{u2} A (CommRing.toRing.{u2} A _inst_8))))) (Algebra.toModule.{u3, u2} S A (CommRing.toCommSemiring.{u3} S _inst_2) (Ring.toSemiring.{u2} A (CommRing.toRing.{u2} A _inst_8)) _inst_10) (PowerBasis.basis.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) (HPow.hPow.{u2, 0, u2} A Nat A (instHPow.{u2, 0} A Nat (Monoid.Pow.{u2} A (MonoidWithZero.toMonoid.{u2} A (Semiring.toMonoidWithZero.{u2} A (CommSemiring.toSemiring.{u2} A (CommRing.toCommSemiring.{u2} A _inst_8)))))) (PowerBasis.gen.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B) n)) i)))
Case conversion may be inaccurate. Consider using '#align power_basis.repr_gen_pow_is_integral PowerBasis.repr_gen_pow_isIntegralₓ'. -/
/-- If `B : power_basis S A` is such that `is_integral R B.gen`, then
`is_integral R (B.basis.repr (B.gen ^ n) i)` for all `i` if
`minpoly S B.gen = (minpoly R B.gen).map (algebra_map R S)`. This is the case if `R` is a GCD domain
and `S` is its fraction ring. -/
theorem repr_gen_pow_isIntegral [IsDomain S]
    (hmin : minpoly S B.gen = (minpoly R B.gen).map (algebraMap R S)) (n : ℕ) :
    ∀ i, IsIntegral R (B.Basis.repr (B.gen ^ n) i) :=
  by
  intro i
  let Q := X ^ n %ₘ minpoly R B.gen
  have : B.gen ^ n = aeval B.gen Q :=
    by
    rw [← @aeval_X_pow R _ _ _ _ B.gen, ← mod_by_monic_add_div (X ^ n) (minpoly.monic hB)]
    simp
  by_cases hQ : Q = 0
  · simp [this, hQ, isIntegral_zero]
  have hlt : Q.nat_degree < B.dim :=
    by
    rw [← B.nat_degree_minpoly, hmin, (minpoly.monic hB).natDegree_map,
      nat_degree_lt_nat_degree_iff hQ]
    letI : Nontrivial R := nontrivial.of_polynomial_ne hQ
    exact degree_mod_by_monic_lt _ (minpoly.monic hB)
    infer_instance
  rw [this, aeval_eq_sum_range' hlt]
  simp only [LinearEquiv.map_sum, LinearEquiv.map_smulₛₗ, RingHom.id_apply, Finset.sum_apply']
  refine' IsIntegral.sum _ fun j hj => _
  replace hj := Finset.mem_range.1 hj
  rw [← Fin.val_mk hj, ← B.basis_eq_pow, Algebra.smul_def, IsScalarTower.algebraMap_apply R S A, ←
    Algebra.smul_def, LinearEquiv.map_smul]
  simp only [algebraMap_smul, Finsupp.coe_smul, Pi.smul_apply, B.basis.repr_self_apply]
  by_cases hij : (⟨j, hj⟩ : Fin _) = i
  · simp only [hij, eq_self_iff_true, if_true]
    rw [Algebra.smul_def, mul_one]
    exact isIntegral_algebraMap
  · simp [hij, isIntegral_zero]
#align power_basis.repr_gen_pow_is_integral PowerBasis.repr_gen_pow_isIntegral

variable {B}

/- warning: power_basis.repr_mul_is_integral -> PowerBasis.repr_mul_isIntegral is a dubious translation:
lean 3 declaration is
  forall {S : Type.{u1}} [_inst_2 : CommRing.{u1} S] {R : Type.{u2}} [_inst_4 : CommRing.{u2} R] [_inst_5 : Algebra.{u2, u1} R S (CommRing.toCommSemiring.{u2} R _inst_4) (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))] {A : Type.{u3}} [_inst_8 : CommRing.{u3} A] [_inst_9 : Algebra.{u2, u3} R A (CommRing.toCommSemiring.{u2} R _inst_4) (Ring.toSemiring.{u3} A (CommRing.toRing.{u3} A _inst_8))] [_inst_10 : Algebra.{u1, u3} S A (CommRing.toCommSemiring.{u1} S _inst_2) (Ring.toSemiring.{u3} A (CommRing.toRing.{u3} A _inst_8))] [_inst_11 : IsScalarTower.{u2, u1, u3} R S A (SMulZeroClass.toHasSmul.{u2, u1} R S (AddZeroClass.toHasZero.{u1} S (AddMonoid.toAddZeroClass.{u1} S (AddCommMonoid.toAddMonoid.{u1} S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u1} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)))))))) (SMulWithZero.toSmulZeroClass.{u2, u1} R S (MulZeroClass.toHasZero.{u2} R (MulZeroOneClass.toMulZeroClass.{u2} R (MonoidWithZero.toMulZeroOneClass.{u2} R (Semiring.toMonoidWithZero.{u2} R (CommSemiring.toSemiring.{u2} R (CommRing.toCommSemiring.{u2} R _inst_4)))))) (AddZeroClass.toHasZero.{u1} S (AddMonoid.toAddZeroClass.{u1} S (AddCommMonoid.toAddMonoid.{u1} S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u1} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)))))))) (MulActionWithZero.toSMulWithZero.{u2, u1} R S (Semiring.toMonoidWithZero.{u2} R (CommSemiring.toSemiring.{u2} R (CommRing.toCommSemiring.{u2} R _inst_4))) (AddZeroClass.toHasZero.{u1} S (AddMonoid.toAddZeroClass.{u1} S (AddCommMonoid.toAddMonoid.{u1} S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u1} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)))))))) (Module.toMulActionWithZero.{u2, u1} R S (CommSemiring.toSemiring.{u2} R (CommRing.toCommSemiring.{u2} R _inst_4)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u1} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))))) (Algebra.toModule.{u2, u1} R S (CommRing.toCommSemiring.{u2} R _inst_4) (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)) _inst_5))))) (SMulZeroClass.toHasSmul.{u1, u3} S A (AddZeroClass.toHasZero.{u3} A (AddMonoid.toAddZeroClass.{u3} A (AddCommMonoid.toAddMonoid.{u3} A (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} A (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} A (Semiring.toNonAssocSemiring.{u3} A (Ring.toSemiring.{u3} A (CommRing.toRing.{u3} A _inst_8)))))))) (SMulWithZero.toSmulZeroClass.{u1, u3} S A (MulZeroClass.toHasZero.{u1} S (MulZeroOneClass.toMulZeroClass.{u1} S (MonoidWithZero.toMulZeroOneClass.{u1} S (Semiring.toMonoidWithZero.{u1} S (CommSemiring.toSemiring.{u1} S (CommRing.toCommSemiring.{u1} S _inst_2)))))) (AddZeroClass.toHasZero.{u3} A (AddMonoid.toAddZeroClass.{u3} A (AddCommMonoid.toAddMonoid.{u3} A (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} A (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} A (Semiring.toNonAssocSemiring.{u3} A (Ring.toSemiring.{u3} A (CommRing.toRing.{u3} A _inst_8)))))))) (MulActionWithZero.toSMulWithZero.{u1, u3} S A (Semiring.toMonoidWithZero.{u1} S (CommSemiring.toSemiring.{u1} S (CommRing.toCommSemiring.{u1} S _inst_2))) (AddZeroClass.toHasZero.{u3} A (AddMonoid.toAddZeroClass.{u3} A (AddCommMonoid.toAddMonoid.{u3} A (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} A (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} A (Semiring.toNonAssocSemiring.{u3} A (Ring.toSemiring.{u3} A (CommRing.toRing.{u3} A _inst_8)))))))) (Module.toMulActionWithZero.{u1, u3} S A (CommSemiring.toSemiring.{u1} S (CommRing.toCommSemiring.{u1} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} A (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} A (Semiring.toNonAssocSemiring.{u3} A (Ring.toSemiring.{u3} A (CommRing.toRing.{u3} A _inst_8))))) (Algebra.toModule.{u1, u3} S A (CommRing.toCommSemiring.{u1} S _inst_2) (Ring.toSemiring.{u3} A (CommRing.toRing.{u3} A _inst_8)) _inst_10))))) (SMulZeroClass.toHasSmul.{u2, u3} R A (AddZeroClass.toHasZero.{u3} A (AddMonoid.toAddZeroClass.{u3} A (AddCommMonoid.toAddMonoid.{u3} A (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} A (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} A (Semiring.toNonAssocSemiring.{u3} A (Ring.toSemiring.{u3} A (CommRing.toRing.{u3} A _inst_8)))))))) (SMulWithZero.toSmulZeroClass.{u2, u3} R A (MulZeroClass.toHasZero.{u2} R (MulZeroOneClass.toMulZeroClass.{u2} R (MonoidWithZero.toMulZeroOneClass.{u2} R (Semiring.toMonoidWithZero.{u2} R (CommSemiring.toSemiring.{u2} R (CommRing.toCommSemiring.{u2} R _inst_4)))))) (AddZeroClass.toHasZero.{u3} A (AddMonoid.toAddZeroClass.{u3} A (AddCommMonoid.toAddMonoid.{u3} A (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} A (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} A (Semiring.toNonAssocSemiring.{u3} A (Ring.toSemiring.{u3} A (CommRing.toRing.{u3} A _inst_8)))))))) (MulActionWithZero.toSMulWithZero.{u2, u3} R A (Semiring.toMonoidWithZero.{u2} R (CommSemiring.toSemiring.{u2} R (CommRing.toCommSemiring.{u2} R _inst_4))) (AddZeroClass.toHasZero.{u3} A (AddMonoid.toAddZeroClass.{u3} A (AddCommMonoid.toAddMonoid.{u3} A (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} A (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} A (Semiring.toNonAssocSemiring.{u3} A (Ring.toSemiring.{u3} A (CommRing.toRing.{u3} A _inst_8)))))))) (Module.toMulActionWithZero.{u2, u3} R A (CommSemiring.toSemiring.{u2} R (CommRing.toCommSemiring.{u2} R _inst_4)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} A (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} A (Semiring.toNonAssocSemiring.{u3} A (Ring.toSemiring.{u3} A (CommRing.toRing.{u3} A _inst_8))))) (Algebra.toModule.{u2, u3} R A (CommRing.toCommSemiring.{u2} R _inst_4) (Ring.toSemiring.{u3} A (CommRing.toRing.{u3} A _inst_8)) _inst_9)))))] {B : PowerBasis.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10}, (IsIntegral.{u2, u3} R A _inst_4 (CommRing.toRing.{u3} A _inst_8) _inst_9 (PowerBasis.gen.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) -> (forall [_inst_12 : IsDomain.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))] {x : A} {y : A}, (forall (i : Fin (PowerBasis.dim.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)), IsIntegral.{u2, u1} R S _inst_4 (CommRing.toRing.{u1} S _inst_2) _inst_5 (coeFn.{succ u1, succ u1} (Finsupp.{0, u1} (Fin (PowerBasis.dim.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) S (MulZeroClass.toHasZero.{u1} S (NonUnitalNonAssocSemiring.toMulZeroClass.{u1} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))))))) (fun (_x : Finsupp.{0, u1} (Fin (PowerBasis.dim.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) S (MulZeroClass.toHasZero.{u1} S (NonUnitalNonAssocSemiring.toMulZeroClass.{u1} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))))))) => (Fin (PowerBasis.dim.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) -> S) (Finsupp.coeFun.{0, u1} (Fin (PowerBasis.dim.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) S (MulZeroClass.toHasZero.{u1} S (NonUnitalNonAssocSemiring.toMulZeroClass.{u1} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))))))) (coeFn.{max (succ u3) (succ u1), max (succ u3) (succ u1)} (LinearEquiv.{u1, u1, u3, u1} S S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)) (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)) (RingHom.id.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)))) (RingHom.id.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)))) (RingHomInvPair.ids.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))) (RingHomInvPair.ids.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))) A (Finsupp.{0, u1} (Fin (PowerBasis.dim.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) S (MulZeroClass.toHasZero.{u1} S (NonUnitalNonAssocSemiring.toMulZeroClass.{u1} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))))))) (AddCommGroup.toAddCommMonoid.{u3} A (NonUnitalNonAssocRing.toAddCommGroup.{u3} A (NonAssocRing.toNonUnitalNonAssocRing.{u3} A (Ring.toNonAssocRing.{u3} A (CommRing.toRing.{u3} A _inst_8))))) (Finsupp.addCommMonoid.{0, u1} (Fin (PowerBasis.dim.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u1} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)))))) (Algebra.toModule.{u1, u3} S A (CommRing.toCommSemiring.{u1} S _inst_2) (Ring.toSemiring.{u3} A (CommRing.toRing.{u3} A _inst_8)) _inst_10) (Finsupp.module.{0, u1, u1} (Fin (PowerBasis.dim.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) S S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u1} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))))) (Semiring.toModule.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))))) (fun (_x : LinearEquiv.{u1, u1, u3, u1} S S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)) (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)) (RingHom.id.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)))) (RingHom.id.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)))) (RingHomInvPair.ids.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))) (RingHomInvPair.ids.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))) A (Finsupp.{0, u1} (Fin (PowerBasis.dim.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) S (MulZeroClass.toHasZero.{u1} S (NonUnitalNonAssocSemiring.toMulZeroClass.{u1} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))))))) (AddCommGroup.toAddCommMonoid.{u3} A (NonUnitalNonAssocRing.toAddCommGroup.{u3} A (NonAssocRing.toNonUnitalNonAssocRing.{u3} A (Ring.toNonAssocRing.{u3} A (CommRing.toRing.{u3} A _inst_8))))) (Finsupp.addCommMonoid.{0, u1} (Fin (PowerBasis.dim.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u1} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)))))) (Algebra.toModule.{u1, u3} S A (CommRing.toCommSemiring.{u1} S _inst_2) (Ring.toSemiring.{u3} A (CommRing.toRing.{u3} A _inst_8)) _inst_10) (Finsupp.module.{0, u1, u1} (Fin (PowerBasis.dim.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) S S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u1} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))))) (Semiring.toModule.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))))) => A -> (Finsupp.{0, u1} (Fin (PowerBasis.dim.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) S (MulZeroClass.toHasZero.{u1} S (NonUnitalNonAssocSemiring.toMulZeroClass.{u1} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)))))))) (LinearEquiv.hasCoeToFun.{u1, u1, u3, u1} S S A (Finsupp.{0, u1} (Fin (PowerBasis.dim.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) S (MulZeroClass.toHasZero.{u1} S (NonUnitalNonAssocSemiring.toMulZeroClass.{u1} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))))))) (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)) (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)) (AddCommGroup.toAddCommMonoid.{u3} A (NonUnitalNonAssocRing.toAddCommGroup.{u3} A (NonAssocRing.toNonUnitalNonAssocRing.{u3} A (Ring.toNonAssocRing.{u3} A (CommRing.toRing.{u3} A _inst_8))))) (Finsupp.addCommMonoid.{0, u1} (Fin (PowerBasis.dim.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u1} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)))))) (Algebra.toModule.{u1, u3} S A (CommRing.toCommSemiring.{u1} S _inst_2) (Ring.toSemiring.{u3} A (CommRing.toRing.{u3} A _inst_8)) _inst_10) (Finsupp.module.{0, u1, u1} (Fin (PowerBasis.dim.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) S S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u1} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))))) (Semiring.toModule.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)))) (RingHom.id.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)))) (RingHom.id.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)))) (RingHomInvPair.ids.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))) (RingHomInvPair.ids.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)))) (Basis.repr.{0, u1, u3} (Fin (PowerBasis.dim.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) S A (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)) (AddCommGroup.toAddCommMonoid.{u3} A (NonUnitalNonAssocRing.toAddCommGroup.{u3} A (NonAssocRing.toNonUnitalNonAssocRing.{u3} A (Ring.toNonAssocRing.{u3} A (CommRing.toRing.{u3} A _inst_8))))) (Algebra.toModule.{u1, u3} S A (CommRing.toCommSemiring.{u1} S _inst_2) (Ring.toSemiring.{u3} A (CommRing.toRing.{u3} A _inst_8)) _inst_10) (PowerBasis.basis.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) x) i)) -> (forall (i : Fin (PowerBasis.dim.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)), IsIntegral.{u2, u1} R S _inst_4 (CommRing.toRing.{u1} S _inst_2) _inst_5 (coeFn.{succ u1, succ u1} (Finsupp.{0, u1} (Fin (PowerBasis.dim.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) S (MulZeroClass.toHasZero.{u1} S (NonUnitalNonAssocSemiring.toMulZeroClass.{u1} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))))))) (fun (_x : Finsupp.{0, u1} (Fin (PowerBasis.dim.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) S (MulZeroClass.toHasZero.{u1} S (NonUnitalNonAssocSemiring.toMulZeroClass.{u1} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))))))) => (Fin (PowerBasis.dim.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) -> S) (Finsupp.coeFun.{0, u1} (Fin (PowerBasis.dim.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) S (MulZeroClass.toHasZero.{u1} S (NonUnitalNonAssocSemiring.toMulZeroClass.{u1} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))))))) (coeFn.{max (succ u3) (succ u1), max (succ u3) (succ u1)} (LinearEquiv.{u1, u1, u3, u1} S S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)) (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)) (RingHom.id.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)))) (RingHom.id.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)))) (RingHomInvPair.ids.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))) (RingHomInvPair.ids.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))) A (Finsupp.{0, u1} (Fin (PowerBasis.dim.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) S (MulZeroClass.toHasZero.{u1} S (NonUnitalNonAssocSemiring.toMulZeroClass.{u1} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))))))) (AddCommGroup.toAddCommMonoid.{u3} A (NonUnitalNonAssocRing.toAddCommGroup.{u3} A (NonAssocRing.toNonUnitalNonAssocRing.{u3} A (Ring.toNonAssocRing.{u3} A (CommRing.toRing.{u3} A _inst_8))))) (Finsupp.addCommMonoid.{0, u1} (Fin (PowerBasis.dim.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u1} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)))))) (Algebra.toModule.{u1, u3} S A (CommRing.toCommSemiring.{u1} S _inst_2) (Ring.toSemiring.{u3} A (CommRing.toRing.{u3} A _inst_8)) _inst_10) (Finsupp.module.{0, u1, u1} (Fin (PowerBasis.dim.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) S S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u1} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))))) (Semiring.toModule.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))))) (fun (_x : LinearEquiv.{u1, u1, u3, u1} S S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)) (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)) (RingHom.id.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)))) (RingHom.id.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)))) (RingHomInvPair.ids.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))) (RingHomInvPair.ids.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))) A (Finsupp.{0, u1} (Fin (PowerBasis.dim.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) S (MulZeroClass.toHasZero.{u1} S (NonUnitalNonAssocSemiring.toMulZeroClass.{u1} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))))))) (AddCommGroup.toAddCommMonoid.{u3} A (NonUnitalNonAssocRing.toAddCommGroup.{u3} A (NonAssocRing.toNonUnitalNonAssocRing.{u3} A (Ring.toNonAssocRing.{u3} A (CommRing.toRing.{u3} A _inst_8))))) (Finsupp.addCommMonoid.{0, u1} (Fin (PowerBasis.dim.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u1} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)))))) (Algebra.toModule.{u1, u3} S A (CommRing.toCommSemiring.{u1} S _inst_2) (Ring.toSemiring.{u3} A (CommRing.toRing.{u3} A _inst_8)) _inst_10) (Finsupp.module.{0, u1, u1} (Fin (PowerBasis.dim.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) S S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u1} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))))) (Semiring.toModule.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))))) => A -> (Finsupp.{0, u1} (Fin (PowerBasis.dim.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) S (MulZeroClass.toHasZero.{u1} S (NonUnitalNonAssocSemiring.toMulZeroClass.{u1} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)))))))) (LinearEquiv.hasCoeToFun.{u1, u1, u3, u1} S S A (Finsupp.{0, u1} (Fin (PowerBasis.dim.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) S (MulZeroClass.toHasZero.{u1} S (NonUnitalNonAssocSemiring.toMulZeroClass.{u1} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))))))) (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)) (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)) (AddCommGroup.toAddCommMonoid.{u3} A (NonUnitalNonAssocRing.toAddCommGroup.{u3} A (NonAssocRing.toNonUnitalNonAssocRing.{u3} A (Ring.toNonAssocRing.{u3} A (CommRing.toRing.{u3} A _inst_8))))) (Finsupp.addCommMonoid.{0, u1} (Fin (PowerBasis.dim.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u1} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)))))) (Algebra.toModule.{u1, u3} S A (CommRing.toCommSemiring.{u1} S _inst_2) (Ring.toSemiring.{u3} A (CommRing.toRing.{u3} A _inst_8)) _inst_10) (Finsupp.module.{0, u1, u1} (Fin (PowerBasis.dim.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) S S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u1} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))))) (Semiring.toModule.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)))) (RingHom.id.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)))) (RingHom.id.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)))) (RingHomInvPair.ids.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))) (RingHomInvPair.ids.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)))) (Basis.repr.{0, u1, u3} (Fin (PowerBasis.dim.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) S A (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)) (AddCommGroup.toAddCommMonoid.{u3} A (NonUnitalNonAssocRing.toAddCommGroup.{u3} A (NonAssocRing.toNonUnitalNonAssocRing.{u3} A (Ring.toNonAssocRing.{u3} A (CommRing.toRing.{u3} A _inst_8))))) (Algebra.toModule.{u1, u3} S A (CommRing.toCommSemiring.{u1} S _inst_2) (Ring.toSemiring.{u3} A (CommRing.toRing.{u3} A _inst_8)) _inst_10) (PowerBasis.basis.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) y) i)) -> (Eq.{succ u1} (Polynomial.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))) (minpoly.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 (PowerBasis.gen.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) (Polynomial.map.{u2, u1} R S (Ring.toSemiring.{u2} R (CommRing.toRing.{u2} R _inst_4)) (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)) (algebraMap.{u2, u1} R S (CommRing.toCommSemiring.{u2} R _inst_4) (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)) _inst_5) (minpoly.{u2, u3} R A _inst_4 (CommRing.toRing.{u3} A _inst_8) _inst_9 (PowerBasis.gen.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)))) -> (forall (i : Fin (PowerBasis.dim.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)), IsIntegral.{u2, u1} R S _inst_4 (CommRing.toRing.{u1} S _inst_2) _inst_5 (coeFn.{succ u1, succ u1} (Finsupp.{0, u1} (Fin (PowerBasis.dim.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) S (MulZeroClass.toHasZero.{u1} S (NonUnitalNonAssocSemiring.toMulZeroClass.{u1} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))))))) (fun (_x : Finsupp.{0, u1} (Fin (PowerBasis.dim.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) S (MulZeroClass.toHasZero.{u1} S (NonUnitalNonAssocSemiring.toMulZeroClass.{u1} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))))))) => (Fin (PowerBasis.dim.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) -> S) (Finsupp.coeFun.{0, u1} (Fin (PowerBasis.dim.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) S (MulZeroClass.toHasZero.{u1} S (NonUnitalNonAssocSemiring.toMulZeroClass.{u1} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))))))) (coeFn.{max (succ u3) (succ u1), max (succ u3) (succ u1)} (LinearEquiv.{u1, u1, u3, u1} S S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)) (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)) (RingHom.id.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)))) (RingHom.id.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)))) (RingHomInvPair.ids.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))) (RingHomInvPair.ids.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))) A (Finsupp.{0, u1} (Fin (PowerBasis.dim.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) S (MulZeroClass.toHasZero.{u1} S (NonUnitalNonAssocSemiring.toMulZeroClass.{u1} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))))))) (AddCommGroup.toAddCommMonoid.{u3} A (NonUnitalNonAssocRing.toAddCommGroup.{u3} A (NonAssocRing.toNonUnitalNonAssocRing.{u3} A (Ring.toNonAssocRing.{u3} A (CommRing.toRing.{u3} A _inst_8))))) (Finsupp.addCommMonoid.{0, u1} (Fin (PowerBasis.dim.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u1} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)))))) (Algebra.toModule.{u1, u3} S A (CommRing.toCommSemiring.{u1} S _inst_2) (Ring.toSemiring.{u3} A (CommRing.toRing.{u3} A _inst_8)) _inst_10) (Finsupp.module.{0, u1, u1} (Fin (PowerBasis.dim.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) S S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u1} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))))) (Semiring.toModule.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))))) (fun (_x : LinearEquiv.{u1, u1, u3, u1} S S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)) (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)) (RingHom.id.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)))) (RingHom.id.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)))) (RingHomInvPair.ids.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))) (RingHomInvPair.ids.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))) A (Finsupp.{0, u1} (Fin (PowerBasis.dim.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) S (MulZeroClass.toHasZero.{u1} S (NonUnitalNonAssocSemiring.toMulZeroClass.{u1} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))))))) (AddCommGroup.toAddCommMonoid.{u3} A (NonUnitalNonAssocRing.toAddCommGroup.{u3} A (NonAssocRing.toNonUnitalNonAssocRing.{u3} A (Ring.toNonAssocRing.{u3} A (CommRing.toRing.{u3} A _inst_8))))) (Finsupp.addCommMonoid.{0, u1} (Fin (PowerBasis.dim.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u1} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)))))) (Algebra.toModule.{u1, u3} S A (CommRing.toCommSemiring.{u1} S _inst_2) (Ring.toSemiring.{u3} A (CommRing.toRing.{u3} A _inst_8)) _inst_10) (Finsupp.module.{0, u1, u1} (Fin (PowerBasis.dim.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) S S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u1} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))))) (Semiring.toModule.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))))) => A -> (Finsupp.{0, u1} (Fin (PowerBasis.dim.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) S (MulZeroClass.toHasZero.{u1} S (NonUnitalNonAssocSemiring.toMulZeroClass.{u1} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)))))))) (LinearEquiv.hasCoeToFun.{u1, u1, u3, u1} S S A (Finsupp.{0, u1} (Fin (PowerBasis.dim.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) S (MulZeroClass.toHasZero.{u1} S (NonUnitalNonAssocSemiring.toMulZeroClass.{u1} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))))))) (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)) (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)) (AddCommGroup.toAddCommMonoid.{u3} A (NonUnitalNonAssocRing.toAddCommGroup.{u3} A (NonAssocRing.toNonUnitalNonAssocRing.{u3} A (Ring.toNonAssocRing.{u3} A (CommRing.toRing.{u3} A _inst_8))))) (Finsupp.addCommMonoid.{0, u1} (Fin (PowerBasis.dim.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u1} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)))))) (Algebra.toModule.{u1, u3} S A (CommRing.toCommSemiring.{u1} S _inst_2) (Ring.toSemiring.{u3} A (CommRing.toRing.{u3} A _inst_8)) _inst_10) (Finsupp.module.{0, u1, u1} (Fin (PowerBasis.dim.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) S S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u1} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))))) (Semiring.toModule.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)))) (RingHom.id.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)))) (RingHom.id.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)))) (RingHomInvPair.ids.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))) (RingHomInvPair.ids.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)))) (Basis.repr.{0, u1, u3} (Fin (PowerBasis.dim.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) S A (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)) (AddCommGroup.toAddCommMonoid.{u3} A (NonUnitalNonAssocRing.toAddCommGroup.{u3} A (NonAssocRing.toNonUnitalNonAssocRing.{u3} A (Ring.toNonAssocRing.{u3} A (CommRing.toRing.{u3} A _inst_8))))) (Algebra.toModule.{u1, u3} S A (CommRing.toCommSemiring.{u1} S _inst_2) (Ring.toSemiring.{u3} A (CommRing.toRing.{u3} A _inst_8)) _inst_10) (PowerBasis.basis.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) (HMul.hMul.{u3, u3, u3} A A A (instHMul.{u3} A (Distrib.toHasMul.{u3} A (Ring.toDistrib.{u3} A (CommRing.toRing.{u3} A _inst_8)))) x y)) i)))
but is expected to have type
  forall {S : Type.{u3}} [_inst_2 : CommRing.{u3} S] {R : Type.{u1}} [_inst_4 : CommRing.{u1} R] [_inst_5 : Algebra.{u1, u3} R S (CommRing.toCommSemiring.{u1} R _inst_4) (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))] {A : Type.{u2}} [_inst_8 : CommRing.{u2} A] [_inst_9 : Algebra.{u1, u2} R A (CommRing.toCommSemiring.{u1} R _inst_4) (CommSemiring.toSemiring.{u2} A (CommRing.toCommSemiring.{u2} A _inst_8))] [_inst_10 : Algebra.{u3, u2} S A (CommRing.toCommSemiring.{u3} S _inst_2) (CommSemiring.toSemiring.{u2} A (CommRing.toCommSemiring.{u2} A _inst_8))] [_inst_11 : IsScalarTower.{u1, u3, u2} R S A (Algebra.toSMul.{u1, u3} R S (CommRing.toCommSemiring.{u1} R _inst_4) (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) _inst_5) (Algebra.toSMul.{u3, u2} S A (CommRing.toCommSemiring.{u3} S _inst_2) (CommSemiring.toSemiring.{u2} A (CommRing.toCommSemiring.{u2} A _inst_8)) _inst_10) (Algebra.toSMul.{u1, u2} R A (CommRing.toCommSemiring.{u1} R _inst_4) (CommSemiring.toSemiring.{u2} A (CommRing.toCommSemiring.{u2} A _inst_8)) _inst_9)] {B : PowerBasis.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10}, (IsIntegral.{u1, u2} R A _inst_4 (CommRing.toRing.{u2} A _inst_8) _inst_9 (PowerBasis.gen.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) -> (forall [_inst_12 : IsDomain.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))] {x : A} {y : A}, (forall (i : Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)), IsIntegral.{u1, u3} R ((fun (x._@.Mathlib.Data.Finsupp.Defs._hyg.779 : Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) => S) i) _inst_4 (CommRing.toRing.{u3} ((fun (x._@.Mathlib.Data.Finsupp.Defs._hyg.779 : Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) => S) i) _inst_2) _inst_5 (FunLike.coe.{succ u3, 1, succ u3} (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) (fun (_x : Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) => (fun (x._@.Mathlib.Data.Finsupp.Defs._hyg.779 : Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) => S) _x) (Finsupp.funLike.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (FunLike.coe.{max (succ u3) (succ u2), succ u2, succ u3} (LinearEquiv.{u3, u3, u2, u3} S S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (RingHom.id.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (RingHom.id.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (RingHomInvPair.ids.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))) (RingHomInvPair.ids.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))) A (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} A (NonUnitalNonAssocRing.toNonUnitalNonAssocSemiring.{u2} A (NonAssocRing.toNonUnitalNonAssocRing.{u2} A (Ring.toNonAssocRing.{u2} A (CommRing.toRing.{u2} A _inst_8))))) (Finsupp.addCommMonoid.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))))) (Algebra.toModule.{u3, u2} S A (CommRing.toCommSemiring.{u3} S _inst_2) (Ring.toSemiring.{u2} A (CommRing.toRing.{u2} A _inst_8)) _inst_10) (Finsupp.module.{0, u3, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (Semiring.toModule.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) A (fun (_x : A) => (fun (x._@.Mathlib.Algebra.Hom.GroupAction._hyg.2187 : A) => Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) _x) (SMulHomClass.toFunLike.{max u3 u2, u3, u2, u3} (LinearEquiv.{u3, u3, u2, u3} S S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (RingHom.id.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (RingHom.id.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (RingHomInvPair.ids.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))) (RingHomInvPair.ids.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))) A (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} A (NonUnitalNonAssocRing.toNonUnitalNonAssocSemiring.{u2} A (NonAssocRing.toNonUnitalNonAssocRing.{u2} A (Ring.toNonAssocRing.{u2} A (CommRing.toRing.{u2} A _inst_8))))) (Finsupp.addCommMonoid.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))))) (Algebra.toModule.{u3, u2} S A (CommRing.toCommSemiring.{u3} S _inst_2) (Ring.toSemiring.{u2} A (CommRing.toRing.{u2} A _inst_8)) _inst_10) (Finsupp.module.{0, u3, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (Semiring.toModule.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) S A (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (SMulZeroClass.toSMul.{u3, u2} S A (AddMonoid.toZero.{u2} A (AddCommMonoid.toAddMonoid.{u2} A (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} A (NonUnitalNonAssocRing.toNonUnitalNonAssocSemiring.{u2} A (NonAssocRing.toNonUnitalNonAssocRing.{u2} A (Ring.toNonAssocRing.{u2} A (CommRing.toRing.{u2} A _inst_8))))))) (DistribSMul.toSMulZeroClass.{u3, u2} S A (AddMonoid.toAddZeroClass.{u2} A (AddCommMonoid.toAddMonoid.{u2} A (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} A (NonUnitalNonAssocRing.toNonUnitalNonAssocSemiring.{u2} A (NonAssocRing.toNonUnitalNonAssocRing.{u2} A (Ring.toNonAssocRing.{u2} A (CommRing.toRing.{u2} A _inst_8))))))) (DistribMulAction.toDistribSMul.{u3, u2} S A (MonoidWithZero.toMonoid.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (AddCommMonoid.toAddMonoid.{u2} A (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} A (NonUnitalNonAssocRing.toNonUnitalNonAssocSemiring.{u2} A (NonAssocRing.toNonUnitalNonAssocRing.{u2} A (Ring.toNonAssocRing.{u2} A (CommRing.toRing.{u2} A _inst_8)))))) (Module.toDistribMulAction.{u3, u2} S A (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} A (NonUnitalNonAssocRing.toNonUnitalNonAssocSemiring.{u2} A (NonAssocRing.toNonUnitalNonAssocRing.{u2} A (Ring.toNonAssocRing.{u2} A (CommRing.toRing.{u2} A _inst_8))))) (Algebra.toModule.{u3, u2} S A (CommRing.toCommSemiring.{u3} S _inst_2) (Ring.toSemiring.{u2} A (CommRing.toRing.{u2} A _inst_8)) _inst_10))))) (SMulZeroClass.toSMul.{u3, u3} S (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (AddMonoid.toZero.{u3} (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (AddCommMonoid.toAddMonoid.{u3} (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (Finsupp.addCommMonoid.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))))))) (DistribSMul.toSMulZeroClass.{u3, u3} S (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (AddMonoid.toAddZeroClass.{u3} (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (AddCommMonoid.toAddMonoid.{u3} (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (Finsupp.addCommMonoid.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))))))) (DistribMulAction.toDistribSMul.{u3, u3} S (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (MonoidWithZero.toMonoid.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (AddCommMonoid.toAddMonoid.{u3} (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (Finsupp.addCommMonoid.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))))) (Module.toDistribMulAction.{u3, u3} S (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (Finsupp.addCommMonoid.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))))) (Finsupp.module.{0, u3, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (Semiring.toModule.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))))))) (DistribMulActionHomClass.toSMulHomClass.{max u3 u2, u3, u2, u3} (LinearEquiv.{u3, u3, u2, u3} S S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (RingHom.id.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (RingHom.id.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (RingHomInvPair.ids.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))) (RingHomInvPair.ids.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))) A (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} A (NonUnitalNonAssocRing.toNonUnitalNonAssocSemiring.{u2} A (NonAssocRing.toNonUnitalNonAssocRing.{u2} A (Ring.toNonAssocRing.{u2} A (CommRing.toRing.{u2} A _inst_8))))) (Finsupp.addCommMonoid.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))))) (Algebra.toModule.{u3, u2} S A (CommRing.toCommSemiring.{u3} S _inst_2) (Ring.toSemiring.{u2} A (CommRing.toRing.{u2} A _inst_8)) _inst_10) (Finsupp.module.{0, u3, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (Semiring.toModule.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) S A (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (MonoidWithZero.toMonoid.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (AddCommMonoid.toAddMonoid.{u2} A (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} A (NonUnitalNonAssocRing.toNonUnitalNonAssocSemiring.{u2} A (NonAssocRing.toNonUnitalNonAssocRing.{u2} A (Ring.toNonAssocRing.{u2} A (CommRing.toRing.{u2} A _inst_8)))))) (AddCommMonoid.toAddMonoid.{u3} (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (Finsupp.addCommMonoid.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))))) (Module.toDistribMulAction.{u3, u2} S A (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} A (NonUnitalNonAssocRing.toNonUnitalNonAssocSemiring.{u2} A (NonAssocRing.toNonUnitalNonAssocRing.{u2} A (Ring.toNonAssocRing.{u2} A (CommRing.toRing.{u2} A _inst_8))))) (Algebra.toModule.{u3, u2} S A (CommRing.toCommSemiring.{u3} S _inst_2) (Ring.toSemiring.{u2} A (CommRing.toRing.{u2} A _inst_8)) _inst_10)) (Module.toDistribMulAction.{u3, u3} S (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (Finsupp.addCommMonoid.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))))) (Finsupp.module.{0, u3, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (Semiring.toModule.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (SemilinearMapClass.distribMulActionHomClass.{u3, u2, u3, max u3 u2} S A (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (LinearEquiv.{u3, u3, u2, u3} S S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (RingHom.id.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (RingHom.id.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (RingHomInvPair.ids.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))) (RingHomInvPair.ids.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))) A (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} A (NonUnitalNonAssocRing.toNonUnitalNonAssocSemiring.{u2} A (NonAssocRing.toNonUnitalNonAssocRing.{u2} A (Ring.toNonAssocRing.{u2} A (CommRing.toRing.{u2} A _inst_8))))) (Finsupp.addCommMonoid.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))))) (Algebra.toModule.{u3, u2} S A (CommRing.toCommSemiring.{u3} S _inst_2) (Ring.toSemiring.{u2} A (CommRing.toRing.{u2} A _inst_8)) _inst_10) (Finsupp.module.{0, u3, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (Semiring.toModule.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} A (NonUnitalNonAssocRing.toNonUnitalNonAssocSemiring.{u2} A (NonAssocRing.toNonUnitalNonAssocRing.{u2} A (Ring.toNonAssocRing.{u2} A (CommRing.toRing.{u2} A _inst_8))))) (Finsupp.addCommMonoid.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))))) (Algebra.toModule.{u3, u2} S A (CommRing.toCommSemiring.{u3} S _inst_2) (Ring.toSemiring.{u2} A (CommRing.toRing.{u2} A _inst_8)) _inst_10) (Finsupp.module.{0, u3, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (Semiring.toModule.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (SemilinearEquivClass.instSemilinearMapClass.{u3, u3, u2, u3, max u3 u2} S S A (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (LinearEquiv.{u3, u3, u2, u3} S S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (RingHom.id.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (RingHom.id.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (RingHomInvPair.ids.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))) (RingHomInvPair.ids.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))) A (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} A (NonUnitalNonAssocRing.toNonUnitalNonAssocSemiring.{u2} A (NonAssocRing.toNonUnitalNonAssocRing.{u2} A (Ring.toNonAssocRing.{u2} A (CommRing.toRing.{u2} A _inst_8))))) (Finsupp.addCommMonoid.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))))) (Algebra.toModule.{u3, u2} S A (CommRing.toCommSemiring.{u3} S _inst_2) (Ring.toSemiring.{u2} A (CommRing.toRing.{u2} A _inst_8)) _inst_10) (Finsupp.module.{0, u3, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (Semiring.toModule.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} A (NonUnitalNonAssocRing.toNonUnitalNonAssocSemiring.{u2} A (NonAssocRing.toNonUnitalNonAssocRing.{u2} A (Ring.toNonAssocRing.{u2} A (CommRing.toRing.{u2} A _inst_8))))) (Finsupp.addCommMonoid.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))))) (Algebra.toModule.{u3, u2} S A (CommRing.toCommSemiring.{u3} S _inst_2) (Ring.toSemiring.{u2} A (CommRing.toRing.{u2} A _inst_8)) _inst_10) (Finsupp.module.{0, u3, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (Semiring.toModule.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (RingHom.id.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (RingHom.id.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (RingHomInvPair.ids.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))) (RingHomInvPair.ids.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))) (LinearEquiv.instSemilinearEquivClassLinearEquiv.{u3, u3, u2, u3} S S A (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} A (NonUnitalNonAssocRing.toNonUnitalNonAssocSemiring.{u2} A (NonAssocRing.toNonUnitalNonAssocRing.{u2} A (Ring.toNonAssocRing.{u2} A (CommRing.toRing.{u2} A _inst_8))))) (Finsupp.addCommMonoid.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))))) (Algebra.toModule.{u3, u2} S A (CommRing.toCommSemiring.{u3} S _inst_2) (Ring.toSemiring.{u2} A (CommRing.toRing.{u2} A _inst_8)) _inst_10) (Finsupp.module.{0, u3, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (Semiring.toModule.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (RingHom.id.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (RingHom.id.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (RingHomInvPair.ids.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))) (RingHomInvPair.ids.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))))))) (Basis.repr.{0, u3, u2} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S A (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} A (NonUnitalNonAssocRing.toNonUnitalNonAssocSemiring.{u2} A (NonAssocRing.toNonUnitalNonAssocRing.{u2} A (Ring.toNonAssocRing.{u2} A (CommRing.toRing.{u2} A _inst_8))))) (Algebra.toModule.{u3, u2} S A (CommRing.toCommSemiring.{u3} S _inst_2) (Ring.toSemiring.{u2} A (CommRing.toRing.{u2} A _inst_8)) _inst_10) (PowerBasis.basis.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) x) i)) -> (forall (i : Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)), IsIntegral.{u1, u3} R ((fun (x._@.Mathlib.Data.Finsupp.Defs._hyg.779 : Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) => S) i) _inst_4 (CommRing.toRing.{u3} ((fun (x._@.Mathlib.Data.Finsupp.Defs._hyg.779 : Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) => S) i) _inst_2) _inst_5 (FunLike.coe.{succ u3, 1, succ u3} (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) (fun (_x : Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) => (fun (x._@.Mathlib.Data.Finsupp.Defs._hyg.779 : Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) => S) _x) (Finsupp.funLike.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (FunLike.coe.{max (succ u3) (succ u2), succ u2, succ u3} (LinearEquiv.{u3, u3, u2, u3} S S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (RingHom.id.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (RingHom.id.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (RingHomInvPair.ids.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))) (RingHomInvPair.ids.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))) A (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} A (NonUnitalNonAssocRing.toNonUnitalNonAssocSemiring.{u2} A (NonAssocRing.toNonUnitalNonAssocRing.{u2} A (Ring.toNonAssocRing.{u2} A (CommRing.toRing.{u2} A _inst_8))))) (Finsupp.addCommMonoid.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))))) (Algebra.toModule.{u3, u2} S A (CommRing.toCommSemiring.{u3} S _inst_2) (Ring.toSemiring.{u2} A (CommRing.toRing.{u2} A _inst_8)) _inst_10) (Finsupp.module.{0, u3, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (Semiring.toModule.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) A (fun (_x : A) => (fun (x._@.Mathlib.Algebra.Hom.GroupAction._hyg.2187 : A) => Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) _x) (SMulHomClass.toFunLike.{max u3 u2, u3, u2, u3} (LinearEquiv.{u3, u3, u2, u3} S S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (RingHom.id.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (RingHom.id.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (RingHomInvPair.ids.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))) (RingHomInvPair.ids.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))) A (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} A (NonUnitalNonAssocRing.toNonUnitalNonAssocSemiring.{u2} A (NonAssocRing.toNonUnitalNonAssocRing.{u2} A (Ring.toNonAssocRing.{u2} A (CommRing.toRing.{u2} A _inst_8))))) (Finsupp.addCommMonoid.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))))) (Algebra.toModule.{u3, u2} S A (CommRing.toCommSemiring.{u3} S _inst_2) (Ring.toSemiring.{u2} A (CommRing.toRing.{u2} A _inst_8)) _inst_10) (Finsupp.module.{0, u3, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (Semiring.toModule.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) S A (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (SMulZeroClass.toSMul.{u3, u2} S A (AddMonoid.toZero.{u2} A (AddCommMonoid.toAddMonoid.{u2} A (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} A (NonUnitalNonAssocRing.toNonUnitalNonAssocSemiring.{u2} A (NonAssocRing.toNonUnitalNonAssocRing.{u2} A (Ring.toNonAssocRing.{u2} A (CommRing.toRing.{u2} A _inst_8))))))) (DistribSMul.toSMulZeroClass.{u3, u2} S A (AddMonoid.toAddZeroClass.{u2} A (AddCommMonoid.toAddMonoid.{u2} A (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} A (NonUnitalNonAssocRing.toNonUnitalNonAssocSemiring.{u2} A (NonAssocRing.toNonUnitalNonAssocRing.{u2} A (Ring.toNonAssocRing.{u2} A (CommRing.toRing.{u2} A _inst_8))))))) (DistribMulAction.toDistribSMul.{u3, u2} S A (MonoidWithZero.toMonoid.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (AddCommMonoid.toAddMonoid.{u2} A (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} A (NonUnitalNonAssocRing.toNonUnitalNonAssocSemiring.{u2} A (NonAssocRing.toNonUnitalNonAssocRing.{u2} A (Ring.toNonAssocRing.{u2} A (CommRing.toRing.{u2} A _inst_8)))))) (Module.toDistribMulAction.{u3, u2} S A (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} A (NonUnitalNonAssocRing.toNonUnitalNonAssocSemiring.{u2} A (NonAssocRing.toNonUnitalNonAssocRing.{u2} A (Ring.toNonAssocRing.{u2} A (CommRing.toRing.{u2} A _inst_8))))) (Algebra.toModule.{u3, u2} S A (CommRing.toCommSemiring.{u3} S _inst_2) (Ring.toSemiring.{u2} A (CommRing.toRing.{u2} A _inst_8)) _inst_10))))) (SMulZeroClass.toSMul.{u3, u3} S (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (AddMonoid.toZero.{u3} (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (AddCommMonoid.toAddMonoid.{u3} (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (Finsupp.addCommMonoid.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))))))) (DistribSMul.toSMulZeroClass.{u3, u3} S (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (AddMonoid.toAddZeroClass.{u3} (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (AddCommMonoid.toAddMonoid.{u3} (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (Finsupp.addCommMonoid.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))))))) (DistribMulAction.toDistribSMul.{u3, u3} S (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (MonoidWithZero.toMonoid.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (AddCommMonoid.toAddMonoid.{u3} (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (Finsupp.addCommMonoid.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))))) (Module.toDistribMulAction.{u3, u3} S (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (Finsupp.addCommMonoid.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))))) (Finsupp.module.{0, u3, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (Semiring.toModule.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))))))) (DistribMulActionHomClass.toSMulHomClass.{max u3 u2, u3, u2, u3} (LinearEquiv.{u3, u3, u2, u3} S S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (RingHom.id.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (RingHom.id.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (RingHomInvPair.ids.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))) (RingHomInvPair.ids.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))) A (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} A (NonUnitalNonAssocRing.toNonUnitalNonAssocSemiring.{u2} A (NonAssocRing.toNonUnitalNonAssocRing.{u2} A (Ring.toNonAssocRing.{u2} A (CommRing.toRing.{u2} A _inst_8))))) (Finsupp.addCommMonoid.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))))) (Algebra.toModule.{u3, u2} S A (CommRing.toCommSemiring.{u3} S _inst_2) (Ring.toSemiring.{u2} A (CommRing.toRing.{u2} A _inst_8)) _inst_10) (Finsupp.module.{0, u3, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (Semiring.toModule.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) S A (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (MonoidWithZero.toMonoid.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (AddCommMonoid.toAddMonoid.{u2} A (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} A (NonUnitalNonAssocRing.toNonUnitalNonAssocSemiring.{u2} A (NonAssocRing.toNonUnitalNonAssocRing.{u2} A (Ring.toNonAssocRing.{u2} A (CommRing.toRing.{u2} A _inst_8)))))) (AddCommMonoid.toAddMonoid.{u3} (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (Finsupp.addCommMonoid.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))))) (Module.toDistribMulAction.{u3, u2} S A (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} A (NonUnitalNonAssocRing.toNonUnitalNonAssocSemiring.{u2} A (NonAssocRing.toNonUnitalNonAssocRing.{u2} A (Ring.toNonAssocRing.{u2} A (CommRing.toRing.{u2} A _inst_8))))) (Algebra.toModule.{u3, u2} S A (CommRing.toCommSemiring.{u3} S _inst_2) (Ring.toSemiring.{u2} A (CommRing.toRing.{u2} A _inst_8)) _inst_10)) (Module.toDistribMulAction.{u3, u3} S (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (Finsupp.addCommMonoid.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))))) (Finsupp.module.{0, u3, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (Semiring.toModule.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (SemilinearMapClass.distribMulActionHomClass.{u3, u2, u3, max u3 u2} S A (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (LinearEquiv.{u3, u3, u2, u3} S S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (RingHom.id.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (RingHom.id.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (RingHomInvPair.ids.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))) (RingHomInvPair.ids.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))) A (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} A (NonUnitalNonAssocRing.toNonUnitalNonAssocSemiring.{u2} A (NonAssocRing.toNonUnitalNonAssocRing.{u2} A (Ring.toNonAssocRing.{u2} A (CommRing.toRing.{u2} A _inst_8))))) (Finsupp.addCommMonoid.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))))) (Algebra.toModule.{u3, u2} S A (CommRing.toCommSemiring.{u3} S _inst_2) (Ring.toSemiring.{u2} A (CommRing.toRing.{u2} A _inst_8)) _inst_10) (Finsupp.module.{0, u3, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (Semiring.toModule.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} A (NonUnitalNonAssocRing.toNonUnitalNonAssocSemiring.{u2} A (NonAssocRing.toNonUnitalNonAssocRing.{u2} A (Ring.toNonAssocRing.{u2} A (CommRing.toRing.{u2} A _inst_8))))) (Finsupp.addCommMonoid.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))))) (Algebra.toModule.{u3, u2} S A (CommRing.toCommSemiring.{u3} S _inst_2) (Ring.toSemiring.{u2} A (CommRing.toRing.{u2} A _inst_8)) _inst_10) (Finsupp.module.{0, u3, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (Semiring.toModule.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (SemilinearEquivClass.instSemilinearMapClass.{u3, u3, u2, u3, max u3 u2} S S A (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (LinearEquiv.{u3, u3, u2, u3} S S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (RingHom.id.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (RingHom.id.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (RingHomInvPair.ids.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))) (RingHomInvPair.ids.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))) A (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} A (NonUnitalNonAssocRing.toNonUnitalNonAssocSemiring.{u2} A (NonAssocRing.toNonUnitalNonAssocRing.{u2} A (Ring.toNonAssocRing.{u2} A (CommRing.toRing.{u2} A _inst_8))))) (Finsupp.addCommMonoid.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))))) (Algebra.toModule.{u3, u2} S A (CommRing.toCommSemiring.{u3} S _inst_2) (Ring.toSemiring.{u2} A (CommRing.toRing.{u2} A _inst_8)) _inst_10) (Finsupp.module.{0, u3, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (Semiring.toModule.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} A (NonUnitalNonAssocRing.toNonUnitalNonAssocSemiring.{u2} A (NonAssocRing.toNonUnitalNonAssocRing.{u2} A (Ring.toNonAssocRing.{u2} A (CommRing.toRing.{u2} A _inst_8))))) (Finsupp.addCommMonoid.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))))) (Algebra.toModule.{u3, u2} S A (CommRing.toCommSemiring.{u3} S _inst_2) (Ring.toSemiring.{u2} A (CommRing.toRing.{u2} A _inst_8)) _inst_10) (Finsupp.module.{0, u3, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (Semiring.toModule.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (RingHom.id.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (RingHom.id.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (RingHomInvPair.ids.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))) (RingHomInvPair.ids.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))) (LinearEquiv.instSemilinearEquivClassLinearEquiv.{u3, u3, u2, u3} S S A (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} A (NonUnitalNonAssocRing.toNonUnitalNonAssocSemiring.{u2} A (NonAssocRing.toNonUnitalNonAssocRing.{u2} A (Ring.toNonAssocRing.{u2} A (CommRing.toRing.{u2} A _inst_8))))) (Finsupp.addCommMonoid.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))))) (Algebra.toModule.{u3, u2} S A (CommRing.toCommSemiring.{u3} S _inst_2) (Ring.toSemiring.{u2} A (CommRing.toRing.{u2} A _inst_8)) _inst_10) (Finsupp.module.{0, u3, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (Semiring.toModule.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (RingHom.id.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (RingHom.id.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (RingHomInvPair.ids.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))) (RingHomInvPair.ids.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))))))) (Basis.repr.{0, u3, u2} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S A (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} A (NonUnitalNonAssocRing.toNonUnitalNonAssocSemiring.{u2} A (NonAssocRing.toNonUnitalNonAssocRing.{u2} A (Ring.toNonAssocRing.{u2} A (CommRing.toRing.{u2} A _inst_8))))) (Algebra.toModule.{u3, u2} S A (CommRing.toCommSemiring.{u3} S _inst_2) (Ring.toSemiring.{u2} A (CommRing.toRing.{u2} A _inst_8)) _inst_10) (PowerBasis.basis.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) y) i)) -> (Eq.{succ u3} (Polynomial.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))) (minpoly.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 (PowerBasis.gen.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) (Polynomial.map.{u1, u3} R S (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4)) (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (algebraMap.{u1, u3} R S (CommRing.toCommSemiring.{u1} R _inst_4) (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) _inst_5) (minpoly.{u1, u2} R A _inst_4 (CommRing.toRing.{u2} A _inst_8) _inst_9 (PowerBasis.gen.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)))) -> (forall (i : Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)), IsIntegral.{u1, u3} R ((fun (x._@.Mathlib.Data.Finsupp.Defs._hyg.779 : Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) => S) i) _inst_4 (CommRing.toRing.{u3} ((fun (x._@.Mathlib.Data.Finsupp.Defs._hyg.779 : Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) => S) i) _inst_2) _inst_5 (FunLike.coe.{succ u3, 1, succ u3} (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) (fun (_x : Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) => (fun (x._@.Mathlib.Data.Finsupp.Defs._hyg.779 : Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) => S) _x) (Finsupp.funLike.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (FunLike.coe.{max (succ u3) (succ u2), succ u2, succ u3} (LinearEquiv.{u3, u3, u2, u3} S S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (RingHom.id.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (RingHom.id.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (RingHomInvPair.ids.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))) (RingHomInvPair.ids.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))) A (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} A (NonUnitalNonAssocRing.toNonUnitalNonAssocSemiring.{u2} A (NonAssocRing.toNonUnitalNonAssocRing.{u2} A (Ring.toNonAssocRing.{u2} A (CommRing.toRing.{u2} A _inst_8))))) (Finsupp.addCommMonoid.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))))) (Algebra.toModule.{u3, u2} S A (CommRing.toCommSemiring.{u3} S _inst_2) (Ring.toSemiring.{u2} A (CommRing.toRing.{u2} A _inst_8)) _inst_10) (Finsupp.module.{0, u3, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (Semiring.toModule.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) A (fun (_x : A) => (fun (x._@.Mathlib.Algebra.Hom.GroupAction._hyg.2187 : A) => Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) _x) (SMulHomClass.toFunLike.{max u3 u2, u3, u2, u3} (LinearEquiv.{u3, u3, u2, u3} S S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (RingHom.id.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (RingHom.id.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (RingHomInvPair.ids.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))) (RingHomInvPair.ids.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))) A (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} A (NonUnitalNonAssocRing.toNonUnitalNonAssocSemiring.{u2} A (NonAssocRing.toNonUnitalNonAssocRing.{u2} A (Ring.toNonAssocRing.{u2} A (CommRing.toRing.{u2} A _inst_8))))) (Finsupp.addCommMonoid.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))))) (Algebra.toModule.{u3, u2} S A (CommRing.toCommSemiring.{u3} S _inst_2) (Ring.toSemiring.{u2} A (CommRing.toRing.{u2} A _inst_8)) _inst_10) (Finsupp.module.{0, u3, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (Semiring.toModule.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) S A (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (SMulZeroClass.toSMul.{u3, u2} S A (AddMonoid.toZero.{u2} A (AddCommMonoid.toAddMonoid.{u2} A (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} A (NonUnitalNonAssocRing.toNonUnitalNonAssocSemiring.{u2} A (NonAssocRing.toNonUnitalNonAssocRing.{u2} A (Ring.toNonAssocRing.{u2} A (CommRing.toRing.{u2} A _inst_8))))))) (DistribSMul.toSMulZeroClass.{u3, u2} S A (AddMonoid.toAddZeroClass.{u2} A (AddCommMonoid.toAddMonoid.{u2} A (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} A (NonUnitalNonAssocRing.toNonUnitalNonAssocSemiring.{u2} A (NonAssocRing.toNonUnitalNonAssocRing.{u2} A (Ring.toNonAssocRing.{u2} A (CommRing.toRing.{u2} A _inst_8))))))) (DistribMulAction.toDistribSMul.{u3, u2} S A (MonoidWithZero.toMonoid.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (AddCommMonoid.toAddMonoid.{u2} A (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} A (NonUnitalNonAssocRing.toNonUnitalNonAssocSemiring.{u2} A (NonAssocRing.toNonUnitalNonAssocRing.{u2} A (Ring.toNonAssocRing.{u2} A (CommRing.toRing.{u2} A _inst_8)))))) (Module.toDistribMulAction.{u3, u2} S A (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} A (NonUnitalNonAssocRing.toNonUnitalNonAssocSemiring.{u2} A (NonAssocRing.toNonUnitalNonAssocRing.{u2} A (Ring.toNonAssocRing.{u2} A (CommRing.toRing.{u2} A _inst_8))))) (Algebra.toModule.{u3, u2} S A (CommRing.toCommSemiring.{u3} S _inst_2) (Ring.toSemiring.{u2} A (CommRing.toRing.{u2} A _inst_8)) _inst_10))))) (SMulZeroClass.toSMul.{u3, u3} S (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (AddMonoid.toZero.{u3} (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (AddCommMonoid.toAddMonoid.{u3} (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (Finsupp.addCommMonoid.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))))))) (DistribSMul.toSMulZeroClass.{u3, u3} S (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (AddMonoid.toAddZeroClass.{u3} (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (AddCommMonoid.toAddMonoid.{u3} (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (Finsupp.addCommMonoid.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))))))) (DistribMulAction.toDistribSMul.{u3, u3} S (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (MonoidWithZero.toMonoid.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (AddCommMonoid.toAddMonoid.{u3} (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (Finsupp.addCommMonoid.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))))) (Module.toDistribMulAction.{u3, u3} S (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (Finsupp.addCommMonoid.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))))) (Finsupp.module.{0, u3, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (Semiring.toModule.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))))))) (DistribMulActionHomClass.toSMulHomClass.{max u3 u2, u3, u2, u3} (LinearEquiv.{u3, u3, u2, u3} S S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (RingHom.id.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (RingHom.id.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (RingHomInvPair.ids.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))) (RingHomInvPair.ids.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))) A (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} A (NonUnitalNonAssocRing.toNonUnitalNonAssocSemiring.{u2} A (NonAssocRing.toNonUnitalNonAssocRing.{u2} A (Ring.toNonAssocRing.{u2} A (CommRing.toRing.{u2} A _inst_8))))) (Finsupp.addCommMonoid.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))))) (Algebra.toModule.{u3, u2} S A (CommRing.toCommSemiring.{u3} S _inst_2) (Ring.toSemiring.{u2} A (CommRing.toRing.{u2} A _inst_8)) _inst_10) (Finsupp.module.{0, u3, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (Semiring.toModule.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) S A (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (MonoidWithZero.toMonoid.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (AddCommMonoid.toAddMonoid.{u2} A (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} A (NonUnitalNonAssocRing.toNonUnitalNonAssocSemiring.{u2} A (NonAssocRing.toNonUnitalNonAssocRing.{u2} A (Ring.toNonAssocRing.{u2} A (CommRing.toRing.{u2} A _inst_8)))))) (AddCommMonoid.toAddMonoid.{u3} (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (Finsupp.addCommMonoid.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))))) (Module.toDistribMulAction.{u3, u2} S A (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} A (NonUnitalNonAssocRing.toNonUnitalNonAssocSemiring.{u2} A (NonAssocRing.toNonUnitalNonAssocRing.{u2} A (Ring.toNonAssocRing.{u2} A (CommRing.toRing.{u2} A _inst_8))))) (Algebra.toModule.{u3, u2} S A (CommRing.toCommSemiring.{u3} S _inst_2) (Ring.toSemiring.{u2} A (CommRing.toRing.{u2} A _inst_8)) _inst_10)) (Module.toDistribMulAction.{u3, u3} S (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (Finsupp.addCommMonoid.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))))) (Finsupp.module.{0, u3, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (Semiring.toModule.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (SemilinearMapClass.distribMulActionHomClass.{u3, u2, u3, max u3 u2} S A (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (LinearEquiv.{u3, u3, u2, u3} S S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (RingHom.id.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (RingHom.id.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (RingHomInvPair.ids.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))) (RingHomInvPair.ids.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))) A (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} A (NonUnitalNonAssocRing.toNonUnitalNonAssocSemiring.{u2} A (NonAssocRing.toNonUnitalNonAssocRing.{u2} A (Ring.toNonAssocRing.{u2} A (CommRing.toRing.{u2} A _inst_8))))) (Finsupp.addCommMonoid.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))))) (Algebra.toModule.{u3, u2} S A (CommRing.toCommSemiring.{u3} S _inst_2) (Ring.toSemiring.{u2} A (CommRing.toRing.{u2} A _inst_8)) _inst_10) (Finsupp.module.{0, u3, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (Semiring.toModule.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} A (NonUnitalNonAssocRing.toNonUnitalNonAssocSemiring.{u2} A (NonAssocRing.toNonUnitalNonAssocRing.{u2} A (Ring.toNonAssocRing.{u2} A (CommRing.toRing.{u2} A _inst_8))))) (Finsupp.addCommMonoid.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))))) (Algebra.toModule.{u3, u2} S A (CommRing.toCommSemiring.{u3} S _inst_2) (Ring.toSemiring.{u2} A (CommRing.toRing.{u2} A _inst_8)) _inst_10) (Finsupp.module.{0, u3, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (Semiring.toModule.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (SemilinearEquivClass.instSemilinearMapClass.{u3, u3, u2, u3, max u3 u2} S S A (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (LinearEquiv.{u3, u3, u2, u3} S S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (RingHom.id.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (RingHom.id.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (RingHomInvPair.ids.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))) (RingHomInvPair.ids.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))) A (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} A (NonUnitalNonAssocRing.toNonUnitalNonAssocSemiring.{u2} A (NonAssocRing.toNonUnitalNonAssocRing.{u2} A (Ring.toNonAssocRing.{u2} A (CommRing.toRing.{u2} A _inst_8))))) (Finsupp.addCommMonoid.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))))) (Algebra.toModule.{u3, u2} S A (CommRing.toCommSemiring.{u3} S _inst_2) (Ring.toSemiring.{u2} A (CommRing.toRing.{u2} A _inst_8)) _inst_10) (Finsupp.module.{0, u3, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (Semiring.toModule.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} A (NonUnitalNonAssocRing.toNonUnitalNonAssocSemiring.{u2} A (NonAssocRing.toNonUnitalNonAssocRing.{u2} A (Ring.toNonAssocRing.{u2} A (CommRing.toRing.{u2} A _inst_8))))) (Finsupp.addCommMonoid.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))))) (Algebra.toModule.{u3, u2} S A (CommRing.toCommSemiring.{u3} S _inst_2) (Ring.toSemiring.{u2} A (CommRing.toRing.{u2} A _inst_8)) _inst_10) (Finsupp.module.{0, u3, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (Semiring.toModule.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (RingHom.id.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (RingHom.id.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (RingHomInvPair.ids.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))) (RingHomInvPair.ids.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))) (LinearEquiv.instSemilinearEquivClassLinearEquiv.{u3, u3, u2, u3} S S A (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} A (NonUnitalNonAssocRing.toNonUnitalNonAssocSemiring.{u2} A (NonAssocRing.toNonUnitalNonAssocRing.{u2} A (Ring.toNonAssocRing.{u2} A (CommRing.toRing.{u2} A _inst_8))))) (Finsupp.addCommMonoid.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))))) (Algebra.toModule.{u3, u2} S A (CommRing.toCommSemiring.{u3} S _inst_2) (Ring.toSemiring.{u2} A (CommRing.toRing.{u2} A _inst_8)) _inst_10) (Finsupp.module.{0, u3, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (Semiring.toModule.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (RingHom.id.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (RingHom.id.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (RingHomInvPair.ids.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))) (RingHomInvPair.ids.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))))))) (Basis.repr.{0, u3, u2} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S A (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} A (NonUnitalNonAssocRing.toNonUnitalNonAssocSemiring.{u2} A (NonAssocRing.toNonUnitalNonAssocRing.{u2} A (Ring.toNonAssocRing.{u2} A (CommRing.toRing.{u2} A _inst_8))))) (Algebra.toModule.{u3, u2} S A (CommRing.toCommSemiring.{u3} S _inst_2) (Ring.toSemiring.{u2} A (CommRing.toRing.{u2} A _inst_8)) _inst_10) (PowerBasis.basis.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) (HMul.hMul.{u2, u2, u2} A A A (instHMul.{u2} A (NonUnitalNonAssocRing.toMul.{u2} A (NonAssocRing.toNonUnitalNonAssocRing.{u2} A (Ring.toNonAssocRing.{u2} A (CommRing.toRing.{u2} A _inst_8))))) x y)) i)))
Case conversion may be inaccurate. Consider using '#align power_basis.repr_mul_is_integral PowerBasis.repr_mul_isIntegralₓ'. -/
/-- Let `B : power_basis S A` be such that `is_integral R B.gen`, and let `x y : A` be elements with
integral coordinates in the base `B.basis`. Then `is_integral R ((B.basis.repr (x * y) i)` for all
`i` if `minpoly S B.gen = (minpoly R B.gen).map (algebra_map R S)`. This is the case if `R` is a GCD
domain and `S` is its fraction ring. -/
theorem repr_mul_isIntegral [IsDomain S] {x y : A} (hx : ∀ i, IsIntegral R (B.Basis.repr x i))
    (hy : ∀ i, IsIntegral R (B.Basis.repr y i))
    (hmin : minpoly S B.gen = (minpoly R B.gen).map (algebraMap R S)) :
    ∀ i, IsIntegral R (B.Basis.repr (x * y) i) :=
  by
  intro i
  rw [← B.basis.sum_repr x, ← B.basis.sum_repr y, Finset.sum_mul_sum, LinearEquiv.map_sum,
    Finset.sum_apply']
  refine' IsIntegral.sum _ fun I hI => _
  simp only [Algebra.smul_mul_assoc, Algebra.mul_smul_comm, LinearEquiv.map_smulₛₗ,
    RingHom.id_apply, Finsupp.coe_smul, Pi.smul_apply, id.smul_eq_mul]
  refine' isIntegral_mul (hy _) (isIntegral_mul (hx _) _)
  simp only [coe_basis, ← pow_add]
  refine' repr_gen_pow_is_integral hB hmin _ _
#align power_basis.repr_mul_is_integral PowerBasis.repr_mul_isIntegral

/- warning: power_basis.repr_pow_is_integral -> PowerBasis.repr_pow_isIntegral is a dubious translation:
lean 3 declaration is
  forall {S : Type.{u1}} [_inst_2 : CommRing.{u1} S] {R : Type.{u2}} [_inst_4 : CommRing.{u2} R] [_inst_5 : Algebra.{u2, u1} R S (CommRing.toCommSemiring.{u2} R _inst_4) (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))] {A : Type.{u3}} [_inst_8 : CommRing.{u3} A] [_inst_9 : Algebra.{u2, u3} R A (CommRing.toCommSemiring.{u2} R _inst_4) (Ring.toSemiring.{u3} A (CommRing.toRing.{u3} A _inst_8))] [_inst_10 : Algebra.{u1, u3} S A (CommRing.toCommSemiring.{u1} S _inst_2) (Ring.toSemiring.{u3} A (CommRing.toRing.{u3} A _inst_8))] [_inst_11 : IsScalarTower.{u2, u1, u3} R S A (SMulZeroClass.toHasSmul.{u2, u1} R S (AddZeroClass.toHasZero.{u1} S (AddMonoid.toAddZeroClass.{u1} S (AddCommMonoid.toAddMonoid.{u1} S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u1} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)))))))) (SMulWithZero.toSmulZeroClass.{u2, u1} R S (MulZeroClass.toHasZero.{u2} R (MulZeroOneClass.toMulZeroClass.{u2} R (MonoidWithZero.toMulZeroOneClass.{u2} R (Semiring.toMonoidWithZero.{u2} R (CommSemiring.toSemiring.{u2} R (CommRing.toCommSemiring.{u2} R _inst_4)))))) (AddZeroClass.toHasZero.{u1} S (AddMonoid.toAddZeroClass.{u1} S (AddCommMonoid.toAddMonoid.{u1} S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u1} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)))))))) (MulActionWithZero.toSMulWithZero.{u2, u1} R S (Semiring.toMonoidWithZero.{u2} R (CommSemiring.toSemiring.{u2} R (CommRing.toCommSemiring.{u2} R _inst_4))) (AddZeroClass.toHasZero.{u1} S (AddMonoid.toAddZeroClass.{u1} S (AddCommMonoid.toAddMonoid.{u1} S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u1} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)))))))) (Module.toMulActionWithZero.{u2, u1} R S (CommSemiring.toSemiring.{u2} R (CommRing.toCommSemiring.{u2} R _inst_4)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u1} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))))) (Algebra.toModule.{u2, u1} R S (CommRing.toCommSemiring.{u2} R _inst_4) (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)) _inst_5))))) (SMulZeroClass.toHasSmul.{u1, u3} S A (AddZeroClass.toHasZero.{u3} A (AddMonoid.toAddZeroClass.{u3} A (AddCommMonoid.toAddMonoid.{u3} A (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} A (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} A (Semiring.toNonAssocSemiring.{u3} A (Ring.toSemiring.{u3} A (CommRing.toRing.{u3} A _inst_8)))))))) (SMulWithZero.toSmulZeroClass.{u1, u3} S A (MulZeroClass.toHasZero.{u1} S (MulZeroOneClass.toMulZeroClass.{u1} S (MonoidWithZero.toMulZeroOneClass.{u1} S (Semiring.toMonoidWithZero.{u1} S (CommSemiring.toSemiring.{u1} S (CommRing.toCommSemiring.{u1} S _inst_2)))))) (AddZeroClass.toHasZero.{u3} A (AddMonoid.toAddZeroClass.{u3} A (AddCommMonoid.toAddMonoid.{u3} A (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} A (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} A (Semiring.toNonAssocSemiring.{u3} A (Ring.toSemiring.{u3} A (CommRing.toRing.{u3} A _inst_8)))))))) (MulActionWithZero.toSMulWithZero.{u1, u3} S A (Semiring.toMonoidWithZero.{u1} S (CommSemiring.toSemiring.{u1} S (CommRing.toCommSemiring.{u1} S _inst_2))) (AddZeroClass.toHasZero.{u3} A (AddMonoid.toAddZeroClass.{u3} A (AddCommMonoid.toAddMonoid.{u3} A (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} A (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} A (Semiring.toNonAssocSemiring.{u3} A (Ring.toSemiring.{u3} A (CommRing.toRing.{u3} A _inst_8)))))))) (Module.toMulActionWithZero.{u1, u3} S A (CommSemiring.toSemiring.{u1} S (CommRing.toCommSemiring.{u1} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} A (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} A (Semiring.toNonAssocSemiring.{u3} A (Ring.toSemiring.{u3} A (CommRing.toRing.{u3} A _inst_8))))) (Algebra.toModule.{u1, u3} S A (CommRing.toCommSemiring.{u1} S _inst_2) (Ring.toSemiring.{u3} A (CommRing.toRing.{u3} A _inst_8)) _inst_10))))) (SMulZeroClass.toHasSmul.{u2, u3} R A (AddZeroClass.toHasZero.{u3} A (AddMonoid.toAddZeroClass.{u3} A (AddCommMonoid.toAddMonoid.{u3} A (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} A (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} A (Semiring.toNonAssocSemiring.{u3} A (Ring.toSemiring.{u3} A (CommRing.toRing.{u3} A _inst_8)))))))) (SMulWithZero.toSmulZeroClass.{u2, u3} R A (MulZeroClass.toHasZero.{u2} R (MulZeroOneClass.toMulZeroClass.{u2} R (MonoidWithZero.toMulZeroOneClass.{u2} R (Semiring.toMonoidWithZero.{u2} R (CommSemiring.toSemiring.{u2} R (CommRing.toCommSemiring.{u2} R _inst_4)))))) (AddZeroClass.toHasZero.{u3} A (AddMonoid.toAddZeroClass.{u3} A (AddCommMonoid.toAddMonoid.{u3} A (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} A (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} A (Semiring.toNonAssocSemiring.{u3} A (Ring.toSemiring.{u3} A (CommRing.toRing.{u3} A _inst_8)))))))) (MulActionWithZero.toSMulWithZero.{u2, u3} R A (Semiring.toMonoidWithZero.{u2} R (CommSemiring.toSemiring.{u2} R (CommRing.toCommSemiring.{u2} R _inst_4))) (AddZeroClass.toHasZero.{u3} A (AddMonoid.toAddZeroClass.{u3} A (AddCommMonoid.toAddMonoid.{u3} A (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} A (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} A (Semiring.toNonAssocSemiring.{u3} A (Ring.toSemiring.{u3} A (CommRing.toRing.{u3} A _inst_8)))))))) (Module.toMulActionWithZero.{u2, u3} R A (CommSemiring.toSemiring.{u2} R (CommRing.toCommSemiring.{u2} R _inst_4)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} A (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} A (Semiring.toNonAssocSemiring.{u3} A (Ring.toSemiring.{u3} A (CommRing.toRing.{u3} A _inst_8))))) (Algebra.toModule.{u2, u3} R A (CommRing.toCommSemiring.{u2} R _inst_4) (Ring.toSemiring.{u3} A (CommRing.toRing.{u3} A _inst_8)) _inst_9)))))] {B : PowerBasis.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10}, (IsIntegral.{u2, u3} R A _inst_4 (CommRing.toRing.{u3} A _inst_8) _inst_9 (PowerBasis.gen.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) -> (forall [_inst_12 : IsDomain.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))] {x : A}, (forall (i : Fin (PowerBasis.dim.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)), IsIntegral.{u2, u1} R S _inst_4 (CommRing.toRing.{u1} S _inst_2) _inst_5 (coeFn.{succ u1, succ u1} (Finsupp.{0, u1} (Fin (PowerBasis.dim.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) S (MulZeroClass.toHasZero.{u1} S (NonUnitalNonAssocSemiring.toMulZeroClass.{u1} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))))))) (fun (_x : Finsupp.{0, u1} (Fin (PowerBasis.dim.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) S (MulZeroClass.toHasZero.{u1} S (NonUnitalNonAssocSemiring.toMulZeroClass.{u1} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))))))) => (Fin (PowerBasis.dim.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) -> S) (Finsupp.coeFun.{0, u1} (Fin (PowerBasis.dim.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) S (MulZeroClass.toHasZero.{u1} S (NonUnitalNonAssocSemiring.toMulZeroClass.{u1} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))))))) (coeFn.{max (succ u3) (succ u1), max (succ u3) (succ u1)} (LinearEquiv.{u1, u1, u3, u1} S S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)) (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)) (RingHom.id.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)))) (RingHom.id.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)))) (RingHomInvPair.ids.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))) (RingHomInvPair.ids.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))) A (Finsupp.{0, u1} (Fin (PowerBasis.dim.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) S (MulZeroClass.toHasZero.{u1} S (NonUnitalNonAssocSemiring.toMulZeroClass.{u1} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))))))) (AddCommGroup.toAddCommMonoid.{u3} A (NonUnitalNonAssocRing.toAddCommGroup.{u3} A (NonAssocRing.toNonUnitalNonAssocRing.{u3} A (Ring.toNonAssocRing.{u3} A (CommRing.toRing.{u3} A _inst_8))))) (Finsupp.addCommMonoid.{0, u1} (Fin (PowerBasis.dim.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u1} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)))))) (Algebra.toModule.{u1, u3} S A (CommRing.toCommSemiring.{u1} S _inst_2) (Ring.toSemiring.{u3} A (CommRing.toRing.{u3} A _inst_8)) _inst_10) (Finsupp.module.{0, u1, u1} (Fin (PowerBasis.dim.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) S S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u1} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))))) (Semiring.toModule.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))))) (fun (_x : LinearEquiv.{u1, u1, u3, u1} S S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)) (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)) (RingHom.id.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)))) (RingHom.id.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)))) (RingHomInvPair.ids.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))) (RingHomInvPair.ids.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))) A (Finsupp.{0, u1} (Fin (PowerBasis.dim.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) S (MulZeroClass.toHasZero.{u1} S (NonUnitalNonAssocSemiring.toMulZeroClass.{u1} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))))))) (AddCommGroup.toAddCommMonoid.{u3} A (NonUnitalNonAssocRing.toAddCommGroup.{u3} A (NonAssocRing.toNonUnitalNonAssocRing.{u3} A (Ring.toNonAssocRing.{u3} A (CommRing.toRing.{u3} A _inst_8))))) (Finsupp.addCommMonoid.{0, u1} (Fin (PowerBasis.dim.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u1} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)))))) (Algebra.toModule.{u1, u3} S A (CommRing.toCommSemiring.{u1} S _inst_2) (Ring.toSemiring.{u3} A (CommRing.toRing.{u3} A _inst_8)) _inst_10) (Finsupp.module.{0, u1, u1} (Fin (PowerBasis.dim.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) S S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u1} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))))) (Semiring.toModule.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))))) => A -> (Finsupp.{0, u1} (Fin (PowerBasis.dim.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) S (MulZeroClass.toHasZero.{u1} S (NonUnitalNonAssocSemiring.toMulZeroClass.{u1} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)))))))) (LinearEquiv.hasCoeToFun.{u1, u1, u3, u1} S S A (Finsupp.{0, u1} (Fin (PowerBasis.dim.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) S (MulZeroClass.toHasZero.{u1} S (NonUnitalNonAssocSemiring.toMulZeroClass.{u1} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))))))) (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)) (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)) (AddCommGroup.toAddCommMonoid.{u3} A (NonUnitalNonAssocRing.toAddCommGroup.{u3} A (NonAssocRing.toNonUnitalNonAssocRing.{u3} A (Ring.toNonAssocRing.{u3} A (CommRing.toRing.{u3} A _inst_8))))) (Finsupp.addCommMonoid.{0, u1} (Fin (PowerBasis.dim.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u1} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)))))) (Algebra.toModule.{u1, u3} S A (CommRing.toCommSemiring.{u1} S _inst_2) (Ring.toSemiring.{u3} A (CommRing.toRing.{u3} A _inst_8)) _inst_10) (Finsupp.module.{0, u1, u1} (Fin (PowerBasis.dim.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) S S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u1} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))))) (Semiring.toModule.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)))) (RingHom.id.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)))) (RingHom.id.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)))) (RingHomInvPair.ids.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))) (RingHomInvPair.ids.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)))) (Basis.repr.{0, u1, u3} (Fin (PowerBasis.dim.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) S A (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)) (AddCommGroup.toAddCommMonoid.{u3} A (NonUnitalNonAssocRing.toAddCommGroup.{u3} A (NonAssocRing.toNonUnitalNonAssocRing.{u3} A (Ring.toNonAssocRing.{u3} A (CommRing.toRing.{u3} A _inst_8))))) (Algebra.toModule.{u1, u3} S A (CommRing.toCommSemiring.{u1} S _inst_2) (Ring.toSemiring.{u3} A (CommRing.toRing.{u3} A _inst_8)) _inst_10) (PowerBasis.basis.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) x) i)) -> (Eq.{succ u1} (Polynomial.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))) (minpoly.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 (PowerBasis.gen.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) (Polynomial.map.{u2, u1} R S (Ring.toSemiring.{u2} R (CommRing.toRing.{u2} R _inst_4)) (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)) (algebraMap.{u2, u1} R S (CommRing.toCommSemiring.{u2} R _inst_4) (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)) _inst_5) (minpoly.{u2, u3} R A _inst_4 (CommRing.toRing.{u3} A _inst_8) _inst_9 (PowerBasis.gen.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)))) -> (forall (n : Nat) (i : Fin (PowerBasis.dim.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)), IsIntegral.{u2, u1} R S _inst_4 (CommRing.toRing.{u1} S _inst_2) _inst_5 (coeFn.{succ u1, succ u1} (Finsupp.{0, u1} (Fin (PowerBasis.dim.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) S (MulZeroClass.toHasZero.{u1} S (NonUnitalNonAssocSemiring.toMulZeroClass.{u1} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))))))) (fun (_x : Finsupp.{0, u1} (Fin (PowerBasis.dim.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) S (MulZeroClass.toHasZero.{u1} S (NonUnitalNonAssocSemiring.toMulZeroClass.{u1} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))))))) => (Fin (PowerBasis.dim.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) -> S) (Finsupp.coeFun.{0, u1} (Fin (PowerBasis.dim.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) S (MulZeroClass.toHasZero.{u1} S (NonUnitalNonAssocSemiring.toMulZeroClass.{u1} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))))))) (coeFn.{max (succ u3) (succ u1), max (succ u3) (succ u1)} (LinearEquiv.{u1, u1, u3, u1} S S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)) (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)) (RingHom.id.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)))) (RingHom.id.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)))) (RingHomInvPair.ids.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))) (RingHomInvPair.ids.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))) A (Finsupp.{0, u1} (Fin (PowerBasis.dim.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) S (MulZeroClass.toHasZero.{u1} S (NonUnitalNonAssocSemiring.toMulZeroClass.{u1} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))))))) (AddCommGroup.toAddCommMonoid.{u3} A (NonUnitalNonAssocRing.toAddCommGroup.{u3} A (NonAssocRing.toNonUnitalNonAssocRing.{u3} A (Ring.toNonAssocRing.{u3} A (CommRing.toRing.{u3} A _inst_8))))) (Finsupp.addCommMonoid.{0, u1} (Fin (PowerBasis.dim.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u1} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)))))) (Algebra.toModule.{u1, u3} S A (CommRing.toCommSemiring.{u1} S _inst_2) (Ring.toSemiring.{u3} A (CommRing.toRing.{u3} A _inst_8)) _inst_10) (Finsupp.module.{0, u1, u1} (Fin (PowerBasis.dim.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) S S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u1} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))))) (Semiring.toModule.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))))) (fun (_x : LinearEquiv.{u1, u1, u3, u1} S S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)) (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)) (RingHom.id.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)))) (RingHom.id.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)))) (RingHomInvPair.ids.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))) (RingHomInvPair.ids.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))) A (Finsupp.{0, u1} (Fin (PowerBasis.dim.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) S (MulZeroClass.toHasZero.{u1} S (NonUnitalNonAssocSemiring.toMulZeroClass.{u1} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))))))) (AddCommGroup.toAddCommMonoid.{u3} A (NonUnitalNonAssocRing.toAddCommGroup.{u3} A (NonAssocRing.toNonUnitalNonAssocRing.{u3} A (Ring.toNonAssocRing.{u3} A (CommRing.toRing.{u3} A _inst_8))))) (Finsupp.addCommMonoid.{0, u1} (Fin (PowerBasis.dim.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u1} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)))))) (Algebra.toModule.{u1, u3} S A (CommRing.toCommSemiring.{u1} S _inst_2) (Ring.toSemiring.{u3} A (CommRing.toRing.{u3} A _inst_8)) _inst_10) (Finsupp.module.{0, u1, u1} (Fin (PowerBasis.dim.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) S S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u1} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))))) (Semiring.toModule.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))))) => A -> (Finsupp.{0, u1} (Fin (PowerBasis.dim.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) S (MulZeroClass.toHasZero.{u1} S (NonUnitalNonAssocSemiring.toMulZeroClass.{u1} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)))))))) (LinearEquiv.hasCoeToFun.{u1, u1, u3, u1} S S A (Finsupp.{0, u1} (Fin (PowerBasis.dim.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) S (MulZeroClass.toHasZero.{u1} S (NonUnitalNonAssocSemiring.toMulZeroClass.{u1} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))))))) (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)) (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)) (AddCommGroup.toAddCommMonoid.{u3} A (NonUnitalNonAssocRing.toAddCommGroup.{u3} A (NonAssocRing.toNonUnitalNonAssocRing.{u3} A (Ring.toNonAssocRing.{u3} A (CommRing.toRing.{u3} A _inst_8))))) (Finsupp.addCommMonoid.{0, u1} (Fin (PowerBasis.dim.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u1} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)))))) (Algebra.toModule.{u1, u3} S A (CommRing.toCommSemiring.{u1} S _inst_2) (Ring.toSemiring.{u3} A (CommRing.toRing.{u3} A _inst_8)) _inst_10) (Finsupp.module.{0, u1, u1} (Fin (PowerBasis.dim.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) S S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u1} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))))) (Semiring.toModule.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)))) (RingHom.id.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)))) (RingHom.id.{u1} S (Semiring.toNonAssocSemiring.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)))) (RingHomInvPair.ids.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2))) (RingHomInvPair.ids.{u1} S (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)))) (Basis.repr.{0, u1, u3} (Fin (PowerBasis.dim.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) S A (Ring.toSemiring.{u1} S (CommRing.toRing.{u1} S _inst_2)) (AddCommGroup.toAddCommMonoid.{u3} A (NonUnitalNonAssocRing.toAddCommGroup.{u3} A (NonAssocRing.toNonUnitalNonAssocRing.{u3} A (Ring.toNonAssocRing.{u3} A (CommRing.toRing.{u3} A _inst_8))))) (Algebra.toModule.{u1, u3} S A (CommRing.toCommSemiring.{u1} S _inst_2) (Ring.toSemiring.{u3} A (CommRing.toRing.{u3} A _inst_8)) _inst_10) (PowerBasis.basis.{u1, u3} S A _inst_2 (CommRing.toRing.{u3} A _inst_8) _inst_10 B)) (HPow.hPow.{u3, 0, u3} A Nat A (instHPow.{u3, 0} A Nat (Monoid.Pow.{u3} A (Ring.toMonoid.{u3} A (CommRing.toRing.{u3} A _inst_8)))) x n)) i)))
but is expected to have type
  forall {S : Type.{u3}} [_inst_2 : CommRing.{u3} S] {R : Type.{u1}} [_inst_4 : CommRing.{u1} R] [_inst_5 : Algebra.{u1, u3} R S (CommRing.toCommSemiring.{u1} R _inst_4) (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))] {A : Type.{u2}} [_inst_8 : CommRing.{u2} A] [_inst_9 : Algebra.{u1, u2} R A (CommRing.toCommSemiring.{u1} R _inst_4) (CommSemiring.toSemiring.{u2} A (CommRing.toCommSemiring.{u2} A _inst_8))] [_inst_10 : Algebra.{u3, u2} S A (CommRing.toCommSemiring.{u3} S _inst_2) (CommSemiring.toSemiring.{u2} A (CommRing.toCommSemiring.{u2} A _inst_8))] [_inst_11 : IsScalarTower.{u1, u3, u2} R S A (Algebra.toSMul.{u1, u3} R S (CommRing.toCommSemiring.{u1} R _inst_4) (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) _inst_5) (Algebra.toSMul.{u3, u2} S A (CommRing.toCommSemiring.{u3} S _inst_2) (CommSemiring.toSemiring.{u2} A (CommRing.toCommSemiring.{u2} A _inst_8)) _inst_10) (Algebra.toSMul.{u1, u2} R A (CommRing.toCommSemiring.{u1} R _inst_4) (CommSemiring.toSemiring.{u2} A (CommRing.toCommSemiring.{u2} A _inst_8)) _inst_9)] {B : PowerBasis.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10}, (IsIntegral.{u1, u2} R A _inst_4 (CommRing.toRing.{u2} A _inst_8) _inst_9 (PowerBasis.gen.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) -> (forall [_inst_12 : IsDomain.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))] {x : A}, (forall (i : Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)), IsIntegral.{u1, u3} R ((fun (x._@.Mathlib.Data.Finsupp.Defs._hyg.779 : Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) => S) i) _inst_4 (CommRing.toRing.{u3} ((fun (x._@.Mathlib.Data.Finsupp.Defs._hyg.779 : Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) => S) i) _inst_2) _inst_5 (FunLike.coe.{succ u3, 1, succ u3} (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) (fun (_x : Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) => (fun (x._@.Mathlib.Data.Finsupp.Defs._hyg.779 : Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) => S) _x) (Finsupp.funLike.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (FunLike.coe.{max (succ u3) (succ u2), succ u2, succ u3} (LinearEquiv.{u3, u3, u2, u3} S S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (RingHom.id.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (RingHom.id.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (RingHomInvPair.ids.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))) (RingHomInvPair.ids.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))) A (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} A (NonUnitalNonAssocRing.toNonUnitalNonAssocSemiring.{u2} A (NonAssocRing.toNonUnitalNonAssocRing.{u2} A (Ring.toNonAssocRing.{u2} A (CommRing.toRing.{u2} A _inst_8))))) (Finsupp.addCommMonoid.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))))) (Algebra.toModule.{u3, u2} S A (CommRing.toCommSemiring.{u3} S _inst_2) (Ring.toSemiring.{u2} A (CommRing.toRing.{u2} A _inst_8)) _inst_10) (Finsupp.module.{0, u3, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (Semiring.toModule.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) A (fun (_x : A) => (fun (x._@.Mathlib.Algebra.Hom.GroupAction._hyg.2187 : A) => Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) _x) (SMulHomClass.toFunLike.{max u3 u2, u3, u2, u3} (LinearEquiv.{u3, u3, u2, u3} S S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (RingHom.id.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (RingHom.id.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (RingHomInvPair.ids.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))) (RingHomInvPair.ids.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))) A (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} A (NonUnitalNonAssocRing.toNonUnitalNonAssocSemiring.{u2} A (NonAssocRing.toNonUnitalNonAssocRing.{u2} A (Ring.toNonAssocRing.{u2} A (CommRing.toRing.{u2} A _inst_8))))) (Finsupp.addCommMonoid.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))))) (Algebra.toModule.{u3, u2} S A (CommRing.toCommSemiring.{u3} S _inst_2) (Ring.toSemiring.{u2} A (CommRing.toRing.{u2} A _inst_8)) _inst_10) (Finsupp.module.{0, u3, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (Semiring.toModule.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) S A (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (SMulZeroClass.toSMul.{u3, u2} S A (AddMonoid.toZero.{u2} A (AddCommMonoid.toAddMonoid.{u2} A (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} A (NonUnitalNonAssocRing.toNonUnitalNonAssocSemiring.{u2} A (NonAssocRing.toNonUnitalNonAssocRing.{u2} A (Ring.toNonAssocRing.{u2} A (CommRing.toRing.{u2} A _inst_8))))))) (DistribSMul.toSMulZeroClass.{u3, u2} S A (AddMonoid.toAddZeroClass.{u2} A (AddCommMonoid.toAddMonoid.{u2} A (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} A (NonUnitalNonAssocRing.toNonUnitalNonAssocSemiring.{u2} A (NonAssocRing.toNonUnitalNonAssocRing.{u2} A (Ring.toNonAssocRing.{u2} A (CommRing.toRing.{u2} A _inst_8))))))) (DistribMulAction.toDistribSMul.{u3, u2} S A (MonoidWithZero.toMonoid.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (AddCommMonoid.toAddMonoid.{u2} A (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} A (NonUnitalNonAssocRing.toNonUnitalNonAssocSemiring.{u2} A (NonAssocRing.toNonUnitalNonAssocRing.{u2} A (Ring.toNonAssocRing.{u2} A (CommRing.toRing.{u2} A _inst_8)))))) (Module.toDistribMulAction.{u3, u2} S A (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} A (NonUnitalNonAssocRing.toNonUnitalNonAssocSemiring.{u2} A (NonAssocRing.toNonUnitalNonAssocRing.{u2} A (Ring.toNonAssocRing.{u2} A (CommRing.toRing.{u2} A _inst_8))))) (Algebra.toModule.{u3, u2} S A (CommRing.toCommSemiring.{u3} S _inst_2) (Ring.toSemiring.{u2} A (CommRing.toRing.{u2} A _inst_8)) _inst_10))))) (SMulZeroClass.toSMul.{u3, u3} S (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (AddMonoid.toZero.{u3} (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (AddCommMonoid.toAddMonoid.{u3} (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (Finsupp.addCommMonoid.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))))))) (DistribSMul.toSMulZeroClass.{u3, u3} S (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (AddMonoid.toAddZeroClass.{u3} (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (AddCommMonoid.toAddMonoid.{u3} (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (Finsupp.addCommMonoid.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))))))) (DistribMulAction.toDistribSMul.{u3, u3} S (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (MonoidWithZero.toMonoid.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (AddCommMonoid.toAddMonoid.{u3} (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (Finsupp.addCommMonoid.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))))) (Module.toDistribMulAction.{u3, u3} S (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (Finsupp.addCommMonoid.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))))) (Finsupp.module.{0, u3, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (Semiring.toModule.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))))))) (DistribMulActionHomClass.toSMulHomClass.{max u3 u2, u3, u2, u3} (LinearEquiv.{u3, u3, u2, u3} S S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (RingHom.id.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (RingHom.id.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (RingHomInvPair.ids.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))) (RingHomInvPair.ids.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))) A (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} A (NonUnitalNonAssocRing.toNonUnitalNonAssocSemiring.{u2} A (NonAssocRing.toNonUnitalNonAssocRing.{u2} A (Ring.toNonAssocRing.{u2} A (CommRing.toRing.{u2} A _inst_8))))) (Finsupp.addCommMonoid.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))))) (Algebra.toModule.{u3, u2} S A (CommRing.toCommSemiring.{u3} S _inst_2) (Ring.toSemiring.{u2} A (CommRing.toRing.{u2} A _inst_8)) _inst_10) (Finsupp.module.{0, u3, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (Semiring.toModule.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) S A (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (MonoidWithZero.toMonoid.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (AddCommMonoid.toAddMonoid.{u2} A (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} A (NonUnitalNonAssocRing.toNonUnitalNonAssocSemiring.{u2} A (NonAssocRing.toNonUnitalNonAssocRing.{u2} A (Ring.toNonAssocRing.{u2} A (CommRing.toRing.{u2} A _inst_8)))))) (AddCommMonoid.toAddMonoid.{u3} (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (Finsupp.addCommMonoid.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))))) (Module.toDistribMulAction.{u3, u2} S A (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} A (NonUnitalNonAssocRing.toNonUnitalNonAssocSemiring.{u2} A (NonAssocRing.toNonUnitalNonAssocRing.{u2} A (Ring.toNonAssocRing.{u2} A (CommRing.toRing.{u2} A _inst_8))))) (Algebra.toModule.{u3, u2} S A (CommRing.toCommSemiring.{u3} S _inst_2) (Ring.toSemiring.{u2} A (CommRing.toRing.{u2} A _inst_8)) _inst_10)) (Module.toDistribMulAction.{u3, u3} S (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (Finsupp.addCommMonoid.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))))) (Finsupp.module.{0, u3, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (Semiring.toModule.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (SemilinearMapClass.distribMulActionHomClass.{u3, u2, u3, max u3 u2} S A (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (LinearEquiv.{u3, u3, u2, u3} S S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (RingHom.id.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (RingHom.id.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (RingHomInvPair.ids.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))) (RingHomInvPair.ids.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))) A (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} A (NonUnitalNonAssocRing.toNonUnitalNonAssocSemiring.{u2} A (NonAssocRing.toNonUnitalNonAssocRing.{u2} A (Ring.toNonAssocRing.{u2} A (CommRing.toRing.{u2} A _inst_8))))) (Finsupp.addCommMonoid.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))))) (Algebra.toModule.{u3, u2} S A (CommRing.toCommSemiring.{u3} S _inst_2) (Ring.toSemiring.{u2} A (CommRing.toRing.{u2} A _inst_8)) _inst_10) (Finsupp.module.{0, u3, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (Semiring.toModule.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} A (NonUnitalNonAssocRing.toNonUnitalNonAssocSemiring.{u2} A (NonAssocRing.toNonUnitalNonAssocRing.{u2} A (Ring.toNonAssocRing.{u2} A (CommRing.toRing.{u2} A _inst_8))))) (Finsupp.addCommMonoid.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))))) (Algebra.toModule.{u3, u2} S A (CommRing.toCommSemiring.{u3} S _inst_2) (Ring.toSemiring.{u2} A (CommRing.toRing.{u2} A _inst_8)) _inst_10) (Finsupp.module.{0, u3, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (Semiring.toModule.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (SemilinearEquivClass.instSemilinearMapClass.{u3, u3, u2, u3, max u3 u2} S S A (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (LinearEquiv.{u3, u3, u2, u3} S S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (RingHom.id.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (RingHom.id.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (RingHomInvPair.ids.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))) (RingHomInvPair.ids.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))) A (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} A (NonUnitalNonAssocRing.toNonUnitalNonAssocSemiring.{u2} A (NonAssocRing.toNonUnitalNonAssocRing.{u2} A (Ring.toNonAssocRing.{u2} A (CommRing.toRing.{u2} A _inst_8))))) (Finsupp.addCommMonoid.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))))) (Algebra.toModule.{u3, u2} S A (CommRing.toCommSemiring.{u3} S _inst_2) (Ring.toSemiring.{u2} A (CommRing.toRing.{u2} A _inst_8)) _inst_10) (Finsupp.module.{0, u3, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (Semiring.toModule.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} A (NonUnitalNonAssocRing.toNonUnitalNonAssocSemiring.{u2} A (NonAssocRing.toNonUnitalNonAssocRing.{u2} A (Ring.toNonAssocRing.{u2} A (CommRing.toRing.{u2} A _inst_8))))) (Finsupp.addCommMonoid.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))))) (Algebra.toModule.{u3, u2} S A (CommRing.toCommSemiring.{u3} S _inst_2) (Ring.toSemiring.{u2} A (CommRing.toRing.{u2} A _inst_8)) _inst_10) (Finsupp.module.{0, u3, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (Semiring.toModule.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (RingHom.id.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (RingHom.id.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (RingHomInvPair.ids.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))) (RingHomInvPair.ids.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))) (LinearEquiv.instSemilinearEquivClassLinearEquiv.{u3, u3, u2, u3} S S A (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} A (NonUnitalNonAssocRing.toNonUnitalNonAssocSemiring.{u2} A (NonAssocRing.toNonUnitalNonAssocRing.{u2} A (Ring.toNonAssocRing.{u2} A (CommRing.toRing.{u2} A _inst_8))))) (Finsupp.addCommMonoid.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))))) (Algebra.toModule.{u3, u2} S A (CommRing.toCommSemiring.{u3} S _inst_2) (Ring.toSemiring.{u2} A (CommRing.toRing.{u2} A _inst_8)) _inst_10) (Finsupp.module.{0, u3, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (Semiring.toModule.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (RingHom.id.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (RingHom.id.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (RingHomInvPair.ids.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))) (RingHomInvPair.ids.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))))))) (Basis.repr.{0, u3, u2} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S A (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} A (NonUnitalNonAssocRing.toNonUnitalNonAssocSemiring.{u2} A (NonAssocRing.toNonUnitalNonAssocRing.{u2} A (Ring.toNonAssocRing.{u2} A (CommRing.toRing.{u2} A _inst_8))))) (Algebra.toModule.{u3, u2} S A (CommRing.toCommSemiring.{u3} S _inst_2) (Ring.toSemiring.{u2} A (CommRing.toRing.{u2} A _inst_8)) _inst_10) (PowerBasis.basis.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) x) i)) -> (Eq.{succ u3} (Polynomial.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))) (minpoly.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 (PowerBasis.gen.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) (Polynomial.map.{u1, u3} R S (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4)) (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (algebraMap.{u1, u3} R S (CommRing.toCommSemiring.{u1} R _inst_4) (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) _inst_5) (minpoly.{u1, u2} R A _inst_4 (CommRing.toRing.{u2} A _inst_8) _inst_9 (PowerBasis.gen.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)))) -> (forall (n : Nat) (i : Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)), IsIntegral.{u1, u3} R ((fun (x._@.Mathlib.Data.Finsupp.Defs._hyg.779 : Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) => S) i) _inst_4 (CommRing.toRing.{u3} ((fun (x._@.Mathlib.Data.Finsupp.Defs._hyg.779 : Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) => S) i) _inst_2) _inst_5 (FunLike.coe.{succ u3, 1, succ u3} (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) (fun (_x : Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) => (fun (x._@.Mathlib.Data.Finsupp.Defs._hyg.779 : Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) => S) _x) (Finsupp.funLike.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (FunLike.coe.{max (succ u3) (succ u2), succ u2, succ u3} (LinearEquiv.{u3, u3, u2, u3} S S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (RingHom.id.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (RingHom.id.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (RingHomInvPair.ids.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))) (RingHomInvPair.ids.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))) A (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} A (NonUnitalNonAssocRing.toNonUnitalNonAssocSemiring.{u2} A (NonAssocRing.toNonUnitalNonAssocRing.{u2} A (Ring.toNonAssocRing.{u2} A (CommRing.toRing.{u2} A _inst_8))))) (Finsupp.addCommMonoid.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))))) (Algebra.toModule.{u3, u2} S A (CommRing.toCommSemiring.{u3} S _inst_2) (Ring.toSemiring.{u2} A (CommRing.toRing.{u2} A _inst_8)) _inst_10) (Finsupp.module.{0, u3, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (Semiring.toModule.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) A (fun (_x : A) => (fun (x._@.Mathlib.Algebra.Hom.GroupAction._hyg.2187 : A) => Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) _x) (SMulHomClass.toFunLike.{max u3 u2, u3, u2, u3} (LinearEquiv.{u3, u3, u2, u3} S S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (RingHom.id.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (RingHom.id.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (RingHomInvPair.ids.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))) (RingHomInvPair.ids.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))) A (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} A (NonUnitalNonAssocRing.toNonUnitalNonAssocSemiring.{u2} A (NonAssocRing.toNonUnitalNonAssocRing.{u2} A (Ring.toNonAssocRing.{u2} A (CommRing.toRing.{u2} A _inst_8))))) (Finsupp.addCommMonoid.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))))) (Algebra.toModule.{u3, u2} S A (CommRing.toCommSemiring.{u3} S _inst_2) (Ring.toSemiring.{u2} A (CommRing.toRing.{u2} A _inst_8)) _inst_10) (Finsupp.module.{0, u3, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (Semiring.toModule.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) S A (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (SMulZeroClass.toSMul.{u3, u2} S A (AddMonoid.toZero.{u2} A (AddCommMonoid.toAddMonoid.{u2} A (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} A (NonUnitalNonAssocRing.toNonUnitalNonAssocSemiring.{u2} A (NonAssocRing.toNonUnitalNonAssocRing.{u2} A (Ring.toNonAssocRing.{u2} A (CommRing.toRing.{u2} A _inst_8))))))) (DistribSMul.toSMulZeroClass.{u3, u2} S A (AddMonoid.toAddZeroClass.{u2} A (AddCommMonoid.toAddMonoid.{u2} A (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} A (NonUnitalNonAssocRing.toNonUnitalNonAssocSemiring.{u2} A (NonAssocRing.toNonUnitalNonAssocRing.{u2} A (Ring.toNonAssocRing.{u2} A (CommRing.toRing.{u2} A _inst_8))))))) (DistribMulAction.toDistribSMul.{u3, u2} S A (MonoidWithZero.toMonoid.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (AddCommMonoid.toAddMonoid.{u2} A (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} A (NonUnitalNonAssocRing.toNonUnitalNonAssocSemiring.{u2} A (NonAssocRing.toNonUnitalNonAssocRing.{u2} A (Ring.toNonAssocRing.{u2} A (CommRing.toRing.{u2} A _inst_8)))))) (Module.toDistribMulAction.{u3, u2} S A (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} A (NonUnitalNonAssocRing.toNonUnitalNonAssocSemiring.{u2} A (NonAssocRing.toNonUnitalNonAssocRing.{u2} A (Ring.toNonAssocRing.{u2} A (CommRing.toRing.{u2} A _inst_8))))) (Algebra.toModule.{u3, u2} S A (CommRing.toCommSemiring.{u3} S _inst_2) (Ring.toSemiring.{u2} A (CommRing.toRing.{u2} A _inst_8)) _inst_10))))) (SMulZeroClass.toSMul.{u3, u3} S (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (AddMonoid.toZero.{u3} (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (AddCommMonoid.toAddMonoid.{u3} (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (Finsupp.addCommMonoid.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))))))) (DistribSMul.toSMulZeroClass.{u3, u3} S (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (AddMonoid.toAddZeroClass.{u3} (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (AddCommMonoid.toAddMonoid.{u3} (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (Finsupp.addCommMonoid.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))))))) (DistribMulAction.toDistribSMul.{u3, u3} S (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (MonoidWithZero.toMonoid.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (AddCommMonoid.toAddMonoid.{u3} (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (Finsupp.addCommMonoid.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))))) (Module.toDistribMulAction.{u3, u3} S (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (Finsupp.addCommMonoid.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))))) (Finsupp.module.{0, u3, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (Semiring.toModule.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))))))) (DistribMulActionHomClass.toSMulHomClass.{max u3 u2, u3, u2, u3} (LinearEquiv.{u3, u3, u2, u3} S S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (RingHom.id.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (RingHom.id.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (RingHomInvPair.ids.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))) (RingHomInvPair.ids.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))) A (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} A (NonUnitalNonAssocRing.toNonUnitalNonAssocSemiring.{u2} A (NonAssocRing.toNonUnitalNonAssocRing.{u2} A (Ring.toNonAssocRing.{u2} A (CommRing.toRing.{u2} A _inst_8))))) (Finsupp.addCommMonoid.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))))) (Algebra.toModule.{u3, u2} S A (CommRing.toCommSemiring.{u3} S _inst_2) (Ring.toSemiring.{u2} A (CommRing.toRing.{u2} A _inst_8)) _inst_10) (Finsupp.module.{0, u3, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (Semiring.toModule.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) S A (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (MonoidWithZero.toMonoid.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (AddCommMonoid.toAddMonoid.{u2} A (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} A (NonUnitalNonAssocRing.toNonUnitalNonAssocSemiring.{u2} A (NonAssocRing.toNonUnitalNonAssocRing.{u2} A (Ring.toNonAssocRing.{u2} A (CommRing.toRing.{u2} A _inst_8)))))) (AddCommMonoid.toAddMonoid.{u3} (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (Finsupp.addCommMonoid.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))))) (Module.toDistribMulAction.{u3, u2} S A (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} A (NonUnitalNonAssocRing.toNonUnitalNonAssocSemiring.{u2} A (NonAssocRing.toNonUnitalNonAssocRing.{u2} A (Ring.toNonAssocRing.{u2} A (CommRing.toRing.{u2} A _inst_8))))) (Algebra.toModule.{u3, u2} S A (CommRing.toCommSemiring.{u3} S _inst_2) (Ring.toSemiring.{u2} A (CommRing.toRing.{u2} A _inst_8)) _inst_10)) (Module.toDistribMulAction.{u3, u3} S (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (Finsupp.addCommMonoid.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))))) (Finsupp.module.{0, u3, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (Semiring.toModule.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (SemilinearMapClass.distribMulActionHomClass.{u3, u2, u3, max u3 u2} S A (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (LinearEquiv.{u3, u3, u2, u3} S S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (RingHom.id.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (RingHom.id.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (RingHomInvPair.ids.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))) (RingHomInvPair.ids.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))) A (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} A (NonUnitalNonAssocRing.toNonUnitalNonAssocSemiring.{u2} A (NonAssocRing.toNonUnitalNonAssocRing.{u2} A (Ring.toNonAssocRing.{u2} A (CommRing.toRing.{u2} A _inst_8))))) (Finsupp.addCommMonoid.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))))) (Algebra.toModule.{u3, u2} S A (CommRing.toCommSemiring.{u3} S _inst_2) (Ring.toSemiring.{u2} A (CommRing.toRing.{u2} A _inst_8)) _inst_10) (Finsupp.module.{0, u3, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (Semiring.toModule.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} A (NonUnitalNonAssocRing.toNonUnitalNonAssocSemiring.{u2} A (NonAssocRing.toNonUnitalNonAssocRing.{u2} A (Ring.toNonAssocRing.{u2} A (CommRing.toRing.{u2} A _inst_8))))) (Finsupp.addCommMonoid.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))))) (Algebra.toModule.{u3, u2} S A (CommRing.toCommSemiring.{u3} S _inst_2) (Ring.toSemiring.{u2} A (CommRing.toRing.{u2} A _inst_8)) _inst_10) (Finsupp.module.{0, u3, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (Semiring.toModule.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (SemilinearEquivClass.instSemilinearMapClass.{u3, u3, u2, u3, max u3 u2} S S A (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (LinearEquiv.{u3, u3, u2, u3} S S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (RingHom.id.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (RingHom.id.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (RingHomInvPair.ids.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))) (RingHomInvPair.ids.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))) A (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} A (NonUnitalNonAssocRing.toNonUnitalNonAssocSemiring.{u2} A (NonAssocRing.toNonUnitalNonAssocRing.{u2} A (Ring.toNonAssocRing.{u2} A (CommRing.toRing.{u2} A _inst_8))))) (Finsupp.addCommMonoid.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))))) (Algebra.toModule.{u3, u2} S A (CommRing.toCommSemiring.{u3} S _inst_2) (Ring.toSemiring.{u2} A (CommRing.toRing.{u2} A _inst_8)) _inst_10) (Finsupp.module.{0, u3, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (Semiring.toModule.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} A (NonUnitalNonAssocRing.toNonUnitalNonAssocSemiring.{u2} A (NonAssocRing.toNonUnitalNonAssocRing.{u2} A (Ring.toNonAssocRing.{u2} A (CommRing.toRing.{u2} A _inst_8))))) (Finsupp.addCommMonoid.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))))) (Algebra.toModule.{u3, u2} S A (CommRing.toCommSemiring.{u3} S _inst_2) (Ring.toSemiring.{u2} A (CommRing.toRing.{u2} A _inst_8)) _inst_10) (Finsupp.module.{0, u3, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (Semiring.toModule.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (RingHom.id.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (RingHom.id.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (RingHomInvPair.ids.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))) (RingHomInvPair.ids.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))) (LinearEquiv.instSemilinearEquivClassLinearEquiv.{u3, u3, u2, u3} S S A (Finsupp.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (MonoidWithZero.toZero.{u3} S (Semiring.toMonoidWithZero.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} A (NonUnitalNonAssocRing.toNonUnitalNonAssocSemiring.{u2} A (NonAssocRing.toNonUnitalNonAssocRing.{u2} A (Ring.toNonAssocRing.{u2} A (CommRing.toRing.{u2} A _inst_8))))) (Finsupp.addCommMonoid.{0, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))))) (Algebra.toModule.{u3, u2} S A (CommRing.toCommSemiring.{u3} S _inst_2) (Ring.toSemiring.{u2} A (CommRing.toRing.{u2} A _inst_8)) _inst_10) (Finsupp.module.{0, u3, u3} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u3} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))))) (Semiring.toModule.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (RingHom.id.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (RingHom.id.{u3} S (Semiring.toNonAssocSemiring.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))) (RingHomInvPair.ids.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2))) (RingHomInvPair.ids.{u3} S (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)))))))) (Basis.repr.{0, u3, u2} (Fin (PowerBasis.dim.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) S A (CommSemiring.toSemiring.{u3} S (CommRing.toCommSemiring.{u3} S _inst_2)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} A (NonUnitalNonAssocRing.toNonUnitalNonAssocSemiring.{u2} A (NonAssocRing.toNonUnitalNonAssocRing.{u2} A (Ring.toNonAssocRing.{u2} A (CommRing.toRing.{u2} A _inst_8))))) (Algebra.toModule.{u3, u2} S A (CommRing.toCommSemiring.{u3} S _inst_2) (Ring.toSemiring.{u2} A (CommRing.toRing.{u2} A _inst_8)) _inst_10) (PowerBasis.basis.{u3, u2} S A _inst_2 (CommRing.toRing.{u2} A _inst_8) _inst_10 B)) (HPow.hPow.{u2, 0, u2} A Nat A (instHPow.{u2, 0} A Nat (Monoid.Pow.{u2} A (MonoidWithZero.toMonoid.{u2} A (Semiring.toMonoidWithZero.{u2} A (CommSemiring.toSemiring.{u2} A (CommRing.toCommSemiring.{u2} A _inst_8)))))) x n)) i)))
Case conversion may be inaccurate. Consider using '#align power_basis.repr_pow_is_integral PowerBasis.repr_pow_isIntegralₓ'. -/
/-- Let `B : power_basis S A` be such that `is_integral R B.gen`, and let `x : A` be and element
with integral coordinates in the base `B.basis`. Then `is_integral R ((B.basis.repr (x ^ n) i)` for
all `i` and all `n` if `minpoly S B.gen = (minpoly R B.gen).map (algebra_map R S)`. This is the case
if `R` is a GCD domain and `S` is its fraction ring. -/
theorem repr_pow_isIntegral [IsDomain S] {x : A} (hx : ∀ i, IsIntegral R (B.Basis.repr x i))
    (hmin : minpoly S B.gen = (minpoly R B.gen).map (algebraMap R S)) (n : ℕ) :
    ∀ i, IsIntegral R (B.Basis.repr (x ^ n) i) :=
  by
  nontriviality A using Subsingleton.elim (x ^ n) 0, isIntegral_zero
  revert hx
  refine' Nat.case_strong_induction_on n _ fun n hn => _
  · intro hx i
    rw [pow_zero, ← pow_zero B.gen, ← Fin.val_mk B.dim_pos, ← B.basis_eq_pow,
      B.basis.repr_self_apply]
    split_ifs
    · exact isIntegral_one
    · exact isIntegral_zero
  · intro hx
    rw [pow_succ]
    exact repr_mul_is_integral hB hx (fun _ => hn _ le_rfl (fun _ => hx _) _) hmin
#align power_basis.repr_pow_is_integral PowerBasis.repr_pow_isIntegral

/- warning: power_basis.to_matrix_is_integral -> PowerBasis.toMatrix_isIntegral is a dubious translation:
lean 3 declaration is
  forall {K : Type.{u1}} {S : Type.{u2}} [_inst_1 : Field.{u1} K] [_inst_2 : CommRing.{u2} S] [_inst_3 : Algebra.{u1, u2} K S (Semifield.toCommSemiring.{u1} K (Field.toSemifield.{u1} K _inst_1)) (Ring.toSemiring.{u2} S (CommRing.toRing.{u2} S _inst_2))] {R : Type.{u3}} [_inst_4 : CommRing.{u3} R] [_inst_5 : Algebra.{u3, u2} R S (CommRing.toCommSemiring.{u3} R _inst_4) (Ring.toSemiring.{u2} S (CommRing.toRing.{u2} S _inst_2))] [_inst_6 : Algebra.{u3, u1} R K (CommRing.toCommSemiring.{u3} R _inst_4) (Ring.toSemiring.{u1} K (DivisionRing.toRing.{u1} K (Field.toDivisionRing.{u1} K _inst_1)))] [_inst_7 : IsScalarTower.{u3, u1, u2} R K S (SMulZeroClass.toHasSmul.{u3, u1} R K (AddZeroClass.toHasZero.{u1} K (AddMonoid.toAddZeroClass.{u1} K (AddCommMonoid.toAddMonoid.{u1} K (NonUnitalNonAssocSemiring.toAddCommMonoid.{u1} K (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} K (Semiring.toNonAssocSemiring.{u1} K (Ring.toSemiring.{u1} K (DivisionRing.toRing.{u1} K (Field.toDivisionRing.{u1} K _inst_1))))))))) (SMulWithZero.toSmulZeroClass.{u3, u1} R K (MulZeroClass.toHasZero.{u3} R (MulZeroOneClass.toMulZeroClass.{u3} R (MonoidWithZero.toMulZeroOneClass.{u3} R (Semiring.toMonoidWithZero.{u3} R (CommSemiring.toSemiring.{u3} R (CommRing.toCommSemiring.{u3} R _inst_4)))))) (AddZeroClass.toHasZero.{u1} K (AddMonoid.toAddZeroClass.{u1} K (AddCommMonoid.toAddMonoid.{u1} K (NonUnitalNonAssocSemiring.toAddCommMonoid.{u1} K (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} K (Semiring.toNonAssocSemiring.{u1} K (Ring.toSemiring.{u1} K (DivisionRing.toRing.{u1} K (Field.toDivisionRing.{u1} K _inst_1))))))))) (MulActionWithZero.toSMulWithZero.{u3, u1} R K (Semiring.toMonoidWithZero.{u3} R (CommSemiring.toSemiring.{u3} R (CommRing.toCommSemiring.{u3} R _inst_4))) (AddZeroClass.toHasZero.{u1} K (AddMonoid.toAddZeroClass.{u1} K (AddCommMonoid.toAddMonoid.{u1} K (NonUnitalNonAssocSemiring.toAddCommMonoid.{u1} K (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} K (Semiring.toNonAssocSemiring.{u1} K (Ring.toSemiring.{u1} K (DivisionRing.toRing.{u1} K (Field.toDivisionRing.{u1} K _inst_1))))))))) (Module.toMulActionWithZero.{u3, u1} R K (CommSemiring.toSemiring.{u3} R (CommRing.toCommSemiring.{u3} R _inst_4)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u1} K (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} K (Semiring.toNonAssocSemiring.{u1} K (Ring.toSemiring.{u1} K (DivisionRing.toRing.{u1} K (Field.toDivisionRing.{u1} K _inst_1)))))) (Algebra.toModule.{u3, u1} R K (CommRing.toCommSemiring.{u3} R _inst_4) (Ring.toSemiring.{u1} K (DivisionRing.toRing.{u1} K (Field.toDivisionRing.{u1} K _inst_1))) _inst_6))))) (SMulZeroClass.toHasSmul.{u1, u2} K S (AddZeroClass.toHasZero.{u2} S (AddMonoid.toAddZeroClass.{u2} S (AddCommMonoid.toAddMonoid.{u2} S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u2} S (Semiring.toNonAssocSemiring.{u2} S (Ring.toSemiring.{u2} S (CommRing.toRing.{u2} S _inst_2)))))))) (SMulWithZero.toSmulZeroClass.{u1, u2} K S (MulZeroClass.toHasZero.{u1} K (MulZeroOneClass.toMulZeroClass.{u1} K (MonoidWithZero.toMulZeroOneClass.{u1} K (Semiring.toMonoidWithZero.{u1} K (CommSemiring.toSemiring.{u1} K (Semifield.toCommSemiring.{u1} K (Field.toSemifield.{u1} K _inst_1))))))) (AddZeroClass.toHasZero.{u2} S (AddMonoid.toAddZeroClass.{u2} S (AddCommMonoid.toAddMonoid.{u2} S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u2} S (Semiring.toNonAssocSemiring.{u2} S (Ring.toSemiring.{u2} S (CommRing.toRing.{u2} S _inst_2)))))))) (MulActionWithZero.toSMulWithZero.{u1, u2} K S (Semiring.toMonoidWithZero.{u1} K (CommSemiring.toSemiring.{u1} K (Semifield.toCommSemiring.{u1} K (Field.toSemifield.{u1} K _inst_1)))) (AddZeroClass.toHasZero.{u2} S (AddMonoid.toAddZeroClass.{u2} S (AddCommMonoid.toAddMonoid.{u2} S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u2} S (Semiring.toNonAssocSemiring.{u2} S (Ring.toSemiring.{u2} S (CommRing.toRing.{u2} S _inst_2)))))))) (Module.toMulActionWithZero.{u1, u2} K S (CommSemiring.toSemiring.{u1} K (Semifield.toCommSemiring.{u1} K (Field.toSemifield.{u1} K _inst_1))) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u2} S (Semiring.toNonAssocSemiring.{u2} S (Ring.toSemiring.{u2} S (CommRing.toRing.{u2} S _inst_2))))) (Algebra.toModule.{u1, u2} K S (Semifield.toCommSemiring.{u1} K (Field.toSemifield.{u1} K _inst_1)) (Ring.toSemiring.{u2} S (CommRing.toRing.{u2} S _inst_2)) _inst_3))))) (SMulZeroClass.toHasSmul.{u3, u2} R S (AddZeroClass.toHasZero.{u2} S (AddMonoid.toAddZeroClass.{u2} S (AddCommMonoid.toAddMonoid.{u2} S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u2} S (Semiring.toNonAssocSemiring.{u2} S (Ring.toSemiring.{u2} S (CommRing.toRing.{u2} S _inst_2)))))))) (SMulWithZero.toSmulZeroClass.{u3, u2} R S (MulZeroClass.toHasZero.{u3} R (MulZeroOneClass.toMulZeroClass.{u3} R (MonoidWithZero.toMulZeroOneClass.{u3} R (Semiring.toMonoidWithZero.{u3} R (CommSemiring.toSemiring.{u3} R (CommRing.toCommSemiring.{u3} R _inst_4)))))) (AddZeroClass.toHasZero.{u2} S (AddMonoid.toAddZeroClass.{u2} S (AddCommMonoid.toAddMonoid.{u2} S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u2} S (Semiring.toNonAssocSemiring.{u2} S (Ring.toSemiring.{u2} S (CommRing.toRing.{u2} S _inst_2)))))))) (MulActionWithZero.toSMulWithZero.{u3, u2} R S (Semiring.toMonoidWithZero.{u3} R (CommSemiring.toSemiring.{u3} R (CommRing.toCommSemiring.{u3} R _inst_4))) (AddZeroClass.toHasZero.{u2} S (AddMonoid.toAddZeroClass.{u2} S (AddCommMonoid.toAddMonoid.{u2} S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u2} S (Semiring.toNonAssocSemiring.{u2} S (Ring.toSemiring.{u2} S (CommRing.toRing.{u2} S _inst_2)))))))) (Module.toMulActionWithZero.{u3, u2} R S (CommSemiring.toSemiring.{u3} R (CommRing.toCommSemiring.{u3} R _inst_4)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u2} S (Semiring.toNonAssocSemiring.{u2} S (Ring.toSemiring.{u2} S (CommRing.toRing.{u2} S _inst_2))))) (Algebra.toModule.{u3, u2} R S (CommRing.toCommSemiring.{u3} R _inst_4) (Ring.toSemiring.{u2} S (CommRing.toRing.{u2} S _inst_2)) _inst_5)))))] {B : PowerBasis.{u1, u2} K S (EuclideanDomain.toCommRing.{u1} K (Field.toEuclideanDomain.{u1} K _inst_1)) (CommRing.toRing.{u2} S _inst_2) _inst_3} {B' : PowerBasis.{u1, u2} K S (EuclideanDomain.toCommRing.{u1} K (Field.toEuclideanDomain.{u1} K _inst_1)) (CommRing.toRing.{u2} S _inst_2) _inst_3} {P : Polynomial.{u3} R (Ring.toSemiring.{u3} R (CommRing.toRing.{u3} R _inst_4))}, (Eq.{succ u2} S (coeFn.{max (succ u3) (succ u2), max (succ u3) (succ u2)} (AlgHom.{u3, u3, u2} R (Polynomial.{u3} R (CommSemiring.toSemiring.{u3} R (CommRing.toCommSemiring.{u3} R _inst_4))) S (CommRing.toCommSemiring.{u3} R _inst_4) (Polynomial.semiring.{u3} R (CommSemiring.toSemiring.{u3} R (CommRing.toCommSemiring.{u3} R _inst_4))) (Ring.toSemiring.{u2} S (CommRing.toRing.{u2} S _inst_2)) (Polynomial.algebraOfAlgebra.{u3, u3} R R (CommRing.toCommSemiring.{u3} R _inst_4) (CommSemiring.toSemiring.{u3} R (CommRing.toCommSemiring.{u3} R _inst_4)) (Algebra.id.{u3} R (CommRing.toCommSemiring.{u3} R _inst_4))) _inst_5) (fun (_x : AlgHom.{u3, u3, u2} R (Polynomial.{u3} R (CommSemiring.toSemiring.{u3} R (CommRing.toCommSemiring.{u3} R _inst_4))) S (CommRing.toCommSemiring.{u3} R _inst_4) (Polynomial.semiring.{u3} R (CommSemiring.toSemiring.{u3} R (CommRing.toCommSemiring.{u3} R _inst_4))) (Ring.toSemiring.{u2} S (CommRing.toRing.{u2} S _inst_2)) (Polynomial.algebraOfAlgebra.{u3, u3} R R (CommRing.toCommSemiring.{u3} R _inst_4) (CommSemiring.toSemiring.{u3} R (CommRing.toCommSemiring.{u3} R _inst_4)) (Algebra.id.{u3} R (CommRing.toCommSemiring.{u3} R _inst_4))) _inst_5) => (Polynomial.{u3} R (CommSemiring.toSemiring.{u3} R (CommRing.toCommSemiring.{u3} R _inst_4))) -> S) ([anonymous].{u3, u3, u2} R (Polynomial.{u3} R (CommSemiring.toSemiring.{u3} R (CommRing.toCommSemiring.{u3} R _inst_4))) S (CommRing.toCommSemiring.{u3} R _inst_4) (Polynomial.semiring.{u3} R (CommSemiring.toSemiring.{u3} R (CommRing.toCommSemiring.{u3} R _inst_4))) (Ring.toSemiring.{u2} S (CommRing.toRing.{u2} S _inst_2)) (Polynomial.algebraOfAlgebra.{u3, u3} R R (CommRing.toCommSemiring.{u3} R _inst_4) (CommSemiring.toSemiring.{u3} R (CommRing.toCommSemiring.{u3} R _inst_4)) (Algebra.id.{u3} R (CommRing.toCommSemiring.{u3} R _inst_4))) _inst_5) (Polynomial.aeval.{u3, u2} R S (CommRing.toCommSemiring.{u3} R _inst_4) (Ring.toSemiring.{u2} S (CommRing.toRing.{u2} S _inst_2)) _inst_5 (PowerBasis.gen.{u1, u2} K S (EuclideanDomain.toCommRing.{u1} K (Field.toEuclideanDomain.{u1} K _inst_1)) (CommRing.toRing.{u2} S _inst_2) _inst_3 B)) P) (PowerBasis.gen.{u1, u2} K S (EuclideanDomain.toCommRing.{u1} K (Field.toEuclideanDomain.{u1} K _inst_1)) (CommRing.toRing.{u2} S _inst_2) _inst_3 B')) -> (IsIntegral.{u3, u2} R S _inst_4 (CommRing.toRing.{u2} S _inst_2) _inst_5 (PowerBasis.gen.{u1, u2} K S (EuclideanDomain.toCommRing.{u1} K (Field.toEuclideanDomain.{u1} K _inst_1)) (CommRing.toRing.{u2} S _inst_2) _inst_3 B)) -> (Eq.{succ u1} (Polynomial.{u1} K (Ring.toSemiring.{u1} K (CommRing.toRing.{u1} K (EuclideanDomain.toCommRing.{u1} K (Field.toEuclideanDomain.{u1} K _inst_1))))) (minpoly.{u1, u2} K S (EuclideanDomain.toCommRing.{u1} K (Field.toEuclideanDomain.{u1} K _inst_1)) (CommRing.toRing.{u2} S _inst_2) _inst_3 (PowerBasis.gen.{u1, u2} K S (EuclideanDomain.toCommRing.{u1} K (Field.toEuclideanDomain.{u1} K _inst_1)) (CommRing.toRing.{u2} S _inst_2) _inst_3 B)) (Polynomial.map.{u3, u1} R K (Ring.toSemiring.{u3} R (CommRing.toRing.{u3} R _inst_4)) (Ring.toSemiring.{u1} K (CommRing.toRing.{u1} K (EuclideanDomain.toCommRing.{u1} K (Field.toEuclideanDomain.{u1} K _inst_1)))) (algebraMap.{u3, u1} R K (CommRing.toCommSemiring.{u3} R _inst_4) (Ring.toSemiring.{u1} K (DivisionRing.toRing.{u1} K (Field.toDivisionRing.{u1} K _inst_1))) _inst_6) (minpoly.{u3, u2} R S _inst_4 (CommRing.toRing.{u2} S _inst_2) _inst_5 (PowerBasis.gen.{u1, u2} K S (EuclideanDomain.toCommRing.{u1} K (Field.toEuclideanDomain.{u1} K _inst_1)) (CommRing.toRing.{u2} S _inst_2) _inst_3 B)))) -> (forall (i : Fin (PowerBasis.dim.{u1, u2} K S (EuclideanDomain.toCommRing.{u1} K (Field.toEuclideanDomain.{u1} K _inst_1)) (CommRing.toRing.{u2} S _inst_2) _inst_3 B)) (j : Fin (PowerBasis.dim.{u1, u2} K S (EuclideanDomain.toCommRing.{u1} K (Field.toEuclideanDomain.{u1} K _inst_1)) (CommRing.toRing.{u2} S _inst_2) _inst_3 B')), IsIntegral.{u3, u1} R K _inst_4 (DivisionRing.toRing.{u1} K (Field.toDivisionRing.{u1} K _inst_1)) _inst_6 (Basis.toMatrix.{0, 0, u1, u2} (Fin (PowerBasis.dim.{u1, u2} K S (EuclideanDomain.toCommRing.{u1} K (Field.toEuclideanDomain.{u1} K _inst_1)) (CommRing.toRing.{u2} S _inst_2) _inst_3 B)) (Fin (PowerBasis.dim.{u1, u2} K S (EuclideanDomain.toCommRing.{u1} K (Field.toEuclideanDomain.{u1} K _inst_1)) (CommRing.toRing.{u2} S _inst_2) _inst_3 B')) K S (Semifield.toCommSemiring.{u1} K (Field.toSemifield.{u1} K _inst_1)) (AddCommGroup.toAddCommMonoid.{u2} S (NonUnitalNonAssocRing.toAddCommGroup.{u2} S (NonAssocRing.toNonUnitalNonAssocRing.{u2} S (Ring.toNonAssocRing.{u2} S (CommRing.toRing.{u2} S _inst_2))))) (Algebra.toModule.{u1, u2} K S (CommRing.toCommSemiring.{u1} K (EuclideanDomain.toCommRing.{u1} K (Field.toEuclideanDomain.{u1} K _inst_1))) (Ring.toSemiring.{u2} S (CommRing.toRing.{u2} S _inst_2)) _inst_3) (PowerBasis.basis.{u1, u2} K S (EuclideanDomain.toCommRing.{u1} K (Field.toEuclideanDomain.{u1} K _inst_1)) (CommRing.toRing.{u2} S _inst_2) _inst_3 B) (coeFn.{max 1 (succ u1) (succ u2), succ u2} (Basis.{0, u1, u2} (Fin (PowerBasis.dim.{u1, u2} K S (EuclideanDomain.toCommRing.{u1} K (Field.toEuclideanDomain.{u1} K _inst_1)) (CommRing.toRing.{u2} S _inst_2) _inst_3 B')) K S (Ring.toSemiring.{u1} K (CommRing.toRing.{u1} K (EuclideanDomain.toCommRing.{u1} K (Field.toEuclideanDomain.{u1} K _inst_1)))) (AddCommGroup.toAddCommMonoid.{u2} S (NonUnitalNonAssocRing.toAddCommGroup.{u2} S (NonAssocRing.toNonUnitalNonAssocRing.{u2} S (Ring.toNonAssocRing.{u2} S (CommRing.toRing.{u2} S _inst_2))))) (Algebra.toModule.{u1, u2} K S (CommRing.toCommSemiring.{u1} K (EuclideanDomain.toCommRing.{u1} K (Field.toEuclideanDomain.{u1} K _inst_1))) (Ring.toSemiring.{u2} S (CommRing.toRing.{u2} S _inst_2)) _inst_3)) (fun (_x : Basis.{0, u1, u2} (Fin (PowerBasis.dim.{u1, u2} K S (EuclideanDomain.toCommRing.{u1} K (Field.toEuclideanDomain.{u1} K _inst_1)) (CommRing.toRing.{u2} S _inst_2) _inst_3 B')) K S (Ring.toSemiring.{u1} K (CommRing.toRing.{u1} K (EuclideanDomain.toCommRing.{u1} K (Field.toEuclideanDomain.{u1} K _inst_1)))) (AddCommGroup.toAddCommMonoid.{u2} S (NonUnitalNonAssocRing.toAddCommGroup.{u2} S (NonAssocRing.toNonUnitalNonAssocRing.{u2} S (Ring.toNonAssocRing.{u2} S (CommRing.toRing.{u2} S _inst_2))))) (Algebra.toModule.{u1, u2} K S (CommRing.toCommSemiring.{u1} K (EuclideanDomain.toCommRing.{u1} K (Field.toEuclideanDomain.{u1} K _inst_1))) (Ring.toSemiring.{u2} S (CommRing.toRing.{u2} S _inst_2)) _inst_3)) => (Fin (PowerBasis.dim.{u1, u2} K S (EuclideanDomain.toCommRing.{u1} K (Field.toEuclideanDomain.{u1} K _inst_1)) (CommRing.toRing.{u2} S _inst_2) _inst_3 B')) -> S) (FunLike.hasCoeToFun.{max 1 (succ u1) (succ u2), 1, succ u2} (Basis.{0, u1, u2} (Fin (PowerBasis.dim.{u1, u2} K S (EuclideanDomain.toCommRing.{u1} K (Field.toEuclideanDomain.{u1} K _inst_1)) (CommRing.toRing.{u2} S _inst_2) _inst_3 B')) K S (Ring.toSemiring.{u1} K (CommRing.toRing.{u1} K (EuclideanDomain.toCommRing.{u1} K (Field.toEuclideanDomain.{u1} K _inst_1)))) (AddCommGroup.toAddCommMonoid.{u2} S (NonUnitalNonAssocRing.toAddCommGroup.{u2} S (NonAssocRing.toNonUnitalNonAssocRing.{u2} S (Ring.toNonAssocRing.{u2} S (CommRing.toRing.{u2} S _inst_2))))) (Algebra.toModule.{u1, u2} K S (CommRing.toCommSemiring.{u1} K (EuclideanDomain.toCommRing.{u1} K (Field.toEuclideanDomain.{u1} K _inst_1))) (Ring.toSemiring.{u2} S (CommRing.toRing.{u2} S _inst_2)) _inst_3)) (Fin (PowerBasis.dim.{u1, u2} K S (EuclideanDomain.toCommRing.{u1} K (Field.toEuclideanDomain.{u1} K _inst_1)) (CommRing.toRing.{u2} S _inst_2) _inst_3 B')) (fun (_x : Fin (PowerBasis.dim.{u1, u2} K S (EuclideanDomain.toCommRing.{u1} K (Field.toEuclideanDomain.{u1} K _inst_1)) (CommRing.toRing.{u2} S _inst_2) _inst_3 B')) => S) (Basis.funLike.{0, u1, u2} (Fin (PowerBasis.dim.{u1, u2} K S (EuclideanDomain.toCommRing.{u1} K (Field.toEuclideanDomain.{u1} K _inst_1)) (CommRing.toRing.{u2} S _inst_2) _inst_3 B')) K S (Ring.toSemiring.{u1} K (CommRing.toRing.{u1} K (EuclideanDomain.toCommRing.{u1} K (Field.toEuclideanDomain.{u1} K _inst_1)))) (AddCommGroup.toAddCommMonoid.{u2} S (NonUnitalNonAssocRing.toAddCommGroup.{u2} S (NonAssocRing.toNonUnitalNonAssocRing.{u2} S (Ring.toNonAssocRing.{u2} S (CommRing.toRing.{u2} S _inst_2))))) (Algebra.toModule.{u1, u2} K S (CommRing.toCommSemiring.{u1} K (EuclideanDomain.toCommRing.{u1} K (Field.toEuclideanDomain.{u1} K _inst_1))) (Ring.toSemiring.{u2} S (CommRing.toRing.{u2} S _inst_2)) _inst_3))) (PowerBasis.basis.{u1, u2} K S (EuclideanDomain.toCommRing.{u1} K (Field.toEuclideanDomain.{u1} K _inst_1)) (CommRing.toRing.{u2} S _inst_2) _inst_3 B')) i j))
but is expected to have type
  forall {K : Type.{u3}} {S : Type.{u2}} [_inst_1 : Field.{u3} K] [_inst_2 : CommRing.{u2} S] [_inst_3 : Algebra.{u3, u2} K S (Semifield.toCommSemiring.{u3} K (Field.toSemifield.{u3} K _inst_1)) (CommSemiring.toSemiring.{u2} S (CommRing.toCommSemiring.{u2} S _inst_2))] {R : Type.{u1}} [_inst_4 : CommRing.{u1} R] [_inst_5 : Algebra.{u1, u2} R S (CommRing.toCommSemiring.{u1} R _inst_4) (CommSemiring.toSemiring.{u2} S (CommRing.toCommSemiring.{u2} S _inst_2))] [_inst_6 : Algebra.{u1, u3} R K (CommRing.toCommSemiring.{u1} R _inst_4) (DivisionSemiring.toSemiring.{u3} K (Semifield.toDivisionSemiring.{u3} K (Field.toSemifield.{u3} K _inst_1)))] [_inst_7 : IsScalarTower.{u1, u3, u2} R K S (Algebra.toSMul.{u1, u3} R K (CommRing.toCommSemiring.{u1} R _inst_4) (DivisionSemiring.toSemiring.{u3} K (Semifield.toDivisionSemiring.{u3} K (Field.toSemifield.{u3} K _inst_1))) _inst_6) (Algebra.toSMul.{u3, u2} K S (Semifield.toCommSemiring.{u3} K (Field.toSemifield.{u3} K _inst_1)) (CommSemiring.toSemiring.{u2} S (CommRing.toCommSemiring.{u2} S _inst_2)) _inst_3) (Algebra.toSMul.{u1, u2} R S (CommRing.toCommSemiring.{u1} R _inst_4) (CommSemiring.toSemiring.{u2} S (CommRing.toCommSemiring.{u2} S _inst_2)) _inst_5)] {B : PowerBasis.{u3, u2} K S (EuclideanDomain.toCommRing.{u3} K (Field.toEuclideanDomain.{u3} K _inst_1)) (CommRing.toRing.{u2} S _inst_2) _inst_3} {B' : PowerBasis.{u3, u2} K S (EuclideanDomain.toCommRing.{u3} K (Field.toEuclideanDomain.{u3} K _inst_1)) (CommRing.toRing.{u2} S _inst_2) _inst_3} {P : Polynomial.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))}, (Eq.{succ u2} ((fun (x._@.Mathlib.Algebra.Hom.GroupAction._hyg.2187 : Polynomial.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) => S) P) (FunLike.coe.{max (succ u2) (succ u1), succ u1, succ u2} (AlgHom.{u1, u1, u2} R (Polynomial.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) S (CommRing.toCommSemiring.{u1} R _inst_4) (Polynomial.semiring.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (CommSemiring.toSemiring.{u2} S (CommRing.toCommSemiring.{u2} S _inst_2)) (Polynomial.algebraOfAlgebra.{u1, u1} R R (CommRing.toCommSemiring.{u1} R _inst_4) (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4)) (Algebra.id.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) _inst_5) (Polynomial.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (fun (_x : Polynomial.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) => (fun (x._@.Mathlib.Algebra.Hom.GroupAction._hyg.2187 : Polynomial.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) => S) _x) (SMulHomClass.toFunLike.{max u2 u1, u1, u1, u2} (AlgHom.{u1, u1, u2} R (Polynomial.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) S (CommRing.toCommSemiring.{u1} R _inst_4) (Polynomial.semiring.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (CommSemiring.toSemiring.{u2} S (CommRing.toCommSemiring.{u2} S _inst_2)) (Polynomial.algebraOfAlgebra.{u1, u1} R R (CommRing.toCommSemiring.{u1} R _inst_4) (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4)) (Algebra.id.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) _inst_5) R (Polynomial.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) S (SMulZeroClass.toSMul.{u1, u1} R (Polynomial.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (AddMonoid.toZero.{u1} (Polynomial.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (AddCommMonoid.toAddMonoid.{u1} (Polynomial.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u1} (Polynomial.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} (Polynomial.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (Semiring.toNonAssocSemiring.{u1} (Polynomial.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (Polynomial.semiring.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4)))))))) (DistribSMul.toSMulZeroClass.{u1, u1} R (Polynomial.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (AddMonoid.toAddZeroClass.{u1} (Polynomial.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (AddCommMonoid.toAddMonoid.{u1} (Polynomial.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u1} (Polynomial.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} (Polynomial.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (Semiring.toNonAssocSemiring.{u1} (Polynomial.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (Polynomial.semiring.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4)))))))) (DistribMulAction.toDistribSMul.{u1, u1} R (Polynomial.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (MonoidWithZero.toMonoid.{u1} R (Semiring.toMonoidWithZero.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4)))) (AddCommMonoid.toAddMonoid.{u1} (Polynomial.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u1} (Polynomial.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} (Polynomial.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (Semiring.toNonAssocSemiring.{u1} (Polynomial.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (Polynomial.semiring.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))))))) (Module.toDistribMulAction.{u1, u1} R (Polynomial.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u1} (Polynomial.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} (Polynomial.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (Semiring.toNonAssocSemiring.{u1} (Polynomial.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (Polynomial.semiring.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4)))))) (Algebra.toModule.{u1, u1} R (Polynomial.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (CommRing.toCommSemiring.{u1} R _inst_4) (Polynomial.semiring.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (Polynomial.algebraOfAlgebra.{u1, u1} R R (CommRing.toCommSemiring.{u1} R _inst_4) (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4)) (Algebra.id.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4)))))))) (SMulZeroClass.toSMul.{u1, u2} R S (AddMonoid.toZero.{u2} S (AddCommMonoid.toAddMonoid.{u2} S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u2} S (Semiring.toNonAssocSemiring.{u2} S (CommSemiring.toSemiring.{u2} S (CommRing.toCommSemiring.{u2} S _inst_2))))))) (DistribSMul.toSMulZeroClass.{u1, u2} R S (AddMonoid.toAddZeroClass.{u2} S (AddCommMonoid.toAddMonoid.{u2} S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u2} S (Semiring.toNonAssocSemiring.{u2} S (CommSemiring.toSemiring.{u2} S (CommRing.toCommSemiring.{u2} S _inst_2))))))) (DistribMulAction.toDistribSMul.{u1, u2} R S (MonoidWithZero.toMonoid.{u1} R (Semiring.toMonoidWithZero.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4)))) (AddCommMonoid.toAddMonoid.{u2} S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u2} S (Semiring.toNonAssocSemiring.{u2} S (CommSemiring.toSemiring.{u2} S (CommRing.toCommSemiring.{u2} S _inst_2)))))) (Module.toDistribMulAction.{u1, u2} R S (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u2} S (Semiring.toNonAssocSemiring.{u2} S (CommSemiring.toSemiring.{u2} S (CommRing.toCommSemiring.{u2} S _inst_2))))) (Algebra.toModule.{u1, u2} R S (CommRing.toCommSemiring.{u1} R _inst_4) (CommSemiring.toSemiring.{u2} S (CommRing.toCommSemiring.{u2} S _inst_2)) _inst_5))))) (DistribMulActionHomClass.toSMulHomClass.{max u2 u1, u1, u1, u2} (AlgHom.{u1, u1, u2} R (Polynomial.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) S (CommRing.toCommSemiring.{u1} R _inst_4) (Polynomial.semiring.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (CommSemiring.toSemiring.{u2} S (CommRing.toCommSemiring.{u2} S _inst_2)) (Polynomial.algebraOfAlgebra.{u1, u1} R R (CommRing.toCommSemiring.{u1} R _inst_4) (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4)) (Algebra.id.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) _inst_5) R (Polynomial.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) S (MonoidWithZero.toMonoid.{u1} R (Semiring.toMonoidWithZero.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4)))) (AddCommMonoid.toAddMonoid.{u1} (Polynomial.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u1} (Polynomial.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} (Polynomial.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (Semiring.toNonAssocSemiring.{u1} (Polynomial.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (Polynomial.semiring.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))))))) (AddCommMonoid.toAddMonoid.{u2} S (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u2} S (Semiring.toNonAssocSemiring.{u2} S (CommSemiring.toSemiring.{u2} S (CommRing.toCommSemiring.{u2} S _inst_2)))))) (Module.toDistribMulAction.{u1, u1} R (Polynomial.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u1} (Polynomial.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} (Polynomial.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (Semiring.toNonAssocSemiring.{u1} (Polynomial.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (Polynomial.semiring.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4)))))) (Algebra.toModule.{u1, u1} R (Polynomial.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (CommRing.toCommSemiring.{u1} R _inst_4) (Polynomial.semiring.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (Polynomial.algebraOfAlgebra.{u1, u1} R R (CommRing.toCommSemiring.{u1} R _inst_4) (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4)) (Algebra.id.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))))) (Module.toDistribMulAction.{u1, u2} R S (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u2} S (Semiring.toNonAssocSemiring.{u2} S (CommSemiring.toSemiring.{u2} S (CommRing.toCommSemiring.{u2} S _inst_2))))) (Algebra.toModule.{u1, u2} R S (CommRing.toCommSemiring.{u1} R _inst_4) (CommSemiring.toSemiring.{u2} S (CommRing.toCommSemiring.{u2} S _inst_2)) _inst_5)) (NonUnitalAlgHomClass.toDistribMulActionHomClass.{max u2 u1, u1, u1, u2} (AlgHom.{u1, u1, u2} R (Polynomial.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) S (CommRing.toCommSemiring.{u1} R _inst_4) (Polynomial.semiring.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (CommSemiring.toSemiring.{u2} S (CommRing.toCommSemiring.{u2} S _inst_2)) (Polynomial.algebraOfAlgebra.{u1, u1} R R (CommRing.toCommSemiring.{u1} R _inst_4) (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4)) (Algebra.id.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) _inst_5) R (Polynomial.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) S (MonoidWithZero.toMonoid.{u1} R (Semiring.toMonoidWithZero.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4)))) (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} (Polynomial.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (Semiring.toNonAssocSemiring.{u1} (Polynomial.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (Polynomial.semiring.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))))) (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u2} S (Semiring.toNonAssocSemiring.{u2} S (CommSemiring.toSemiring.{u2} S (CommRing.toCommSemiring.{u2} S _inst_2)))) (Module.toDistribMulAction.{u1, u1} R (Polynomial.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u1} (Polynomial.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u1} (Polynomial.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (Semiring.toNonAssocSemiring.{u1} (Polynomial.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (Polynomial.semiring.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4)))))) (Algebra.toModule.{u1, u1} R (Polynomial.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (CommRing.toCommSemiring.{u1} R _inst_4) (Polynomial.semiring.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (Polynomial.algebraOfAlgebra.{u1, u1} R R (CommRing.toCommSemiring.{u1} R _inst_4) (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4)) (Algebra.id.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))))) (Module.toDistribMulAction.{u1, u2} R S (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} S (NonAssocSemiring.toNonUnitalNonAssocSemiring.{u2} S (Semiring.toNonAssocSemiring.{u2} S (CommSemiring.toSemiring.{u2} S (CommRing.toCommSemiring.{u2} S _inst_2))))) (Algebra.toModule.{u1, u2} R S (CommRing.toCommSemiring.{u1} R _inst_4) (CommSemiring.toSemiring.{u2} S (CommRing.toCommSemiring.{u2} S _inst_2)) _inst_5)) (AlgHom.instNonUnitalAlgHomClassToMonoidToMonoidWithZeroToSemiringToNonUnitalNonAssocSemiringToNonAssocSemiringToNonUnitalNonAssocSemiringToNonAssocSemiringToDistribMulActionToAddCommMonoidToModuleToDistribMulActionToAddCommMonoidToModule.{u1, u1, u2, max u2 u1} R (Polynomial.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) S (CommRing.toCommSemiring.{u1} R _inst_4) (Polynomial.semiring.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (CommSemiring.toSemiring.{u2} S (CommRing.toCommSemiring.{u2} S _inst_2)) (Polynomial.algebraOfAlgebra.{u1, u1} R R (CommRing.toCommSemiring.{u1} R _inst_4) (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4)) (Algebra.id.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) _inst_5 (AlgHom.{u1, u1, u2} R (Polynomial.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) S (CommRing.toCommSemiring.{u1} R _inst_4) (Polynomial.semiring.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (CommSemiring.toSemiring.{u2} S (CommRing.toCommSemiring.{u2} S _inst_2)) (Polynomial.algebraOfAlgebra.{u1, u1} R R (CommRing.toCommSemiring.{u1} R _inst_4) (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4)) (Algebra.id.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) _inst_5) (AlgHom.algHomClass.{u1, u1, u2} R (Polynomial.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) S (CommRing.toCommSemiring.{u1} R _inst_4) (Polynomial.semiring.{u1} R (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) (CommSemiring.toSemiring.{u2} S (CommRing.toCommSemiring.{u2} S _inst_2)) (Polynomial.algebraOfAlgebra.{u1, u1} R R (CommRing.toCommSemiring.{u1} R _inst_4) (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4)) (Algebra.id.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4))) _inst_5))))) (Polynomial.aeval.{u1, u2} R S (CommRing.toCommSemiring.{u1} R _inst_4) (CommSemiring.toSemiring.{u2} S (CommRing.toCommSemiring.{u2} S _inst_2)) _inst_5 (PowerBasis.gen.{u3, u2} K S (EuclideanDomain.toCommRing.{u3} K (Field.toEuclideanDomain.{u3} K _inst_1)) (CommRing.toRing.{u2} S _inst_2) _inst_3 B)) P) (PowerBasis.gen.{u3, u2} K S (EuclideanDomain.toCommRing.{u3} K (Field.toEuclideanDomain.{u3} K _inst_1)) (CommRing.toRing.{u2} S _inst_2) _inst_3 B')) -> (IsIntegral.{u1, u2} R S _inst_4 (CommRing.toRing.{u2} S _inst_2) _inst_5 (PowerBasis.gen.{u3, u2} K S (EuclideanDomain.toCommRing.{u3} K (Field.toEuclideanDomain.{u3} K _inst_1)) (CommRing.toRing.{u2} S _inst_2) _inst_3 B)) -> (Eq.{succ u3} (Polynomial.{u3} K (CommSemiring.toSemiring.{u3} K (CommRing.toCommSemiring.{u3} K (EuclideanDomain.toCommRing.{u3} K (Field.toEuclideanDomain.{u3} K _inst_1))))) (minpoly.{u3, u2} K S (EuclideanDomain.toCommRing.{u3} K (Field.toEuclideanDomain.{u3} K _inst_1)) (CommRing.toRing.{u2} S _inst_2) _inst_3 (PowerBasis.gen.{u3, u2} K S (EuclideanDomain.toCommRing.{u3} K (Field.toEuclideanDomain.{u3} K _inst_1)) (CommRing.toRing.{u2} S _inst_2) _inst_3 B)) (Polynomial.map.{u1, u3} R K (CommSemiring.toSemiring.{u1} R (CommRing.toCommSemiring.{u1} R _inst_4)) (DivisionSemiring.toSemiring.{u3} K (Semifield.toDivisionSemiring.{u3} K (Field.toSemifield.{u3} K _inst_1))) (algebraMap.{u1, u3} R K (CommRing.toCommSemiring.{u1} R _inst_4) (DivisionSemiring.toSemiring.{u3} K (Semifield.toDivisionSemiring.{u3} K (Field.toSemifield.{u3} K _inst_1))) _inst_6) (minpoly.{u1, u2} R S _inst_4 (CommRing.toRing.{u2} S _inst_2) _inst_5 (PowerBasis.gen.{u3, u2} K S (EuclideanDomain.toCommRing.{u3} K (Field.toEuclideanDomain.{u3} K _inst_1)) (CommRing.toRing.{u2} S _inst_2) _inst_3 B)))) -> (forall (i : Fin (PowerBasis.dim.{u3, u2} K S (EuclideanDomain.toCommRing.{u3} K (Field.toEuclideanDomain.{u3} K _inst_1)) (CommRing.toRing.{u2} S _inst_2) _inst_3 B)) (j : Fin (PowerBasis.dim.{u3, u2} K S (EuclideanDomain.toCommRing.{u3} K (Field.toEuclideanDomain.{u3} K _inst_1)) (CommRing.toRing.{u2} S _inst_2) _inst_3 B')), IsIntegral.{u1, u3} R K _inst_4 (DivisionRing.toRing.{u3} K (Field.toDivisionRing.{u3} K _inst_1)) _inst_6 (Basis.toMatrix.{0, 0, u3, u2} (Fin (PowerBasis.dim.{u3, u2} K S (EuclideanDomain.toCommRing.{u3} K (Field.toEuclideanDomain.{u3} K _inst_1)) (CommRing.toRing.{u2} S _inst_2) _inst_3 B)) (Fin (PowerBasis.dim.{u3, u2} K S (EuclideanDomain.toCommRing.{u3} K (Field.toEuclideanDomain.{u3} K _inst_1)) (CommRing.toRing.{u2} S _inst_2) _inst_3 B')) K S (Semifield.toCommSemiring.{u3} K (Field.toSemifield.{u3} K _inst_1)) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} S (NonUnitalNonAssocRing.toNonUnitalNonAssocSemiring.{u2} S (NonAssocRing.toNonUnitalNonAssocRing.{u2} S (Ring.toNonAssocRing.{u2} S (CommRing.toRing.{u2} S _inst_2))))) (Algebra.toModule.{u3, u2} K S (CommRing.toCommSemiring.{u3} K (EuclideanDomain.toCommRing.{u3} K (Field.toEuclideanDomain.{u3} K _inst_1))) (Ring.toSemiring.{u2} S (CommRing.toRing.{u2} S _inst_2)) _inst_3) (PowerBasis.basis.{u3, u2} K S (EuclideanDomain.toCommRing.{u3} K (Field.toEuclideanDomain.{u3} K _inst_1)) (CommRing.toRing.{u2} S _inst_2) _inst_3 B) (FunLike.coe.{max (succ u3) (succ u2), 1, succ u2} (Basis.{0, u3, u2} (Fin (PowerBasis.dim.{u3, u2} K S (EuclideanDomain.toCommRing.{u3} K (Field.toEuclideanDomain.{u3} K _inst_1)) (CommRing.toRing.{u2} S _inst_2) _inst_3 B')) K S (CommSemiring.toSemiring.{u3} K (CommRing.toCommSemiring.{u3} K (EuclideanDomain.toCommRing.{u3} K (Field.toEuclideanDomain.{u3} K _inst_1)))) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} S (NonUnitalNonAssocRing.toNonUnitalNonAssocSemiring.{u2} S (NonAssocRing.toNonUnitalNonAssocRing.{u2} S (Ring.toNonAssocRing.{u2} S (CommRing.toRing.{u2} S _inst_2))))) (Algebra.toModule.{u3, u2} K S (CommRing.toCommSemiring.{u3} K (EuclideanDomain.toCommRing.{u3} K (Field.toEuclideanDomain.{u3} K _inst_1))) (Ring.toSemiring.{u2} S (CommRing.toRing.{u2} S _inst_2)) _inst_3)) (Fin (PowerBasis.dim.{u3, u2} K S (EuclideanDomain.toCommRing.{u3} K (Field.toEuclideanDomain.{u3} K _inst_1)) (CommRing.toRing.{u2} S _inst_2) _inst_3 B')) (fun (_x : Fin (PowerBasis.dim.{u3, u2} K S (EuclideanDomain.toCommRing.{u3} K (Field.toEuclideanDomain.{u3} K _inst_1)) (CommRing.toRing.{u2} S _inst_2) _inst_3 B')) => (fun (x._@.Mathlib.LinearAlgebra.Basis._hyg.548 : Fin (PowerBasis.dim.{u3, u2} K S (EuclideanDomain.toCommRing.{u3} K (Field.toEuclideanDomain.{u3} K _inst_1)) (CommRing.toRing.{u2} S _inst_2) _inst_3 B')) => S) _x) (Basis.funLike.{0, u3, u2} (Fin (PowerBasis.dim.{u3, u2} K S (EuclideanDomain.toCommRing.{u3} K (Field.toEuclideanDomain.{u3} K _inst_1)) (CommRing.toRing.{u2} S _inst_2) _inst_3 B')) K S (CommSemiring.toSemiring.{u3} K (CommRing.toCommSemiring.{u3} K (EuclideanDomain.toCommRing.{u3} K (Field.toEuclideanDomain.{u3} K _inst_1)))) (NonUnitalNonAssocSemiring.toAddCommMonoid.{u2} S (NonUnitalNonAssocRing.toNonUnitalNonAssocSemiring.{u2} S (NonAssocRing.toNonUnitalNonAssocRing.{u2} S (Ring.toNonAssocRing.{u2} S (CommRing.toRing.{u2} S _inst_2))))) (Algebra.toModule.{u3, u2} K S (CommRing.toCommSemiring.{u3} K (EuclideanDomain.toCommRing.{u3} K (Field.toEuclideanDomain.{u3} K _inst_1))) (Ring.toSemiring.{u2} S (CommRing.toRing.{u2} S _inst_2)) _inst_3)) (PowerBasis.basis.{u3, u2} K S (EuclideanDomain.toCommRing.{u3} K (Field.toEuclideanDomain.{u3} K _inst_1)) (CommRing.toRing.{u2} S _inst_2) _inst_3 B')) i j))
Case conversion may be inaccurate. Consider using '#align power_basis.to_matrix_is_integral PowerBasis.toMatrix_isIntegralₓ'. -/
/-- Let `B B' : power_basis K S` be such that `is_integral R B.gen`, and let `P : R[X]` be such that
`aeval B.gen P = B'.gen`. Then `is_integral R (B.basis.to_matrix B'.basis i j)` for all `i` and `j`
if `minpoly K B.gen = (minpoly R B.gen).map (algebra_map R L)`. This is the case
if `R` is a GCD domain and `K` is its fraction ring. -/
theorem toMatrix_isIntegral {B B' : PowerBasis K S} {P : R[X]} (h : aeval B.gen P = B'.gen)
    (hB : IsIntegral R B.gen) (hmin : minpoly K B.gen = (minpoly R B.gen).map (algebraMap R K)) :
    ∀ i j, IsIntegral R (B.Basis.toMatrix B'.Basis i j) :=
  by
  intro i j
  rw [B.basis.to_matrix_apply, B'.coe_basis]
  refine' repr_pow_is_integral hB (fun i => _) hmin _ _
  rw [← h, aeval_eq_sum_range, LinearEquiv.map_sum, Finset.sum_apply']
  refine' IsIntegral.sum _ fun n hn => _
  rw [Algebra.smul_def, IsScalarTower.algebraMap_apply R K S, ← Algebra.smul_def,
    LinearEquiv.map_smul, algebraMap_smul]
  exact isIntegral_smul _ (repr_gen_pow_is_integral hB hmin _ _)
#align power_basis.to_matrix_is_integral PowerBasis.toMatrix_isIntegral

end PowerBasis

end IsIntegral

