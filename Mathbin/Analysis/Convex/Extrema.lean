/-
Copyright (c) 2020 Fr√©d√©ric Dupuis. All rights reserved.
Released under Apache 2.0 license as described in the file LICENSE.
Authors: Fr√©d√©ric Dupuis

! This file was ported from Lean 3 source module analysis.convex.extrema
! leanprover-community/mathlib commit f2ce6086713c78a7f880485f7917ea547a215982
! Please do not edit these lines, except to modify the commit id
! if you have ported upstream changes.
-/
import Mathbin.Analysis.Convex.Function
import Mathbin.Topology.Algebra.Affine
import Mathbin.Topology.LocalExtr
import Mathbin.Topology.MetricSpace.Basic

/-!
# Minima and maxima of convex functions

We show that if a function `f : E ‚Üí Œ≤` is convex, then a local minimum is also
a global minimum, and likewise for concave functions.
-/


variable {E Œ≤ : Type _} [AddCommGroup E] [TopologicalSpace E] [Module ‚Ñù E] [TopologicalAddGroup E]
  [ContinuousSMul ‚Ñù E] [OrderedAddCommGroup Œ≤] [Module ‚Ñù Œ≤] [OrderedSMul ‚Ñù Œ≤] {s : Set E}

open Set Filter Function

open Classical Topology

/- warning: is_min_on.of_is_local_min_on_of_convex_on_Icc -> IsMinOn.of_isLocalMinOn_of_convexOn_Icc is a dubious translation:
lean 3 declaration is
  forall {Œ≤ : Type.{u1}} [_inst_6 : OrderedAddCommGroup.{u1} Œ≤] [_inst_7 : Module.{0, u1} Real Œ≤ Real.semiring (AddCommGroup.toAddCommMonoid.{u1} Œ≤ (OrderedAddCommGroup.toAddCommGroup.{u1} Œ≤ _inst_6))] [_inst_8 : OrderedSMul.{0, u1} Real Œ≤ Real.orderedSemiring (OrderedCancelAddCommMonoid.toOrderedAddCommMonoid.{u1} Œ≤ (OrderedAddCommGroup.toOrderedCancelAddCommMonoid.{u1} Œ≤ _inst_6)) (MulActionWithZero.toSMulWithZero.{0, u1} Real Œ≤ Real.monoidWithZero (AddZeroClass.toHasZero.{u1} Œ≤ (AddMonoid.toAddZeroClass.{u1} Œ≤ (AddCommMonoid.toAddMonoid.{u1} Œ≤ (OrderedAddCommMonoid.toAddCommMonoid.{u1} Œ≤ (OrderedCancelAddCommMonoid.toOrderedAddCommMonoid.{u1} Œ≤ (OrderedAddCommGroup.toOrderedCancelAddCommMonoid.{u1} Œ≤ _inst_6)))))) (Module.toMulActionWithZero.{0, u1} Real Œ≤ Real.semiring (AddCommGroup.toAddCommMonoid.{u1} Œ≤ (OrderedAddCommGroup.toAddCommGroup.{u1} Œ≤ _inst_6)) _inst_7))] {f : Real -> Œ≤} {a : Real} {b : Real}, (LT.lt.{0} Real Real.hasLt a b) -> (IsLocalMinOn.{0, u1} Real Œ≤ (UniformSpace.toTopologicalSpace.{0} Real (PseudoMetricSpace.toUniformSpace.{0} Real Real.pseudoMetricSpace)) (PartialOrder.toPreorder.{u1} Œ≤ (OrderedAddCommGroup.toPartialOrder.{u1} Œ≤ _inst_6)) f (Set.Icc.{0} Real Real.preorder a b) a) -> (ConvexOn.{0, 0, u1} Real Real Œ≤ Real.orderedSemiring Real.addCommMonoid (OrderedCancelAddCommMonoid.toOrderedAddCommMonoid.{u1} Œ≤ (OrderedAddCommGroup.toOrderedCancelAddCommMonoid.{u1} Œ≤ _inst_6)) (Mul.toSMul.{0} Real Real.hasMul) (SMulZeroClass.toHasSmul.{0, u1} Real Œ≤ (AddZeroClass.toHasZero.{u1} Œ≤ (AddMonoid.toAddZeroClass.{u1} Œ≤ (AddCommMonoid.toAddMonoid.{u1} Œ≤ (AddCommGroup.toAddCommMonoid.{u1} Œ≤ (OrderedAddCommGroup.toAddCommGroup.{u1} Œ≤ _inst_6))))) (SMulWithZero.toSmulZeroClass.{0, u1} Real Œ≤ (MulZeroClass.toHasZero.{0} Real (MulZeroOneClass.toMulZeroClass.{0} Real (MonoidWithZero.toMulZeroOneClass.{0} Real (Semiring.toMonoidWithZero.{0} Real Real.semiring)))) (AddZeroClass.toHasZero.{u1} Œ≤ (AddMonoid.toAddZeroClass.{u1} Œ≤ (AddCommMonoid.toAddMonoid.{u1} Œ≤ (AddCommGroup.toAddCommMonoid.{u1} Œ≤ (OrderedAddCommGroup.toAddCommGroup.{u1} Œ≤ _inst_6))))) (MulActionWithZero.toSMulWithZero.{0, u1} Real Œ≤ (Semiring.toMonoidWithZero.{0} Real Real.semiring) (AddZeroClass.toHasZero.{u1} Œ≤ (AddMonoid.toAddZeroClass.{u1} Œ≤ (AddCommMonoid.toAddMonoid.{u1} Œ≤ (AddCommGroup.toAddCommMonoid.{u1} Œ≤ (OrderedAddCommGroup.toAddCommGroup.{u1} Œ≤ _inst_6))))) (Module.toMulActionWithZero.{0, u1} Real Œ≤ Real.semiring (AddCommGroup.toAddCommMonoid.{u1} Œ≤ (OrderedAddCommGroup.toAddCommGroup.{u1} Œ≤ _inst_6)) _inst_7)))) (Set.Icc.{0} Real Real.preorder a b) f) -> (IsMinOn.{0, u1} Real Œ≤ (PartialOrder.toPreorder.{u1} Œ≤ (OrderedAddCommGroup.toPartialOrder.{u1} Œ≤ _inst_6)) f (Set.Icc.{0} Real Real.preorder a b) a)
but is expected to have type
  forall {Œ≤ : Type.{u1}} [_inst_6 : OrderedAddCommGroup.{u1} Œ≤] [_inst_7 : Module.{0, u1} Real Œ≤ Real.semiring (OrderedCancelAddCommMonoid.toAddCommMonoid.{u1} Œ≤ (OrderedAddCommGroup.toOrderedCancelAddCommMonoid.{u1} Œ≤ _inst_6))] [_inst_8 : OrderedSMul.{0, u1} Real Œ≤ Real.orderedSemiring (OrderedCancelAddCommMonoid.toOrderedAddCommMonoid.{u1} Œ≤ (OrderedAddCommGroup.toOrderedCancelAddCommMonoid.{u1} Œ≤ _inst_6)) (MulActionWithZero.toSMulWithZero.{0, u1} Real Œ≤ Real.instMonoidWithZeroReal (AddMonoid.toZero.{u1} Œ≤ (AddCommMonoid.toAddMonoid.{u1} Œ≤ (OrderedAddCommMonoid.toAddCommMonoid.{u1} Œ≤ (OrderedCancelAddCommMonoid.toOrderedAddCommMonoid.{u1} Œ≤ (OrderedAddCommGroup.toOrderedCancelAddCommMonoid.{u1} Œ≤ _inst_6))))) (Module.toMulActionWithZero.{0, u1} Real Œ≤ Real.semiring (OrderedCancelAddCommMonoid.toAddCommMonoid.{u1} Œ≤ (OrderedAddCommGroup.toOrderedCancelAddCommMonoid.{u1} Œ≤ _inst_6)) _inst_7))] {f : Real -> Œ≤} {a : Real} {b : Real}, (LT.lt.{0} Real Real.instLTReal a b) -> (IsLocalMinOn.{0, u1} Real Œ≤ (UniformSpace.toTopologicalSpace.{0} Real (PseudoMetricSpace.toUniformSpace.{0} Real Real.pseudoMetricSpace)) (PartialOrder.toPreorder.{u1} Œ≤ (OrderedAddCommGroup.toPartialOrder.{u1} Œ≤ _inst_6)) f (Set.Icc.{0} Real Real.instPreorderReal a b) a) -> (ConvexOn.{0, 0, u1} Real Real Œ≤ Real.orderedSemiring Real.instAddCommMonoidReal (OrderedCancelAddCommMonoid.toOrderedAddCommMonoid.{u1} Œ≤ (OrderedAddCommGroup.toOrderedCancelAddCommMonoid.{u1} Œ≤ _inst_6)) (Algebra.toSMul.{0, 0} Real Real Real.instCommSemiringReal Real.semiring (Algebra.id.{0} Real Real.instCommSemiringReal)) (SMulZeroClass.toSMul.{0, u1} Real Œ≤ (NegZeroClass.toZero.{u1} Œ≤ (SubNegZeroMonoid.toNegZeroClass.{u1} Œ≤ (SubtractionMonoid.toSubNegZeroMonoid.{u1} Œ≤ (SubtractionCommMonoid.toSubtractionMonoid.{u1} Œ≤ (AddCommGroup.toDivisionAddCommMonoid.{u1} Œ≤ (OrderedAddCommGroup.toAddCommGroup.{u1} Œ≤ _inst_6)))))) (SMulWithZero.toSMulZeroClass.{0, u1} Real Œ≤ Real.instZeroReal (NegZeroClass.toZero.{u1} Œ≤ (SubNegZeroMonoid.toNegZeroClass.{u1} Œ≤ (SubtractionMonoid.toSubNegZeroMonoid.{u1} Œ≤ (SubtractionCommMonoid.toSubtractionMonoid.{u1} Œ≤ (AddCommGroup.toDivisionAddCommMonoid.{u1} Œ≤ (OrderedAddCommGroup.toAddCommGroup.{u1} Œ≤ _inst_6)))))) (MulActionWithZero.toSMulWithZero.{0, u1} Real Œ≤ Real.instMonoidWithZeroReal (NegZeroClass.toZero.{u1} Œ≤ (SubNegZeroMonoid.toNegZeroClass.{u1} Œ≤ (SubtractionMonoid.toSubNegZeroMonoid.{u1} Œ≤ (SubtractionCommMonoid.toSubtractionMonoid.{u1} Œ≤ (AddCommGroup.toDivisionAddCommMonoid.{u1} Œ≤ (OrderedAddCommGroup.toAddCommGroup.{u1} Œ≤ _inst_6)))))) (Module.toMulActionWithZero.{0, u1} Real Œ≤ Real.semiring (OrderedCancelAddCommMonoid.toAddCommMonoid.{u1} Œ≤ (OrderedAddCommGroup.toOrderedCancelAddCommMonoid.{u1} Œ≤ _inst_6)) _inst_7)))) (Set.Icc.{0} Real Real.instPreorderReal a b) f) -> (IsMinOn.{0, u1} Real Œ≤ (PartialOrder.toPreorder.{u1} Œ≤ (OrderedAddCommGroup.toPartialOrder.{u1} Œ≤ _inst_6)) f (Set.Icc.{0} Real Real.instPreorderReal a b) a)
Case conversion may be inaccurate. Consider using '#align is_min_on.of_is_local_min_on_of_convex_on_Icc IsMinOn.of_isLocalMinOn_of_convexOn_Icc‚Çì'. -/
/-- Helper lemma for the more general case: `is_min_on.of_is_local_min_on_of_convex_on`.
-/
theorem IsMinOn.of_isLocalMinOn_of_convexOn_Icc {f : ‚Ñù ‚Üí Œ≤} {a b : ‚Ñù} (a_lt_b : a < b)
    (h_local_min : IsLocalMinOn f (Icc a b) a) (h_conv : ConvexOn ‚Ñù (Icc a b) f) :
    IsMinOn f (Icc a b) a := by
  rintro c hc
  dsimp only [mem_set_of_eq]
  rw [IsLocalMinOn, nhdsWithin_Icc_eq_nhdsWithin_Ici a_lt_b] at h_local_min
  rcases hc.1.eq_or_lt with (rfl | a_lt_c)
  ¬∑ exact le_rfl
  have H‚ÇÅ : ‚àÄ·∂† y in ùìù[>] a, f a ‚â§ f y :=
    h_local_min.filter_mono (nhdsWithin_mono _ Ioi_subset_Ici_self)
  have H‚ÇÇ : ‚àÄ·∂† y in ùìù[>] a, y ‚àà Ioc a c := Ioc_mem_nhdsWithin_Ioi (left_mem_Ico.2 a_lt_c)
  rcases(H‚ÇÅ.and H‚ÇÇ).exists with ‚ü®y, hfy, hy_ac‚ü©
  rcases(Convex.mem_Ioc a_lt_c).mp hy_ac with ‚ü®ya, yc, ya‚ÇÄ, yc‚ÇÄ, yac, rfl‚ü©
  suffices : ya ‚Ä¢ f a + yc ‚Ä¢ f a ‚â§ ya ‚Ä¢ f a + yc ‚Ä¢ f c
  exact (smul_le_smul_iff_of_pos yc‚ÇÄ).1 (le_of_add_le_add_left this)
  calc
    ya ‚Ä¢ f a + yc ‚Ä¢ f a = f a := by rw [‚Üê add_smul, yac, one_smul]
    _ ‚â§ f (ya * a + yc * c) := hfy
    _ ‚â§ ya ‚Ä¢ f a + yc ‚Ä¢ f c := h_conv.2 (left_mem_Icc.2 a_lt_b.le) hc ya‚ÇÄ yc‚ÇÄ.le yac
    
#align is_min_on.of_is_local_min_on_of_convex_on_Icc IsMinOn.of_isLocalMinOn_of_convexOn_Icc

/- warning: is_min_on.of_is_local_min_on_of_convex_on -> IsMinOn.of_isLocalMinOn_of_convexOn is a dubious translation:
lean 3 declaration is
  forall {E : Type.{u1}} {Œ≤ : Type.{u2}} [_inst_1 : AddCommGroup.{u1} E] [_inst_2 : TopologicalSpace.{u1} E] [_inst_3 : Module.{0, u1} Real E Real.semiring (AddCommGroup.toAddCommMonoid.{u1} E _inst_1)] [_inst_4 : TopologicalAddGroup.{u1} E _inst_2 (AddCommGroup.toAddGroup.{u1} E _inst_1)] [_inst_5 : ContinuousSMul.{0, u1} Real E (SMulZeroClass.toHasSmul.{0, u1} Real E (AddZeroClass.toHasZero.{u1} E (AddMonoid.toAddZeroClass.{u1} E (AddCommMonoid.toAddMonoid.{u1} E (AddCommGroup.toAddCommMonoid.{u1} E _inst_1)))) (SMulWithZero.toSmulZeroClass.{0, u1} Real E (MulZeroClass.toHasZero.{0} Real (MulZeroOneClass.toMulZeroClass.{0} Real (MonoidWithZero.toMulZeroOneClass.{0} Real (Semiring.toMonoidWithZero.{0} Real Real.semiring)))) (AddZeroClass.toHasZero.{u1} E (AddMonoid.toAddZeroClass.{u1} E (AddCommMonoid.toAddMonoid.{u1} E (AddCommGroup.toAddCommMonoid.{u1} E _inst_1)))) (MulActionWithZero.toSMulWithZero.{0, u1} Real E (Semiring.toMonoidWithZero.{0} Real Real.semiring) (AddZeroClass.toHasZero.{u1} E (AddMonoid.toAddZeroClass.{u1} E (AddCommMonoid.toAddMonoid.{u1} E (AddCommGroup.toAddCommMonoid.{u1} E _inst_1)))) (Module.toMulActionWithZero.{0, u1} Real E Real.semiring (AddCommGroup.toAddCommMonoid.{u1} E _inst_1) _inst_3)))) (UniformSpace.toTopologicalSpace.{0} Real (PseudoMetricSpace.toUniformSpace.{0} Real Real.pseudoMetricSpace)) _inst_2] [_inst_6 : OrderedAddCommGroup.{u2} Œ≤] [_inst_7 : Module.{0, u2} Real Œ≤ Real.semiring (AddCommGroup.toAddCommMonoid.{u2} Œ≤ (OrderedAddCommGroup.toAddCommGroup.{u2} Œ≤ _inst_6))] [_inst_8 : OrderedSMul.{0, u2} Real Œ≤ Real.orderedSemiring (OrderedCancelAddCommMonoid.toOrderedAddCommMonoid.{u2} Œ≤ (OrderedAddCommGroup.toOrderedCancelAddCommMonoid.{u2} Œ≤ _inst_6)) (MulActionWithZero.toSMulWithZero.{0, u2} Real Œ≤ Real.monoidWithZero (AddZeroClass.toHasZero.{u2} Œ≤ (AddMonoid.toAddZeroClass.{u2} Œ≤ (AddCommMonoid.toAddMonoid.{u2} Œ≤ (OrderedAddCommMonoid.toAddCommMonoid.{u2} Œ≤ (OrderedCancelAddCommMonoid.toOrderedAddCommMonoid.{u2} Œ≤ (OrderedAddCommGroup.toOrderedCancelAddCommMonoid.{u2} Œ≤ _inst_6)))))) (Module.toMulActionWithZero.{0, u2} Real Œ≤ Real.semiring (AddCommGroup.toAddCommMonoid.{u2} Œ≤ (OrderedAddCommGroup.toAddCommGroup.{u2} Œ≤ _inst_6)) _inst_7))] {s : Set.{u1} E} {f : E -> Œ≤} {a : E}, (Membership.Mem.{u1, u1} E (Set.{u1} E) (Set.hasMem.{u1} E) a s) -> (IsLocalMinOn.{u1, u2} E Œ≤ _inst_2 (PartialOrder.toPreorder.{u2} Œ≤ (OrderedAddCommGroup.toPartialOrder.{u2} Œ≤ _inst_6)) f s a) -> (ConvexOn.{0, u1, u2} Real E Œ≤ Real.orderedSemiring (AddCommGroup.toAddCommMonoid.{u1} E _inst_1) (OrderedCancelAddCommMonoid.toOrderedAddCommMonoid.{u2} Œ≤ (OrderedAddCommGroup.toOrderedCancelAddCommMonoid.{u2} Œ≤ _inst_6)) (SMulZeroClass.toHasSmul.{0, u1} Real E (AddZeroClass.toHasZero.{u1} E (AddMonoid.toAddZeroClass.{u1} E (AddCommMonoid.toAddMonoid.{u1} E (AddCommGroup.toAddCommMonoid.{u1} E _inst_1)))) (SMulWithZero.toSmulZeroClass.{0, u1} Real E (MulZeroClass.toHasZero.{0} Real (MulZeroOneClass.toMulZeroClass.{0} Real (MonoidWithZero.toMulZeroOneClass.{0} Real (Semiring.toMonoidWithZero.{0} Real Real.semiring)))) (AddZeroClass.toHasZero.{u1} E (AddMonoid.toAddZeroClass.{u1} E (AddCommMonoid.toAddMonoid.{u1} E (AddCommGroup.toAddCommMonoid.{u1} E _inst_1)))) (MulActionWithZero.toSMulWithZero.{0, u1} Real E (Semiring.toMonoidWithZero.{0} Real Real.semiring) (AddZeroClass.toHasZero.{u1} E (AddMonoid.toAddZeroClass.{u1} E (AddCommMonoid.toAddMonoid.{u1} E (AddCommGroup.toAddCommMonoid.{u1} E _inst_1)))) (Module.toMulActionWithZero.{0, u1} Real E Real.semiring (AddCommGroup.toAddCommMonoid.{u1} E _inst_1) _inst_3)))) (SMulZeroClass.toHasSmul.{0, u2} Real Œ≤ (AddZeroClass.toHasZero.{u2} Œ≤ (AddMonoid.toAddZeroClass.{u2} Œ≤ (AddCommMonoid.toAddMonoid.{u2} Œ≤ (AddCommGroup.toAddCommMonoid.{u2} Œ≤ (OrderedAddCommGroup.toAddCommGroup.{u2} Œ≤ _inst_6))))) (SMulWithZero.toSmulZeroClass.{0, u2} Real Œ≤ (MulZeroClass.toHasZero.{0} Real (MulZeroOneClass.toMulZeroClass.{0} Real (MonoidWithZero.toMulZeroOneClass.{0} Real (Semiring.toMonoidWithZero.{0} Real Real.semiring)))) (AddZeroClass.toHasZero.{u2} Œ≤ (AddMonoid.toAddZeroClass.{u2} Œ≤ (AddCommMonoid.toAddMonoid.{u2} Œ≤ (AddCommGroup.toAddCommMonoid.{u2} Œ≤ (OrderedAddCommGroup.toAddCommGroup.{u2} Œ≤ _inst_6))))) (MulActionWithZero.toSMulWithZero.{0, u2} Real Œ≤ (Semiring.toMonoidWithZero.{0} Real Real.semiring) (AddZeroClass.toHasZero.{u2} Œ≤ (AddMonoid.toAddZeroClass.{u2} Œ≤ (AddCommMonoid.toAddMonoid.{u2} Œ≤ (AddCommGroup.toAddCommMonoid.{u2} Œ≤ (OrderedAddCommGroup.toAddCommGroup.{u2} Œ≤ _inst_6))))) (Module.toMulActionWithZero.{0, u2} Real Œ≤ Real.semiring (AddCommGroup.toAddCommMonoid.{u2} Œ≤ (OrderedAddCommGroup.toAddCommGroup.{u2} Œ≤ _inst_6)) _inst_7)))) s f) -> (IsMinOn.{u1, u2} E Œ≤ (PartialOrder.toPreorder.{u2} Œ≤ (OrderedAddCommGroup.toPartialOrder.{u2} Œ≤ _inst_6)) f s a)
but is expected to have type
  forall {E : Type.{u2}} {Œ≤ : Type.{u1}} [_inst_1 : AddCommGroup.{u2} E] [_inst_2 : TopologicalSpace.{u2} E] [_inst_3 : Module.{0, u2} Real E Real.semiring (AddCommGroup.toAddCommMonoid.{u2} E _inst_1)] [_inst_4 : TopologicalAddGroup.{u2} E _inst_2 (AddCommGroup.toAddGroup.{u2} E _inst_1)] [_inst_5 : ContinuousSMul.{0, u2} Real E (SMulZeroClass.toSMul.{0, u2} Real E (NegZeroClass.toZero.{u2} E (SubNegZeroMonoid.toNegZeroClass.{u2} E (SubtractionMonoid.toSubNegZeroMonoid.{u2} E (SubtractionCommMonoid.toSubtractionMonoid.{u2} E (AddCommGroup.toDivisionAddCommMonoid.{u2} E _inst_1))))) (SMulWithZero.toSMulZeroClass.{0, u2} Real E Real.instZeroReal (NegZeroClass.toZero.{u2} E (SubNegZeroMonoid.toNegZeroClass.{u2} E (SubtractionMonoid.toSubNegZeroMonoid.{u2} E (SubtractionCommMonoid.toSubtractionMonoid.{u2} E (AddCommGroup.toDivisionAddCommMonoid.{u2} E _inst_1))))) (MulActionWithZero.toSMulWithZero.{0, u2} Real E Real.instMonoidWithZeroReal (NegZeroClass.toZero.{u2} E (SubNegZeroMonoid.toNegZeroClass.{u2} E (SubtractionMonoid.toSubNegZeroMonoid.{u2} E (SubtractionCommMonoid.toSubtractionMonoid.{u2} E (AddCommGroup.toDivisionAddCommMonoid.{u2} E _inst_1))))) (Module.toMulActionWithZero.{0, u2} Real E Real.semiring (AddCommGroup.toAddCommMonoid.{u2} E _inst_1) _inst_3)))) (UniformSpace.toTopologicalSpace.{0} Real (PseudoMetricSpace.toUniformSpace.{0} Real Real.pseudoMetricSpace)) _inst_2] [_inst_6 : OrderedAddCommGroup.{u1} Œ≤] [_inst_7 : Module.{0, u1} Real Œ≤ Real.semiring (OrderedCancelAddCommMonoid.toAddCommMonoid.{u1} Œ≤ (OrderedAddCommGroup.toOrderedCancelAddCommMonoid.{u1} Œ≤ _inst_6))] [_inst_8 : OrderedSMul.{0, u1} Real Œ≤ Real.orderedSemiring (OrderedCancelAddCommMonoid.toOrderedAddCommMonoid.{u1} Œ≤ (OrderedAddCommGroup.toOrderedCancelAddCommMonoid.{u1} Œ≤ _inst_6)) (MulActionWithZero.toSMulWithZero.{0, u1} Real Œ≤ Real.instMonoidWithZeroReal (AddMonoid.toZero.{u1} Œ≤ (AddCommMonoid.toAddMonoid.{u1} Œ≤ (OrderedAddCommMonoid.toAddCommMonoid.{u1} Œ≤ (OrderedCancelAddCommMonoid.toOrderedAddCommMonoid.{u1} Œ≤ (OrderedAddCommGroup.toOrderedCancelAddCommMonoid.{u1} Œ≤ _inst_6))))) (Module.toMulActionWithZero.{0, u1} Real Œ≤ Real.semiring (OrderedCancelAddCommMonoid.toAddCommMonoid.{u1} Œ≤ (OrderedAddCommGroup.toOrderedCancelAddCommMonoid.{u1} Œ≤ _inst_6)) _inst_7))] {s : Set.{u2} E} {f : E -> Œ≤} {a : E}, (Membership.mem.{u2, u2} E (Set.{u2} E) (Set.instMembershipSet.{u2} E) a s) -> (IsLocalMinOn.{u2, u1} E Œ≤ _inst_2 (PartialOrder.toPreorder.{u1} Œ≤ (OrderedAddCommGroup.toPartialOrder.{u1} Œ≤ _inst_6)) f s a) -> (ConvexOn.{0, u2, u1} Real E Œ≤ Real.orderedSemiring (AddCommGroup.toAddCommMonoid.{u2} E _inst_1) (OrderedCancelAddCommMonoid.toOrderedAddCommMonoid.{u1} Œ≤ (OrderedAddCommGroup.toOrderedCancelAddCommMonoid.{u1} Œ≤ _inst_6)) (SMulZeroClass.toSMul.{0, u2} Real E (NegZeroClass.toZero.{u2} E (SubNegZeroMonoid.toNegZeroClass.{u2} E (SubtractionMonoid.toSubNegZeroMonoid.{u2} E (SubtractionCommMonoid.toSubtractionMonoid.{u2} E (AddCommGroup.toDivisionAddCommMonoid.{u2} E _inst_1))))) (SMulWithZero.toSMulZeroClass.{0, u2} Real E Real.instZeroReal (NegZeroClass.toZero.{u2} E (SubNegZeroMonoid.toNegZeroClass.{u2} E (SubtractionMonoid.toSubNegZeroMonoid.{u2} E (SubtractionCommMonoid.toSubtractionMonoid.{u2} E (AddCommGroup.toDivisionAddCommMonoid.{u2} E _inst_1))))) (MulActionWithZero.toSMulWithZero.{0, u2} Real E Real.instMonoidWithZeroReal (NegZeroClass.toZero.{u2} E (SubNegZeroMonoid.toNegZeroClass.{u2} E (SubtractionMonoid.toSubNegZeroMonoid.{u2} E (SubtractionCommMonoid.toSubtractionMonoid.{u2} E (AddCommGroup.toDivisionAddCommMonoid.{u2} E _inst_1))))) (Module.toMulActionWithZero.{0, u2} Real E Real.semiring (AddCommGroup.toAddCommMonoid.{u2} E _inst_1) _inst_3)))) (SMulZeroClass.toSMul.{0, u1} Real Œ≤ (NegZeroClass.toZero.{u1} Œ≤ (SubNegZeroMonoid.toNegZeroClass.{u1} Œ≤ (SubtractionMonoid.toSubNegZeroMonoid.{u1} Œ≤ (SubtractionCommMonoid.toSubtractionMonoid.{u1} Œ≤ (AddCommGroup.toDivisionAddCommMonoid.{u1} Œ≤ (OrderedAddCommGroup.toAddCommGroup.{u1} Œ≤ _inst_6)))))) (SMulWithZero.toSMulZeroClass.{0, u1} Real Œ≤ Real.instZeroReal (NegZeroClass.toZero.{u1} Œ≤ (SubNegZeroMonoid.toNegZeroClass.{u1} Œ≤ (SubtractionMonoid.toSubNegZeroMonoid.{u1} Œ≤ (SubtractionCommMonoid.toSubtractionMonoid.{u1} Œ≤ (AddCommGroup.toDivisionAddCommMonoid.{u1} Œ≤ (OrderedAddCommGroup.toAddCommGroup.{u1} Œ≤ _inst_6)))))) (MulActionWithZero.toSMulWithZero.{0, u1} Real Œ≤ Real.instMonoidWithZeroReal (NegZeroClass.toZero.{u1} Œ≤ (SubNegZeroMonoid.toNegZeroClass.{u1} Œ≤ (SubtractionMonoid.toSubNegZeroMonoid.{u1} Œ≤ (SubtractionCommMonoid.toSubtractionMonoid.{u1} Œ≤ (AddCommGroup.toDivisionAddCommMonoid.{u1} Œ≤ (OrderedAddCommGroup.toAddCommGroup.{u1} Œ≤ _inst_6)))))) (Module.toMulActionWithZero.{0, u1} Real Œ≤ Real.semiring (OrderedCancelAddCommMonoid.toAddCommMonoid.{u1} Œ≤ (OrderedAddCommGroup.toOrderedCancelAddCommMonoid.{u1} Œ≤ _inst_6)) _inst_7)))) s f) -> (IsMinOn.{u2, u1} E Œ≤ (PartialOrder.toPreorder.{u1} Œ≤ (OrderedAddCommGroup.toPartialOrder.{u1} Œ≤ _inst_6)) f s a)
Case conversion may be inaccurate. Consider using '#align is_min_on.of_is_local_min_on_of_convex_on IsMinOn.of_isLocalMinOn_of_convexOn‚Çì'. -/
/-- A local minimum of a convex function is a global minimum, restricted to a set `s`.
-/
theorem IsMinOn.of_isLocalMinOn_of_convexOn {f : E ‚Üí Œ≤} {a : E} (a_in_s : a ‚àà s)
    (h_localmin : IsLocalMinOn f s a) (h_conv : ConvexOn ‚Ñù s f) : IsMinOn f s a :=
  by
  intro x x_in_s
  let g : ‚Ñù ‚Üí·µÉ[‚Ñù] E := AffineMap.lineMap a x
  have hg0 : g 0 = a := AffineMap.lineMap_apply_zero a x
  have hg1 : g 1 = x := AffineMap.lineMap_apply_one a x
  have hgc : Continuous g := AffineMap.lineMap_continuous
  have h_maps : maps_to g (Icc 0 1) s := by
    simpa only [maps_to', ‚Üê segment_eq_image_lineMap] using h_conv.1.segment_subset a_in_s x_in_s
  have fg_local_min_on : IsLocalMinOn (f ‚àò g) (Icc 0 1) 0 :=
    by
    rw [‚Üê hg0] at h_localmin
    exact h_localmin.comp_continuous_on h_maps hgc.continuous_on (left_mem_Icc.2 zero_le_one)
  have fg_min_on : IsMinOn (f ‚àò g) (Icc 0 1 : Set ‚Ñù) 0 :=
    by
    refine' IsMinOn.of_isLocalMinOn_of_convexOn_Icc one_pos fg_local_min_on _
    exact (h_conv.comp_affine_map g).Subset h_maps (convex_Icc 0 1)
  simpa only [hg0, hg1, comp_app, mem_set_of_eq] using fg_min_on (right_mem_Icc.2 zero_le_one)
#align is_min_on.of_is_local_min_on_of_convex_on IsMinOn.of_isLocalMinOn_of_convexOn

/- warning: is_max_on.of_is_local_max_on_of_concave_on -> IsMaxOn.of_isLocalMaxOn_of_concaveOn is a dubious translation:
lean 3 declaration is
  forall {E : Type.{u1}} {Œ≤ : Type.{u2}} [_inst_1 : AddCommGroup.{u1} E] [_inst_2 : TopologicalSpace.{u1} E] [_inst_3 : Module.{0, u1} Real E Real.semiring (AddCommGroup.toAddCommMonoid.{u1} E _inst_1)] [_inst_4 : TopologicalAddGroup.{u1} E _inst_2 (AddCommGroup.toAddGroup.{u1} E _inst_1)] [_inst_5 : ContinuousSMul.{0, u1} Real E (SMulZeroClass.toHasSmul.{0, u1} Real E (AddZeroClass.toHasZero.{u1} E (AddMonoid.toAddZeroClass.{u1} E (AddCommMonoid.toAddMonoid.{u1} E (AddCommGroup.toAddCommMonoid.{u1} E _inst_1)))) (SMulWithZero.toSmulZeroClass.{0, u1} Real E (MulZeroClass.toHasZero.{0} Real (MulZeroOneClass.toMulZeroClass.{0} Real (MonoidWithZero.toMulZeroOneClass.{0} Real (Semiring.toMonoidWithZero.{0} Real Real.semiring)))) (AddZeroClass.toHasZero.{u1} E (AddMonoid.toAddZeroClass.{u1} E (AddCommMonoid.toAddMonoid.{u1} E (AddCommGroup.toAddCommMonoid.{u1} E _inst_1)))) (MulActionWithZero.toSMulWithZero.{0, u1} Real E (Semiring.toMonoidWithZero.{0} Real Real.semiring) (AddZeroClass.toHasZero.{u1} E (AddMonoid.toAddZeroClass.{u1} E (AddCommMonoid.toAddMonoid.{u1} E (AddCommGroup.toAddCommMonoid.{u1} E _inst_1)))) (Module.toMulActionWithZero.{0, u1} Real E Real.semiring (AddCommGroup.toAddCommMonoid.{u1} E _inst_1) _inst_3)))) (UniformSpace.toTopologicalSpace.{0} Real (PseudoMetricSpace.toUniformSpace.{0} Real Real.pseudoMetricSpace)) _inst_2] [_inst_6 : OrderedAddCommGroup.{u2} Œ≤] [_inst_7 : Module.{0, u2} Real Œ≤ Real.semiring (AddCommGroup.toAddCommMonoid.{u2} Œ≤ (OrderedAddCommGroup.toAddCommGroup.{u2} Œ≤ _inst_6))] [_inst_8 : OrderedSMul.{0, u2} Real Œ≤ Real.orderedSemiring (OrderedCancelAddCommMonoid.toOrderedAddCommMonoid.{u2} Œ≤ (OrderedAddCommGroup.toOrderedCancelAddCommMonoid.{u2} Œ≤ _inst_6)) (MulActionWithZero.toSMulWithZero.{0, u2} Real Œ≤ Real.monoidWithZero (AddZeroClass.toHasZero.{u2} Œ≤ (AddMonoid.toAddZeroClass.{u2} Œ≤ (AddCommMonoid.toAddMonoid.{u2} Œ≤ (OrderedAddCommMonoid.toAddCommMonoid.{u2} Œ≤ (OrderedCancelAddCommMonoid.toOrderedAddCommMonoid.{u2} Œ≤ (OrderedAddCommGroup.toOrderedCancelAddCommMonoid.{u2} Œ≤ _inst_6)))))) (Module.toMulActionWithZero.{0, u2} Real Œ≤ Real.semiring (AddCommGroup.toAddCommMonoid.{u2} Œ≤ (OrderedAddCommGroup.toAddCommGroup.{u2} Œ≤ _inst_6)) _inst_7))] {s : Set.{u1} E} {f : E -> Œ≤} {a : E}, (Membership.Mem.{u1, u1} E (Set.{u1} E) (Set.hasMem.{u1} E) a s) -> (IsLocalMaxOn.{u1, u2} E Œ≤ _inst_2 (PartialOrder.toPreorder.{u2} Œ≤ (OrderedAddCommGroup.toPartialOrder.{u2} Œ≤ _inst_6)) f s a) -> (ConcaveOn.{0, u1, u2} Real E Œ≤ Real.orderedSemiring (AddCommGroup.toAddCommMonoid.{u1} E _inst_1) (OrderedCancelAddCommMonoid.toOrderedAddCommMonoid.{u2} Œ≤ (OrderedAddCommGroup.toOrderedCancelAddCommMonoid.{u2} Œ≤ _inst_6)) (SMulZeroClass.toHasSmul.{0, u1} Real E (AddZeroClass.toHasZero.{u1} E (AddMonoid.toAddZeroClass.{u1} E (AddCommMonoid.toAddMonoid.{u1} E (AddCommGroup.toAddCommMonoid.{u1} E _inst_1)))) (SMulWithZero.toSmulZeroClass.{0, u1} Real E (MulZeroClass.toHasZero.{0} Real (MulZeroOneClass.toMulZeroClass.{0} Real (MonoidWithZero.toMulZeroOneClass.{0} Real (Semiring.toMonoidWithZero.{0} Real Real.semiring)))) (AddZeroClass.toHasZero.{u1} E (AddMonoid.toAddZeroClass.{u1} E (AddCommMonoid.toAddMonoid.{u1} E (AddCommGroup.toAddCommMonoid.{u1} E _inst_1)))) (MulActionWithZero.toSMulWithZero.{0, u1} Real E (Semiring.toMonoidWithZero.{0} Real Real.semiring) (AddZeroClass.toHasZero.{u1} E (AddMonoid.toAddZeroClass.{u1} E (AddCommMonoid.toAddMonoid.{u1} E (AddCommGroup.toAddCommMonoid.{u1} E _inst_1)))) (Module.toMulActionWithZero.{0, u1} Real E Real.semiring (AddCommGroup.toAddCommMonoid.{u1} E _inst_1) _inst_3)))) (SMulZeroClass.toHasSmul.{0, u2} Real Œ≤ (AddZeroClass.toHasZero.{u2} Œ≤ (AddMonoid.toAddZeroClass.{u2} Œ≤ (AddCommMonoid.toAddMonoid.{u2} Œ≤ (AddCommGroup.toAddCommMonoid.{u2} Œ≤ (OrderedAddCommGroup.toAddCommGroup.{u2} Œ≤ _inst_6))))) (SMulWithZero.toSmulZeroClass.{0, u2} Real Œ≤ (MulZeroClass.toHasZero.{0} Real (MulZeroOneClass.toMulZeroClass.{0} Real (MonoidWithZero.toMulZeroOneClass.{0} Real (Semiring.toMonoidWithZero.{0} Real Real.semiring)))) (AddZeroClass.toHasZero.{u2} Œ≤ (AddMonoid.toAddZeroClass.{u2} Œ≤ (AddCommMonoid.toAddMonoid.{u2} Œ≤ (AddCommGroup.toAddCommMonoid.{u2} Œ≤ (OrderedAddCommGroup.toAddCommGroup.{u2} Œ≤ _inst_6))))) (MulActionWithZero.toSMulWithZero.{0, u2} Real Œ≤ (Semiring.toMonoidWithZero.{0} Real Real.semiring) (AddZeroClass.toHasZero.{u2} Œ≤ (AddMonoid.toAddZeroClass.{u2} Œ≤ (AddCommMonoid.toAddMonoid.{u2} Œ≤ (AddCommGroup.toAddCommMonoid.{u2} Œ≤ (OrderedAddCommGroup.toAddCommGroup.{u2} Œ≤ _inst_6))))) (Module.toMulActionWithZero.{0, u2} Real Œ≤ Real.semiring (AddCommGroup.toAddCommMonoid.{u2} Œ≤ (OrderedAddCommGroup.toAddCommGroup.{u2} Œ≤ _inst_6)) _inst_7)))) s f) -> (IsMaxOn.{u1, u2} E Œ≤ (PartialOrder.toPreorder.{u2} Œ≤ (OrderedAddCommGroup.toPartialOrder.{u2} Œ≤ _inst_6)) f s a)
but is expected to have type
  forall {E : Type.{u2}} {Œ≤ : Type.{u1}} [_inst_1 : AddCommGroup.{u2} E] [_inst_2 : TopologicalSpace.{u2} E] [_inst_3 : Module.{0, u2} Real E Real.semiring (AddCommGroup.toAddCommMonoid.{u2} E _inst_1)] [_inst_4 : TopologicalAddGroup.{u2} E _inst_2 (AddCommGroup.toAddGroup.{u2} E _inst_1)] [_inst_5 : ContinuousSMul.{0, u2} Real E (SMulZeroClass.toSMul.{0, u2} Real E (NegZeroClass.toZero.{u2} E (SubNegZeroMonoid.toNegZeroClass.{u2} E (SubtractionMonoid.toSubNegZeroMonoid.{u2} E (SubtractionCommMonoid.toSubtractionMonoid.{u2} E (AddCommGroup.toDivisionAddCommMonoid.{u2} E _inst_1))))) (SMulWithZero.toSMulZeroClass.{0, u2} Real E Real.instZeroReal (NegZeroClass.toZero.{u2} E (SubNegZeroMonoid.toNegZeroClass.{u2} E (SubtractionMonoid.toSubNegZeroMonoid.{u2} E (SubtractionCommMonoid.toSubtractionMonoid.{u2} E (AddCommGroup.toDivisionAddCommMonoid.{u2} E _inst_1))))) (MulActionWithZero.toSMulWithZero.{0, u2} Real E Real.instMonoidWithZeroReal (NegZeroClass.toZero.{u2} E (SubNegZeroMonoid.toNegZeroClass.{u2} E (SubtractionMonoid.toSubNegZeroMonoid.{u2} E (SubtractionCommMonoid.toSubtractionMonoid.{u2} E (AddCommGroup.toDivisionAddCommMonoid.{u2} E _inst_1))))) (Module.toMulActionWithZero.{0, u2} Real E Real.semiring (AddCommGroup.toAddCommMonoid.{u2} E _inst_1) _inst_3)))) (UniformSpace.toTopologicalSpace.{0} Real (PseudoMetricSpace.toUniformSpace.{0} Real Real.pseudoMetricSpace)) _inst_2] [_inst_6 : OrderedAddCommGroup.{u1} Œ≤] [_inst_7 : Module.{0, u1} Real Œ≤ Real.semiring (OrderedCancelAddCommMonoid.toAddCommMonoid.{u1} Œ≤ (OrderedAddCommGroup.toOrderedCancelAddCommMonoid.{u1} Œ≤ _inst_6))] [_inst_8 : OrderedSMul.{0, u1} Real Œ≤ Real.orderedSemiring (OrderedCancelAddCommMonoid.toOrderedAddCommMonoid.{u1} Œ≤ (OrderedAddCommGroup.toOrderedCancelAddCommMonoid.{u1} Œ≤ _inst_6)) (MulActionWithZero.toSMulWithZero.{0, u1} Real Œ≤ Real.instMonoidWithZeroReal (AddMonoid.toZero.{u1} Œ≤ (AddCommMonoid.toAddMonoid.{u1} Œ≤ (OrderedAddCommMonoid.toAddCommMonoid.{u1} Œ≤ (OrderedCancelAddCommMonoid.toOrderedAddCommMonoid.{u1} Œ≤ (OrderedAddCommGroup.toOrderedCancelAddCommMonoid.{u1} Œ≤ _inst_6))))) (Module.toMulActionWithZero.{0, u1} Real Œ≤ Real.semiring (OrderedCancelAddCommMonoid.toAddCommMonoid.{u1} Œ≤ (OrderedAddCommGroup.toOrderedCancelAddCommMonoid.{u1} Œ≤ _inst_6)) _inst_7))] {s : Set.{u2} E} {f : E -> Œ≤} {a : E}, (Membership.mem.{u2, u2} E (Set.{u2} E) (Set.instMembershipSet.{u2} E) a s) -> (IsLocalMaxOn.{u2, u1} E Œ≤ _inst_2 (PartialOrder.toPreorder.{u1} Œ≤ (OrderedAddCommGroup.toPartialOrder.{u1} Œ≤ _inst_6)) f s a) -> (ConcaveOn.{0, u2, u1} Real E Œ≤ Real.orderedSemiring (AddCommGroup.toAddCommMonoid.{u2} E _inst_1) (OrderedCancelAddCommMonoid.toOrderedAddCommMonoid.{u1} Œ≤ (OrderedAddCommGroup.toOrderedCancelAddCommMonoid.{u1} Œ≤ _inst_6)) (SMulZeroClass.toSMul.{0, u2} Real E (NegZeroClass.toZero.{u2} E (SubNegZeroMonoid.toNegZeroClass.{u2} E (SubtractionMonoid.toSubNegZeroMonoid.{u2} E (SubtractionCommMonoid.toSubtractionMonoid.{u2} E (AddCommGroup.toDivisionAddCommMonoid.{u2} E _inst_1))))) (SMulWithZero.toSMulZeroClass.{0, u2} Real E Real.instZeroReal (NegZeroClass.toZero.{u2} E (SubNegZeroMonoid.toNegZeroClass.{u2} E (SubtractionMonoid.toSubNegZeroMonoid.{u2} E (SubtractionCommMonoid.toSubtractionMonoid.{u2} E (AddCommGroup.toDivisionAddCommMonoid.{u2} E _inst_1))))) (MulActionWithZero.toSMulWithZero.{0, u2} Real E Real.instMonoidWithZeroReal (NegZeroClass.toZero.{u2} E (SubNegZeroMonoid.toNegZeroClass.{u2} E (SubtractionMonoid.toSubNegZeroMonoid.{u2} E (SubtractionCommMonoid.toSubtractionMonoid.{u2} E (AddCommGroup.toDivisionAddCommMonoid.{u2} E _inst_1))))) (Module.toMulActionWithZero.{0, u2} Real E Real.semiring (AddCommGroup.toAddCommMonoid.{u2} E _inst_1) _inst_3)))) (SMulZeroClass.toSMul.{0, u1} Real Œ≤ (NegZeroClass.toZero.{u1} Œ≤ (SubNegZeroMonoid.toNegZeroClass.{u1} Œ≤ (SubtractionMonoid.toSubNegZeroMonoid.{u1} Œ≤ (SubtractionCommMonoid.toSubtractionMonoid.{u1} Œ≤ (AddCommGroup.toDivisionAddCommMonoid.{u1} Œ≤ (OrderedAddCommGroup.toAddCommGroup.{u1} Œ≤ _inst_6)))))) (SMulWithZero.toSMulZeroClass.{0, u1} Real Œ≤ Real.instZeroReal (NegZeroClass.toZero.{u1} Œ≤ (SubNegZeroMonoid.toNegZeroClass.{u1} Œ≤ (SubtractionMonoid.toSubNegZeroMonoid.{u1} Œ≤ (SubtractionCommMonoid.toSubtractionMonoid.{u1} Œ≤ (AddCommGroup.toDivisionAddCommMonoid.{u1} Œ≤ (OrderedAddCommGroup.toAddCommGroup.{u1} Œ≤ _inst_6)))))) (MulActionWithZero.toSMulWithZero.{0, u1} Real Œ≤ Real.instMonoidWithZeroReal (NegZeroClass.toZero.{u1} Œ≤ (SubNegZeroMonoid.toNegZeroClass.{u1} Œ≤ (SubtractionMonoid.toSubNegZeroMonoid.{u1} Œ≤ (SubtractionCommMonoid.toSubtractionMonoid.{u1} Œ≤ (AddCommGroup.toDivisionAddCommMonoid.{u1} Œ≤ (OrderedAddCommGroup.toAddCommGroup.{u1} Œ≤ _inst_6)))))) (Module.toMulActionWithZero.{0, u1} Real Œ≤ Real.semiring (OrderedCancelAddCommMonoid.toAddCommMonoid.{u1} Œ≤ (OrderedAddCommGroup.toOrderedCancelAddCommMonoid.{u1} Œ≤ _inst_6)) _inst_7)))) s f) -> (IsMaxOn.{u2, u1} E Œ≤ (PartialOrder.toPreorder.{u1} Œ≤ (OrderedAddCommGroup.toPartialOrder.{u1} Œ≤ _inst_6)) f s a)
Case conversion may be inaccurate. Consider using '#align is_max_on.of_is_local_max_on_of_concave_on IsMaxOn.of_isLocalMaxOn_of_concaveOn‚Çì'. -/
/-- A local maximum of a concave function is a global maximum, restricted to a set `s`. -/
theorem IsMaxOn.of_isLocalMaxOn_of_concaveOn {f : E ‚Üí Œ≤} {a : E} (a_in_s : a ‚àà s)
    (h_localmax : IsLocalMaxOn f s a) (h_conc : ConcaveOn ‚Ñù s f) : IsMaxOn f s a :=
  @IsMinOn.of_isLocalMinOn_of_convexOn _ Œ≤·µí·µà _ _ _ _ _ _ _ _ s f a a_in_s h_localmax h_conc
#align is_max_on.of_is_local_max_on_of_concave_on IsMaxOn.of_isLocalMaxOn_of_concaveOn

/- warning: is_min_on.of_is_local_min_of_convex_univ -> IsMinOn.of_isLocalMin_of_convex_univ is a dubious translation:
lean 3 declaration is
  forall {E : Type.{u1}} {Œ≤ : Type.{u2}} [_inst_1 : AddCommGroup.{u1} E] [_inst_2 : TopologicalSpace.{u1} E] [_inst_3 : Module.{0, u1} Real E Real.semiring (AddCommGroup.toAddCommMonoid.{u1} E _inst_1)] [_inst_4 : TopologicalAddGroup.{u1} E _inst_2 (AddCommGroup.toAddGroup.{u1} E _inst_1)] [_inst_5 : ContinuousSMul.{0, u1} Real E (SMulZeroClass.toHasSmul.{0, u1} Real E (AddZeroClass.toHasZero.{u1} E (AddMonoid.toAddZeroClass.{u1} E (AddCommMonoid.toAddMonoid.{u1} E (AddCommGroup.toAddCommMonoid.{u1} E _inst_1)))) (SMulWithZero.toSmulZeroClass.{0, u1} Real E (MulZeroClass.toHasZero.{0} Real (MulZeroOneClass.toMulZeroClass.{0} Real (MonoidWithZero.toMulZeroOneClass.{0} Real (Semiring.toMonoidWithZero.{0} Real Real.semiring)))) (AddZeroClass.toHasZero.{u1} E (AddMonoid.toAddZeroClass.{u1} E (AddCommMonoid.toAddMonoid.{u1} E (AddCommGroup.toAddCommMonoid.{u1} E _inst_1)))) (MulActionWithZero.toSMulWithZero.{0, u1} Real E (Semiring.toMonoidWithZero.{0} Real Real.semiring) (AddZeroClass.toHasZero.{u1} E (AddMonoid.toAddZeroClass.{u1} E (AddCommMonoid.toAddMonoid.{u1} E (AddCommGroup.toAddCommMonoid.{u1} E _inst_1)))) (Module.toMulActionWithZero.{0, u1} Real E Real.semiring (AddCommGroup.toAddCommMonoid.{u1} E _inst_1) _inst_3)))) (UniformSpace.toTopologicalSpace.{0} Real (PseudoMetricSpace.toUniformSpace.{0} Real Real.pseudoMetricSpace)) _inst_2] [_inst_6 : OrderedAddCommGroup.{u2} Œ≤] [_inst_7 : Module.{0, u2} Real Œ≤ Real.semiring (AddCommGroup.toAddCommMonoid.{u2} Œ≤ (OrderedAddCommGroup.toAddCommGroup.{u2} Œ≤ _inst_6))] [_inst_8 : OrderedSMul.{0, u2} Real Œ≤ Real.orderedSemiring (OrderedCancelAddCommMonoid.toOrderedAddCommMonoid.{u2} Œ≤ (OrderedAddCommGroup.toOrderedCancelAddCommMonoid.{u2} Œ≤ _inst_6)) (MulActionWithZero.toSMulWithZero.{0, u2} Real Œ≤ Real.monoidWithZero (AddZeroClass.toHasZero.{u2} Œ≤ (AddMonoid.toAddZeroClass.{u2} Œ≤ (AddCommMonoid.toAddMonoid.{u2} Œ≤ (OrderedAddCommMonoid.toAddCommMonoid.{u2} Œ≤ (OrderedCancelAddCommMonoid.toOrderedAddCommMonoid.{u2} Œ≤ (OrderedAddCommGroup.toOrderedCancelAddCommMonoid.{u2} Œ≤ _inst_6)))))) (Module.toMulActionWithZero.{0, u2} Real Œ≤ Real.semiring (AddCommGroup.toAddCommMonoid.{u2} Œ≤ (OrderedAddCommGroup.toAddCommGroup.{u2} Œ≤ _inst_6)) _inst_7))] {f : E -> Œ≤} {a : E}, (IsLocalMin.{u1, u2} E Œ≤ _inst_2 (PartialOrder.toPreorder.{u2} Œ≤ (OrderedAddCommGroup.toPartialOrder.{u2} Œ≤ _inst_6)) f a) -> (ConvexOn.{0, u1, u2} Real E Œ≤ Real.orderedSemiring (AddCommGroup.toAddCommMonoid.{u1} E _inst_1) (OrderedCancelAddCommMonoid.toOrderedAddCommMonoid.{u2} Œ≤ (OrderedAddCommGroup.toOrderedCancelAddCommMonoid.{u2} Œ≤ _inst_6)) (SMulZeroClass.toHasSmul.{0, u1} Real E (AddZeroClass.toHasZero.{u1} E (AddMonoid.toAddZeroClass.{u1} E (AddCommMonoid.toAddMonoid.{u1} E (AddCommGroup.toAddCommMonoid.{u1} E _inst_1)))) (SMulWithZero.toSmulZeroClass.{0, u1} Real E (MulZeroClass.toHasZero.{0} Real (MulZeroOneClass.toMulZeroClass.{0} Real (MonoidWithZero.toMulZeroOneClass.{0} Real (Semiring.toMonoidWithZero.{0} Real Real.semiring)))) (AddZeroClass.toHasZero.{u1} E (AddMonoid.toAddZeroClass.{u1} E (AddCommMonoid.toAddMonoid.{u1} E (AddCommGroup.toAddCommMonoid.{u1} E _inst_1)))) (MulActionWithZero.toSMulWithZero.{0, u1} Real E (Semiring.toMonoidWithZero.{0} Real Real.semiring) (AddZeroClass.toHasZero.{u1} E (AddMonoid.toAddZeroClass.{u1} E (AddCommMonoid.toAddMonoid.{u1} E (AddCommGroup.toAddCommMonoid.{u1} E _inst_1)))) (Module.toMulActionWithZero.{0, u1} Real E Real.semiring (AddCommGroup.toAddCommMonoid.{u1} E _inst_1) _inst_3)))) (SMulZeroClass.toHasSmul.{0, u2} Real Œ≤ (AddZeroClass.toHasZero.{u2} Œ≤ (AddMonoid.toAddZeroClass.{u2} Œ≤ (AddCommMonoid.toAddMonoid.{u2} Œ≤ (AddCommGroup.toAddCommMonoid.{u2} Œ≤ (OrderedAddCommGroup.toAddCommGroup.{u2} Œ≤ _inst_6))))) (SMulWithZero.toSmulZeroClass.{0, u2} Real Œ≤ (MulZeroClass.toHasZero.{0} Real (MulZeroOneClass.toMulZeroClass.{0} Real (MonoidWithZero.toMulZeroOneClass.{0} Real (Semiring.toMonoidWithZero.{0} Real Real.semiring)))) (AddZeroClass.toHasZero.{u2} Œ≤ (AddMonoid.toAddZeroClass.{u2} Œ≤ (AddCommMonoid.toAddMonoid.{u2} Œ≤ (AddCommGroup.toAddCommMonoid.{u2} Œ≤ (OrderedAddCommGroup.toAddCommGroup.{u2} Œ≤ _inst_6))))) (MulActionWithZero.toSMulWithZero.{0, u2} Real Œ≤ (Semiring.toMonoidWithZero.{0} Real Real.semiring) (AddZeroClass.toHasZero.{u2} Œ≤ (AddMonoid.toAddZeroClass.{u2} Œ≤ (AddCommMonoid.toAddMonoid.{u2} Œ≤ (AddCommGroup.toAddCommMonoid.{u2} Œ≤ (OrderedAddCommGroup.toAddCommGroup.{u2} Œ≤ _inst_6))))) (Module.toMulActionWithZero.{0, u2} Real Œ≤ Real.semiring (AddCommGroup.toAddCommMonoid.{u2} Œ≤ (OrderedAddCommGroup.toAddCommGroup.{u2} Œ≤ _inst_6)) _inst_7)))) (Set.univ.{u1} E) f) -> (forall (x : E), LE.le.{u2} Œ≤ (Preorder.toLE.{u2} Œ≤ (PartialOrder.toPreorder.{u2} Œ≤ (OrderedAddCommGroup.toPartialOrder.{u2} Œ≤ _inst_6))) (f a) (f x))
but is expected to have type
  forall {E : Type.{u2}} {Œ≤ : Type.{u1}} [_inst_1 : AddCommGroup.{u2} E] [_inst_2 : TopologicalSpace.{u2} E] [_inst_3 : Module.{0, u2} Real E Real.semiring (AddCommGroup.toAddCommMonoid.{u2} E _inst_1)] [_inst_4 : TopologicalAddGroup.{u2} E _inst_2 (AddCommGroup.toAddGroup.{u2} E _inst_1)] [_inst_5 : ContinuousSMul.{0, u2} Real E (SMulZeroClass.toSMul.{0, u2} Real E (NegZeroClass.toZero.{u2} E (SubNegZeroMonoid.toNegZeroClass.{u2} E (SubtractionMonoid.toSubNegZeroMonoid.{u2} E (SubtractionCommMonoid.toSubtractionMonoid.{u2} E (AddCommGroup.toDivisionAddCommMonoid.{u2} E _inst_1))))) (SMulWithZero.toSMulZeroClass.{0, u2} Real E Real.instZeroReal (NegZeroClass.toZero.{u2} E (SubNegZeroMonoid.toNegZeroClass.{u2} E (SubtractionMonoid.toSubNegZeroMonoid.{u2} E (SubtractionCommMonoid.toSubtractionMonoid.{u2} E (AddCommGroup.toDivisionAddCommMonoid.{u2} E _inst_1))))) (MulActionWithZero.toSMulWithZero.{0, u2} Real E Real.instMonoidWithZeroReal (NegZeroClass.toZero.{u2} E (SubNegZeroMonoid.toNegZeroClass.{u2} E (SubtractionMonoid.toSubNegZeroMonoid.{u2} E (SubtractionCommMonoid.toSubtractionMonoid.{u2} E (AddCommGroup.toDivisionAddCommMonoid.{u2} E _inst_1))))) (Module.toMulActionWithZero.{0, u2} Real E Real.semiring (AddCommGroup.toAddCommMonoid.{u2} E _inst_1) _inst_3)))) (UniformSpace.toTopologicalSpace.{0} Real (PseudoMetricSpace.toUniformSpace.{0} Real Real.pseudoMetricSpace)) _inst_2] [_inst_6 : OrderedAddCommGroup.{u1} Œ≤] [_inst_7 : Module.{0, u1} Real Œ≤ Real.semiring (OrderedCancelAddCommMonoid.toAddCommMonoid.{u1} Œ≤ (OrderedAddCommGroup.toOrderedCancelAddCommMonoid.{u1} Œ≤ _inst_6))] [_inst_8 : OrderedSMul.{0, u1} Real Œ≤ Real.orderedSemiring (OrderedCancelAddCommMonoid.toOrderedAddCommMonoid.{u1} Œ≤ (OrderedAddCommGroup.toOrderedCancelAddCommMonoid.{u1} Œ≤ _inst_6)) (MulActionWithZero.toSMulWithZero.{0, u1} Real Œ≤ Real.instMonoidWithZeroReal (AddMonoid.toZero.{u1} Œ≤ (AddCommMonoid.toAddMonoid.{u1} Œ≤ (OrderedAddCommMonoid.toAddCommMonoid.{u1} Œ≤ (OrderedCancelAddCommMonoid.toOrderedAddCommMonoid.{u1} Œ≤ (OrderedAddCommGroup.toOrderedCancelAddCommMonoid.{u1} Œ≤ _inst_6))))) (Module.toMulActionWithZero.{0, u1} Real Œ≤ Real.semiring (OrderedCancelAddCommMonoid.toAddCommMonoid.{u1} Œ≤ (OrderedAddCommGroup.toOrderedCancelAddCommMonoid.{u1} Œ≤ _inst_6)) _inst_7))] {f : E -> Œ≤} {a : E}, (IsLocalMin.{u2, u1} E Œ≤ _inst_2 (PartialOrder.toPreorder.{u1} Œ≤ (OrderedAddCommGroup.toPartialOrder.{u1} Œ≤ _inst_6)) f a) -> (ConvexOn.{0, u2, u1} Real E Œ≤ Real.orderedSemiring (AddCommGroup.toAddCommMonoid.{u2} E _inst_1) (OrderedCancelAddCommMonoid.toOrderedAddCommMonoid.{u1} Œ≤ (OrderedAddCommGroup.toOrderedCancelAddCommMonoid.{u1} Œ≤ _inst_6)) (SMulZeroClass.toSMul.{0, u2} Real E (NegZeroClass.toZero.{u2} E (SubNegZeroMonoid.toNegZeroClass.{u2} E (SubtractionMonoid.toSubNegZeroMonoid.{u2} E (SubtractionCommMonoid.toSubtractionMonoid.{u2} E (AddCommGroup.toDivisionAddCommMonoid.{u2} E _inst_1))))) (SMulWithZero.toSMulZeroClass.{0, u2} Real E Real.instZeroReal (NegZeroClass.toZero.{u2} E (SubNegZeroMonoid.toNegZeroClass.{u2} E (SubtractionMonoid.toSubNegZeroMonoid.{u2} E (SubtractionCommMonoid.toSubtractionMonoid.{u2} E (AddCommGroup.toDivisionAddCommMonoid.{u2} E _inst_1))))) (MulActionWithZero.toSMulWithZero.{0, u2} Real E Real.instMonoidWithZeroReal (NegZeroClass.toZero.{u2} E (SubNegZeroMonoid.toNegZeroClass.{u2} E (SubtractionMonoid.toSubNegZeroMonoid.{u2} E (SubtractionCommMonoid.toSubtractionMonoid.{u2} E (AddCommGroup.toDivisionAddCommMonoid.{u2} E _inst_1))))) (Module.toMulActionWithZero.{0, u2} Real E Real.semiring (AddCommGroup.toAddCommMonoid.{u2} E _inst_1) _inst_3)))) (SMulZeroClass.toSMul.{0, u1} Real Œ≤ (NegZeroClass.toZero.{u1} Œ≤ (SubNegZeroMonoid.toNegZeroClass.{u1} Œ≤ (SubtractionMonoid.toSubNegZeroMonoid.{u1} Œ≤ (SubtractionCommMonoid.toSubtractionMonoid.{u1} Œ≤ (AddCommGroup.toDivisionAddCommMonoid.{u1} Œ≤ (OrderedAddCommGroup.toAddCommGroup.{u1} Œ≤ _inst_6)))))) (SMulWithZero.toSMulZeroClass.{0, u1} Real Œ≤ Real.instZeroReal (NegZeroClass.toZero.{u1} Œ≤ (SubNegZeroMonoid.toNegZeroClass.{u1} Œ≤ (SubtractionMonoid.toSubNegZeroMonoid.{u1} Œ≤ (SubtractionCommMonoid.toSubtractionMonoid.{u1} Œ≤ (AddCommGroup.toDivisionAddCommMonoid.{u1} Œ≤ (OrderedAddCommGroup.toAddCommGroup.{u1} Œ≤ _inst_6)))))) (MulActionWithZero.toSMulWithZero.{0, u1} Real Œ≤ Real.instMonoidWithZeroReal (NegZeroClass.toZero.{u1} Œ≤ (SubNegZeroMonoid.toNegZeroClass.{u1} Œ≤ (SubtractionMonoid.toSubNegZeroMonoid.{u1} Œ≤ (SubtractionCommMonoid.toSubtractionMonoid.{u1} Œ≤ (AddCommGroup.toDivisionAddCommMonoid.{u1} Œ≤ (OrderedAddCommGroup.toAddCommGroup.{u1} Œ≤ _inst_6)))))) (Module.toMulActionWithZero.{0, u1} Real Œ≤ Real.semiring (OrderedCancelAddCommMonoid.toAddCommMonoid.{u1} Œ≤ (OrderedAddCommGroup.toOrderedCancelAddCommMonoid.{u1} Œ≤ _inst_6)) _inst_7)))) (Set.univ.{u2} E) f) -> (forall (x : E), LE.le.{u1} Œ≤ (Preorder.toLE.{u1} Œ≤ (PartialOrder.toPreorder.{u1} Œ≤ (OrderedAddCommGroup.toPartialOrder.{u1} Œ≤ _inst_6))) (f a) (f x))
Case conversion may be inaccurate. Consider using '#align is_min_on.of_is_local_min_of_convex_univ IsMinOn.of_isLocalMin_of_convex_univ‚Çì'. -/
/-- A local minimum of a convex function is a global minimum. -/
theorem IsMinOn.of_isLocalMin_of_convex_univ {f : E ‚Üí Œ≤} {a : E} (h_local_min : IsLocalMin f a)
    (h_conv : ConvexOn ‚Ñù univ f) : ‚àÄ x, f a ‚â§ f x := fun x =>
  (IsMinOn.of_isLocalMinOn_of_convexOn (mem_univ a) (h_local_min.on univ) h_conv) (mem_univ x)
#align is_min_on.of_is_local_min_of_convex_univ IsMinOn.of_isLocalMin_of_convex_univ

/- warning: is_max_on.of_is_local_max_of_convex_univ -> IsMaxOn.of_isLocalMax_of_convex_univ is a dubious translation:
lean 3 declaration is
  forall {E : Type.{u1}} {Œ≤ : Type.{u2}} [_inst_1 : AddCommGroup.{u1} E] [_inst_2 : TopologicalSpace.{u1} E] [_inst_3 : Module.{0, u1} Real E Real.semiring (AddCommGroup.toAddCommMonoid.{u1} E _inst_1)] [_inst_4 : TopologicalAddGroup.{u1} E _inst_2 (AddCommGroup.toAddGroup.{u1} E _inst_1)] [_inst_5 : ContinuousSMul.{0, u1} Real E (SMulZeroClass.toHasSmul.{0, u1} Real E (AddZeroClass.toHasZero.{u1} E (AddMonoid.toAddZeroClass.{u1} E (AddCommMonoid.toAddMonoid.{u1} E (AddCommGroup.toAddCommMonoid.{u1} E _inst_1)))) (SMulWithZero.toSmulZeroClass.{0, u1} Real E (MulZeroClass.toHasZero.{0} Real (MulZeroOneClass.toMulZeroClass.{0} Real (MonoidWithZero.toMulZeroOneClass.{0} Real (Semiring.toMonoidWithZero.{0} Real Real.semiring)))) (AddZeroClass.toHasZero.{u1} E (AddMonoid.toAddZeroClass.{u1} E (AddCommMonoid.toAddMonoid.{u1} E (AddCommGroup.toAddCommMonoid.{u1} E _inst_1)))) (MulActionWithZero.toSMulWithZero.{0, u1} Real E (Semiring.toMonoidWithZero.{0} Real Real.semiring) (AddZeroClass.toHasZero.{u1} E (AddMonoid.toAddZeroClass.{u1} E (AddCommMonoid.toAddMonoid.{u1} E (AddCommGroup.toAddCommMonoid.{u1} E _inst_1)))) (Module.toMulActionWithZero.{0, u1} Real E Real.semiring (AddCommGroup.toAddCommMonoid.{u1} E _inst_1) _inst_3)))) (UniformSpace.toTopologicalSpace.{0} Real (PseudoMetricSpace.toUniformSpace.{0} Real Real.pseudoMetricSpace)) _inst_2] [_inst_6 : OrderedAddCommGroup.{u2} Œ≤] [_inst_7 : Module.{0, u2} Real Œ≤ Real.semiring (AddCommGroup.toAddCommMonoid.{u2} Œ≤ (OrderedAddCommGroup.toAddCommGroup.{u2} Œ≤ _inst_6))] [_inst_8 : OrderedSMul.{0, u2} Real Œ≤ Real.orderedSemiring (OrderedCancelAddCommMonoid.toOrderedAddCommMonoid.{u2} Œ≤ (OrderedAddCommGroup.toOrderedCancelAddCommMonoid.{u2} Œ≤ _inst_6)) (MulActionWithZero.toSMulWithZero.{0, u2} Real Œ≤ Real.monoidWithZero (AddZeroClass.toHasZero.{u2} Œ≤ (AddMonoid.toAddZeroClass.{u2} Œ≤ (AddCommMonoid.toAddMonoid.{u2} Œ≤ (OrderedAddCommMonoid.toAddCommMonoid.{u2} Œ≤ (OrderedCancelAddCommMonoid.toOrderedAddCommMonoid.{u2} Œ≤ (OrderedAddCommGroup.toOrderedCancelAddCommMonoid.{u2} Œ≤ _inst_6)))))) (Module.toMulActionWithZero.{0, u2} Real Œ≤ Real.semiring (AddCommGroup.toAddCommMonoid.{u2} Œ≤ (OrderedAddCommGroup.toAddCommGroup.{u2} Œ≤ _inst_6)) _inst_7))] {f : E -> Œ≤} {a : E}, (IsLocalMax.{u1, u2} E Œ≤ _inst_2 (PartialOrder.toPreorder.{u2} Œ≤ (OrderedAddCommGroup.toPartialOrder.{u2} Œ≤ _inst_6)) f a) -> (ConcaveOn.{0, u1, u2} Real E Œ≤ Real.orderedSemiring (AddCommGroup.toAddCommMonoid.{u1} E _inst_1) (OrderedCancelAddCommMonoid.toOrderedAddCommMonoid.{u2} Œ≤ (OrderedAddCommGroup.toOrderedCancelAddCommMonoid.{u2} Œ≤ _inst_6)) (SMulZeroClass.toHasSmul.{0, u1} Real E (AddZeroClass.toHasZero.{u1} E (AddMonoid.toAddZeroClass.{u1} E (AddCommMonoid.toAddMonoid.{u1} E (AddCommGroup.toAddCommMonoid.{u1} E _inst_1)))) (SMulWithZero.toSmulZeroClass.{0, u1} Real E (MulZeroClass.toHasZero.{0} Real (MulZeroOneClass.toMulZeroClass.{0} Real (MonoidWithZero.toMulZeroOneClass.{0} Real (Semiring.toMonoidWithZero.{0} Real Real.semiring)))) (AddZeroClass.toHasZero.{u1} E (AddMonoid.toAddZeroClass.{u1} E (AddCommMonoid.toAddMonoid.{u1} E (AddCommGroup.toAddCommMonoid.{u1} E _inst_1)))) (MulActionWithZero.toSMulWithZero.{0, u1} Real E (Semiring.toMonoidWithZero.{0} Real Real.semiring) (AddZeroClass.toHasZero.{u1} E (AddMonoid.toAddZeroClass.{u1} E (AddCommMonoid.toAddMonoid.{u1} E (AddCommGroup.toAddCommMonoid.{u1} E _inst_1)))) (Module.toMulActionWithZero.{0, u1} Real E Real.semiring (AddCommGroup.toAddCommMonoid.{u1} E _inst_1) _inst_3)))) (SMulZeroClass.toHasSmul.{0, u2} Real Œ≤ (AddZeroClass.toHasZero.{u2} Œ≤ (AddMonoid.toAddZeroClass.{u2} Œ≤ (AddCommMonoid.toAddMonoid.{u2} Œ≤ (AddCommGroup.toAddCommMonoid.{u2} Œ≤ (OrderedAddCommGroup.toAddCommGroup.{u2} Œ≤ _inst_6))))) (SMulWithZero.toSmulZeroClass.{0, u2} Real Œ≤ (MulZeroClass.toHasZero.{0} Real (MulZeroOneClass.toMulZeroClass.{0} Real (MonoidWithZero.toMulZeroOneClass.{0} Real (Semiring.toMonoidWithZero.{0} Real Real.semiring)))) (AddZeroClass.toHasZero.{u2} Œ≤ (AddMonoid.toAddZeroClass.{u2} Œ≤ (AddCommMonoid.toAddMonoid.{u2} Œ≤ (AddCommGroup.toAddCommMonoid.{u2} Œ≤ (OrderedAddCommGroup.toAddCommGroup.{u2} Œ≤ _inst_6))))) (MulActionWithZero.toSMulWithZero.{0, u2} Real Œ≤ (Semiring.toMonoidWithZero.{0} Real Real.semiring) (AddZeroClass.toHasZero.{u2} Œ≤ (AddMonoid.toAddZeroClass.{u2} Œ≤ (AddCommMonoid.toAddMonoid.{u2} Œ≤ (AddCommGroup.toAddCommMonoid.{u2} Œ≤ (OrderedAddCommGroup.toAddCommGroup.{u2} Œ≤ _inst_6))))) (Module.toMulActionWithZero.{0, u2} Real Œ≤ Real.semiring (AddCommGroup.toAddCommMonoid.{u2} Œ≤ (OrderedAddCommGroup.toAddCommGroup.{u2} Œ≤ _inst_6)) _inst_7)))) (Set.univ.{u1} E) f) -> (forall (x : E), LE.le.{u2} Œ≤ (Preorder.toLE.{u2} Œ≤ (PartialOrder.toPreorder.{u2} Œ≤ (OrderedAddCommGroup.toPartialOrder.{u2} Œ≤ _inst_6))) (f x) (f a))
but is expected to have type
  forall {E : Type.{u2}} {Œ≤ : Type.{u1}} [_inst_1 : AddCommGroup.{u2} E] [_inst_2 : TopologicalSpace.{u2} E] [_inst_3 : Module.{0, u2} Real E Real.semiring (AddCommGroup.toAddCommMonoid.{u2} E _inst_1)] [_inst_4 : TopologicalAddGroup.{u2} E _inst_2 (AddCommGroup.toAddGroup.{u2} E _inst_1)] [_inst_5 : ContinuousSMul.{0, u2} Real E (SMulZeroClass.toSMul.{0, u2} Real E (NegZeroClass.toZero.{u2} E (SubNegZeroMonoid.toNegZeroClass.{u2} E (SubtractionMonoid.toSubNegZeroMonoid.{u2} E (SubtractionCommMonoid.toSubtractionMonoid.{u2} E (AddCommGroup.toDivisionAddCommMonoid.{u2} E _inst_1))))) (SMulWithZero.toSMulZeroClass.{0, u2} Real E Real.instZeroReal (NegZeroClass.toZero.{u2} E (SubNegZeroMonoid.toNegZeroClass.{u2} E (SubtractionMonoid.toSubNegZeroMonoid.{u2} E (SubtractionCommMonoid.toSubtractionMonoid.{u2} E (AddCommGroup.toDivisionAddCommMonoid.{u2} E _inst_1))))) (MulActionWithZero.toSMulWithZero.{0, u2} Real E Real.instMonoidWithZeroReal (NegZeroClass.toZero.{u2} E (SubNegZeroMonoid.toNegZeroClass.{u2} E (SubtractionMonoid.toSubNegZeroMonoid.{u2} E (SubtractionCommMonoid.toSubtractionMonoid.{u2} E (AddCommGroup.toDivisionAddCommMonoid.{u2} E _inst_1))))) (Module.toMulActionWithZero.{0, u2} Real E Real.semiring (AddCommGroup.toAddCommMonoid.{u2} E _inst_1) _inst_3)))) (UniformSpace.toTopologicalSpace.{0} Real (PseudoMetricSpace.toUniformSpace.{0} Real Real.pseudoMetricSpace)) _inst_2] [_inst_6 : OrderedAddCommGroup.{u1} Œ≤] [_inst_7 : Module.{0, u1} Real Œ≤ Real.semiring (OrderedCancelAddCommMonoid.toAddCommMonoid.{u1} Œ≤ (OrderedAddCommGroup.toOrderedCancelAddCommMonoid.{u1} Œ≤ _inst_6))] [_inst_8 : OrderedSMul.{0, u1} Real Œ≤ Real.orderedSemiring (OrderedCancelAddCommMonoid.toOrderedAddCommMonoid.{u1} Œ≤ (OrderedAddCommGroup.toOrderedCancelAddCommMonoid.{u1} Œ≤ _inst_6)) (MulActionWithZero.toSMulWithZero.{0, u1} Real Œ≤ Real.instMonoidWithZeroReal (AddMonoid.toZero.{u1} Œ≤ (AddCommMonoid.toAddMonoid.{u1} Œ≤ (OrderedAddCommMonoid.toAddCommMonoid.{u1} Œ≤ (OrderedCancelAddCommMonoid.toOrderedAddCommMonoid.{u1} Œ≤ (OrderedAddCommGroup.toOrderedCancelAddCommMonoid.{u1} Œ≤ _inst_6))))) (Module.toMulActionWithZero.{0, u1} Real Œ≤ Real.semiring (OrderedCancelAddCommMonoid.toAddCommMonoid.{u1} Œ≤ (OrderedAddCommGroup.toOrderedCancelAddCommMonoid.{u1} Œ≤ _inst_6)) _inst_7))] {f : E -> Œ≤} {a : E}, (IsLocalMax.{u2, u1} E Œ≤ _inst_2 (PartialOrder.toPreorder.{u1} Œ≤ (OrderedAddCommGroup.toPartialOrder.{u1} Œ≤ _inst_6)) f a) -> (ConcaveOn.{0, u2, u1} Real E Œ≤ Real.orderedSemiring (AddCommGroup.toAddCommMonoid.{u2} E _inst_1) (OrderedCancelAddCommMonoid.toOrderedAddCommMonoid.{u1} Œ≤ (OrderedAddCommGroup.toOrderedCancelAddCommMonoid.{u1} Œ≤ _inst_6)) (SMulZeroClass.toSMul.{0, u2} Real E (NegZeroClass.toZero.{u2} E (SubNegZeroMonoid.toNegZeroClass.{u2} E (SubtractionMonoid.toSubNegZeroMonoid.{u2} E (SubtractionCommMonoid.toSubtractionMonoid.{u2} E (AddCommGroup.toDivisionAddCommMonoid.{u2} E _inst_1))))) (SMulWithZero.toSMulZeroClass.{0, u2} Real E Real.instZeroReal (NegZeroClass.toZero.{u2} E (SubNegZeroMonoid.toNegZeroClass.{u2} E (SubtractionMonoid.toSubNegZeroMonoid.{u2} E (SubtractionCommMonoid.toSubtractionMonoid.{u2} E (AddCommGroup.toDivisionAddCommMonoid.{u2} E _inst_1))))) (MulActionWithZero.toSMulWithZero.{0, u2} Real E Real.instMonoidWithZeroReal (NegZeroClass.toZero.{u2} E (SubNegZeroMonoid.toNegZeroClass.{u2} E (SubtractionMonoid.toSubNegZeroMonoid.{u2} E (SubtractionCommMonoid.toSubtractionMonoid.{u2} E (AddCommGroup.toDivisionAddCommMonoid.{u2} E _inst_1))))) (Module.toMulActionWithZero.{0, u2} Real E Real.semiring (AddCommGroup.toAddCommMonoid.{u2} E _inst_1) _inst_3)))) (SMulZeroClass.toSMul.{0, u1} Real Œ≤ (NegZeroClass.toZero.{u1} Œ≤ (SubNegZeroMonoid.toNegZeroClass.{u1} Œ≤ (SubtractionMonoid.toSubNegZeroMonoid.{u1} Œ≤ (SubtractionCommMonoid.toSubtractionMonoid.{u1} Œ≤ (AddCommGroup.toDivisionAddCommMonoid.{u1} Œ≤ (OrderedAddCommGroup.toAddCommGroup.{u1} Œ≤ _inst_6)))))) (SMulWithZero.toSMulZeroClass.{0, u1} Real Œ≤ Real.instZeroReal (NegZeroClass.toZero.{u1} Œ≤ (SubNegZeroMonoid.toNegZeroClass.{u1} Œ≤ (SubtractionMonoid.toSubNegZeroMonoid.{u1} Œ≤ (SubtractionCommMonoid.toSubtractionMonoid.{u1} Œ≤ (AddCommGroup.toDivisionAddCommMonoid.{u1} Œ≤ (OrderedAddCommGroup.toAddCommGroup.{u1} Œ≤ _inst_6)))))) (MulActionWithZero.toSMulWithZero.{0, u1} Real Œ≤ Real.instMonoidWithZeroReal (NegZeroClass.toZero.{u1} Œ≤ (SubNegZeroMonoid.toNegZeroClass.{u1} Œ≤ (SubtractionMonoid.toSubNegZeroMonoid.{u1} Œ≤ (SubtractionCommMonoid.toSubtractionMonoid.{u1} Œ≤ (AddCommGroup.toDivisionAddCommMonoid.{u1} Œ≤ (OrderedAddCommGroup.toAddCommGroup.{u1} Œ≤ _inst_6)))))) (Module.toMulActionWithZero.{0, u1} Real Œ≤ Real.semiring (OrderedCancelAddCommMonoid.toAddCommMonoid.{u1} Œ≤ (OrderedAddCommGroup.toOrderedCancelAddCommMonoid.{u1} Œ≤ _inst_6)) _inst_7)))) (Set.univ.{u2} E) f) -> (forall (x : E), LE.le.{u1} Œ≤ (Preorder.toLE.{u1} Œ≤ (PartialOrder.toPreorder.{u1} Œ≤ (OrderedAddCommGroup.toPartialOrder.{u1} Œ≤ _inst_6))) (f x) (f a))
Case conversion may be inaccurate. Consider using '#align is_max_on.of_is_local_max_of_convex_univ IsMaxOn.of_isLocalMax_of_convex_univ‚Çì'. -/
/-- A local maximum of a concave function is a global maximum. -/
theorem IsMaxOn.of_isLocalMax_of_convex_univ {f : E ‚Üí Œ≤} {a : E} (h_local_max : IsLocalMax f a)
    (h_conc : ConcaveOn ‚Ñù univ f) : ‚àÄ x, f x ‚â§ f a :=
  @IsMinOn.of_isLocalMin_of_convex_univ _ Œ≤·µí·µà _ _ _ _ _ _ _ _ f a h_local_max h_conc
#align is_max_on.of_is_local_max_of_convex_univ IsMaxOn.of_isLocalMax_of_convex_univ

